  [4;36;1mSQL (101.0ms)[0m   [0;1mSET NAMES 'utf8'[0m
  [4;35;1mSQL (32.0ms)[0m   [0mSET SQL_AUTO_IS_NULL=0[0m
  [4;36;1mSQL (282.0ms)[0m   [0;1mSHOW TABLES[0m
  [4;35;1mSQL (1.0ms)[0m   [0mSHOW TABLES[0m
  [4;36;1mSQL (272.0ms)[0m   [0;1mSELECT version FROM schema_migrations[0m
  [4;35;1mSQL (19.0ms)[0m   [0mSHOW TABLES[0m
  [4;36;1mSQL (97.0ms)[0m   [0;1mSHOW FIELDS FROM `expense_items`[0m
  [4;35;1mSQL (25.0ms)[0m   [0mdescribe `expense_items`[0m
  [4;36;1mSQL (30.0ms)[0m   [0;1mSHOW KEYS FROM `expense_items`[0m
  [4;35;1mSQL (20.0ms)[0m   [0mSHOW FIELDS FROM `expense_types`[0m
  [4;36;1mSQL (17.0ms)[0m   [0;1mdescribe `expense_types`[0m
  [4;35;1mSQL (5.0ms)[0m   [0mSHOW KEYS FROM `expense_types`[0m
  [4;36;1mSQL (1.0ms)[0m   [0;1mSET NAMES 'utf8'[0m
  [4;35;1mSQL (1.0ms)[0m   [0mSET SQL_AUTO_IS_NULL=0[0m
  [4;36;1mSQL (24.0ms)[0m   [0;1mSHOW TABLES[0m
  [4;35;1mSQL (0.0ms)[0m   [0mSELECT version FROM schema_migrations[0m
Migrating to CreateTables (20100422121629)
  [4;36;1mSQL (0.0ms)[0m   [0;1mMysql::Error: Table 'expense_types' already exists: CREATE TABLE `expense_types` (`id` int(11) DEFAULT NULL auto_increment PRIMARY KEY, `description` varchar(255)) ENGINE=InnoDB[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mSET NAMES 'utf8'[0m
  [4;35;1mSQL (0.0ms)[0m   [0mSET SQL_AUTO_IS_NULL=0[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mSHOW TABLES[0m
  [4;35;1mSQL (156.0ms)[0m   [0mCREATE TABLE `schema_migrations` (`version` varchar(255) NOT NULL) ENGINE=InnoDB[0m
  [4;36;1mSQL (165.0ms)[0m   [0;1mCREATE UNIQUE INDEX `unique_schema_migrations` ON `schema_migrations` (`version`)[0m
  [4;35;1mSQL (8.0ms)[0m   [0mSHOW TABLES[0m
  [4;36;1mSQL (3.0ms)[0m   [0;1mSELECT version FROM schema_migrations[0m
Migrating to CreateTables (20100422121629)
  [4;35;1mSQL (52.0ms)[0m   [0mCREATE TABLE `expense_types` (`id` int(11) DEFAULT NULL auto_increment PRIMARY KEY, `description` varchar(255)) ENGINE=InnoDB[0m
  [4;36;1mSQL (64.0ms)[0m   [0;1mCREATE TABLE `expense_items` (`id` int(11) DEFAULT NULL auto_increment PRIMARY KEY, `expense_date` date, `expense_type_id` int(11), `expense_value` float, `expense_note` varchar(255)) ENGINE=InnoDB[0m
  [4;35;1mSQL (0.0ms)[0m   [0mMysql::Error: You have an error in your SQL syntax; check the manual that corresponds to your MySQL server version for the right syntax to use near 'REFERENCE expense_types(id)
 ON DELETE RESTRICT
 ON UPDATE RESTRIC' at line 4: 
 ALTER TABLE expense_items
 ADD CONSTRAINT expense_type_foreign_key 
 FOREIGN KEY expense_type_id
 REFERENCE expense_types(id)
 ON DELETE RESTRICT
 ON UPDATE RESTRICT 
 [0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mSET NAMES 'utf8'[0m
  [4;35;1mSQL (1.0ms)[0m   [0mSET SQL_AUTO_IS_NULL=0[0m
  [4;36;1mSQL (1.0ms)[0m   [0;1mSHOW TABLES[0m
  [4;35;1mSQL (0.0ms)[0m   [0mSELECT version FROM schema_migrations[0m
Migrating to CreateTables (20100422121629)
  [4;36;1mSQL (0.0ms)[0m   [0;1mMysql::Error: Table 'expense_types' already exists: CREATE TABLE `expense_types` (`id` int(11) DEFAULT NULL auto_increment PRIMARY KEY, `description` varchar(255)) ENGINE=InnoDB[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mSET NAMES 'utf8'[0m
  [4;35;1mSQL (1.0ms)[0m   [0mSET SQL_AUTO_IS_NULL=0[0m
  [4;36;1mSQL (1.0ms)[0m   [0;1mSHOW TABLES[0m
  [4;35;1mSQL (0.0ms)[0m   [0mSELECT version FROM schema_migrations[0m
Migrating to CreateTables (20100422121629)
  [4;36;1mSQL (0.0ms)[0m   [0;1mMysql::Error: Error on rename of '.\finance_development\expense_items' to '.\finance_development\#sql2-a0c-6' (errno: 152): 
 ALTER TABLE expense_items 
 DROP FOREIGN KEY expense_type_foreign_key
 [0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mSET NAMES 'utf8'[0m
  [4;35;1mSQL (0.0ms)[0m   [0mSET SQL_AUTO_IS_NULL=0[0m
  [4;36;1mSQL (40.0ms)[0m   [0;1mSHOW TABLES[0m
  [4;35;1mSQL (77.0ms)[0m   [0mCREATE TABLE `schema_migrations` (`version` varchar(255) NOT NULL) ENGINE=InnoDB[0m
  [4;36;1mSQL (147.0ms)[0m   [0;1mCREATE UNIQUE INDEX `unique_schema_migrations` ON `schema_migrations` (`version`)[0m
  [4;35;1mSQL (4.0ms)[0m   [0mSHOW TABLES[0m
  [4;36;1mSQL (1.0ms)[0m   [0;1mSHOW TABLES[0m
  [4;35;1mSQL (1.0ms)[0m   [0mSELECT version FROM schema_migrations[0m
  [4;36;1mSQL (26.0ms)[0m   [0;1mSHOW TABLES[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mSET NAMES 'utf8'[0m
  [4;35;1mSQL (0.0ms)[0m   [0mSET SQL_AUTO_IS_NULL=0[0m
  [4;36;1mSQL (1.0ms)[0m   [0;1mSHOW TABLES[0m
  [4;35;1mSQL (1.0ms)[0m   [0mSELECT version FROM schema_migrations[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mSHOW TABLES[0m
  [4;35;1mSQL (1.0ms)[0m   [0mSHOW TABLES[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mSELECT version FROM schema_migrations[0m
  [4;35;1mSQL (0.0ms)[0m   [0mSHOW TABLES[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mSET NAMES 'utf8'[0m
  [4;35;1mSQL (0.0ms)[0m   [0mSET SQL_AUTO_IS_NULL=0[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mSHOW TABLES[0m
  [4;35;1mSQL (0.0ms)[0m   [0mSELECT version FROM schema_migrations[0m
Migrating to CreateExpenseTypes (20100422124419)
  [4;36;1mSQL (82.0ms)[0m   [0;1mCREATE TABLE `expense_types` (`id` int(11) DEFAULT NULL auto_increment PRIMARY KEY, `created_at` datetime, `updated_at` datetime) ENGINE=InnoDB[0m
  [4;35;1mSQL (77.0ms)[0m   [0mINSERT INTO schema_migrations (version) VALUES ('20100422124419')[0m
  [4;36;1mSQL (1.0ms)[0m   [0;1mSHOW TABLES[0m
  [4;35;1mSQL (0.0ms)[0m   [0mSELECT version FROM schema_migrations[0m
  [4;36;1mSQL (1.0ms)[0m   [0;1mSHOW TABLES[0m
  [4;35;1mSQL (5.0ms)[0m   [0mSHOW FIELDS FROM `expense_types`[0m
  [4;36;1mSQL (8.0ms)[0m   [0;1mdescribe `expense_types`[0m
  [4;35;1mSQL (4.0ms)[0m   [0mSHOW KEYS FROM `expense_types`[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mSET NAMES 'utf8'[0m
  [4;35;1mSQL (0.0ms)[0m   [0mSET SQL_AUTO_IS_NULL=0[0m
  [4;36;1mSQL (1.0ms)[0m   [0;1mSHOW TABLES[0m
  [4;35;1mSQL (1.0ms)[0m   [0mSELECT version FROM schema_migrations[0m
  [4;36;1mSQL (1.0ms)[0m   [0;1mSHOW TABLES[0m
  [4;35;1mSQL (1.0ms)[0m   [0mSELECT version FROM schema_migrations[0m
Migrating to CreateExpenseTypes (20100422124419)
  [4;36;1mSQL (79.0ms)[0m   [0;1mDROP TABLE `expense_types`[0m
  [4;35;1mSQL (81.0ms)[0m   [0mDELETE FROM schema_migrations WHERE version = '20100422124419'[0m
  [4;36;1mSQL (1.0ms)[0m   [0;1mSHOW TABLES[0m
  [4;35;1mSQL (1.0ms)[0m   [0mSELECT version FROM schema_migrations[0m
  [4;36;1mSQL (1.0ms)[0m   [0;1mSHOW TABLES[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mSET NAMES 'utf8'[0m
  [4;35;1mSQL (0.0ms)[0m   [0mSET SQL_AUTO_IS_NULL=0[0m
  [4;36;1mSQL (1.0ms)[0m   [0;1mSHOW TABLES[0m
  [4;35;1mSQL (1.0ms)[0m   [0mSELECT version FROM schema_migrations[0m
Migrating to CreateExpenseTypes (20100422124419)
  [4;36;1mSQL (91.0ms)[0m   [0;1mCREATE TABLE `expense_types` (`id` int(11) DEFAULT NULL auto_increment PRIMARY KEY, `created_at` datetime, `updated_at` datetime) ENGINE=InnoDB[0m
  [4;35;1mSQL (13.0ms)[0m   [0mINSERT INTO schema_migrations (version) VALUES ('20100422124419')[0m
  [4;36;1mSQL (1.0ms)[0m   [0;1mSHOW TABLES[0m
  [4;35;1mSQL (1.0ms)[0m   [0mSELECT version FROM schema_migrations[0m
  [4;36;1mSQL (1.0ms)[0m   [0;1mSHOW TABLES[0m
  [4;35;1mSQL (6.0ms)[0m   [0mSHOW FIELDS FROM `expense_types`[0m
  [4;36;1mSQL (9.0ms)[0m   [0;1mdescribe `expense_types`[0m
  [4;35;1mSQL (5.0ms)[0m   [0mSHOW KEYS FROM `expense_types`[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mSET NAMES 'utf8'[0m
  [4;35;1mSQL (0.0ms)[0m   [0mSET SQL_AUTO_IS_NULL=0[0m
  [4;36;1mSQL (1.0ms)[0m   [0;1mSHOW TABLES[0m
  [4;35;1mSQL (0.0ms)[0m   [0mSELECT version FROM schema_migrations[0m
  [4;36;1mSQL (1.0ms)[0m   [0;1mSHOW TABLES[0m
  [4;35;1mSQL (0.0ms)[0m   [0mSELECT version FROM schema_migrations[0m
Migrating to CreateExpenseTypes (20100422124419)
  [4;36;1mSQL (40.0ms)[0m   [0;1mDROP TABLE `expense_types`[0m
  [4;35;1mSQL (18.0ms)[0m   [0mDELETE FROM schema_migrations WHERE version = '20100422124419'[0m
  [4;36;1mSQL (1.0ms)[0m   [0;1mSHOW TABLES[0m
  [4;35;1mSQL (1.0ms)[0m   [0mSELECT version FROM schema_migrations[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mSHOW TABLES[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mSET NAMES 'utf8'[0m
  [4;35;1mSQL (0.0ms)[0m   [0mSET SQL_AUTO_IS_NULL=0[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mSHOW TABLES[0m
  [4;35;1mSQL (0.0ms)[0m   [0mSELECT version FROM schema_migrations[0m
Migrating to CreateExpenseTypes (20100422124419)
  [4;36;1mSQL (77.0ms)[0m   [0;1mCREATE TABLE `expense_types` (`id` int(11) DEFAULT NULL auto_increment PRIMARY KEY, `created_at` datetime, `updated_at` datetime) ENGINE=InnoDB[0m
  [4;35;1mSQL (13.0ms)[0m   [0mINSERT INTO schema_migrations (version) VALUES ('20100422124419')[0m
  [4;36;1mSQL (1.0ms)[0m   [0;1mSHOW TABLES[0m
  [4;35;1mSQL (0.0ms)[0m   [0mSELECT version FROM schema_migrations[0m
  [4;36;1mSQL (1.0ms)[0m   [0;1mSHOW TABLES[0m
  [4;35;1mSQL (5.0ms)[0m   [0mSHOW FIELDS FROM `expense_types`[0m
  [4;36;1mSQL (9.0ms)[0m   [0;1mdescribe `expense_types`[0m
  [4;35;1mSQL (5.0ms)[0m   [0mSHOW KEYS FROM `expense_types`[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mSET NAMES 'utf8'[0m
  [4;35;1mSQL (0.0ms)[0m   [0mSET SQL_AUTO_IS_NULL=0[0m
  [4;36;1mSQL (1.0ms)[0m   [0;1mSHOW TABLES[0m
  [4;35;1mSQL (0.0ms)[0m   [0mSELECT version FROM schema_migrations[0m
  [4;36;1mSQL (1.0ms)[0m   [0;1mSHOW TABLES[0m
  [4;35;1mSQL (0.0ms)[0m   [0mSELECT version FROM schema_migrations[0m
Migrating to CreateExpenseTypes (20100422124419)
  [4;36;1mSQL (42.0ms)[0m   [0;1mDROP TABLE `expense_types`[0m
  [4;35;1mSQL (21.0ms)[0m   [0mDELETE FROM schema_migrations WHERE version = '20100422124419'[0m
  [4;36;1mSQL (1.0ms)[0m   [0;1mSHOW TABLES[0m
  [4;35;1mSQL (1.0ms)[0m   [0mSELECT version FROM schema_migrations[0m
  [4;36;1mSQL (1.0ms)[0m   [0;1mSHOW TABLES[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mSET NAMES 'utf8'[0m
  [4;35;1mSQL (0.0ms)[0m   [0mSET SQL_AUTO_IS_NULL=0[0m
  [4;36;1mSQL (1.0ms)[0m   [0;1mSHOW TABLES[0m
  [4;35;1mSQL (0.0ms)[0m   [0mSELECT version FROM schema_migrations[0m
Migrating to CreateExpenseTypes (20100422124419)
  [4;36;1mSQL (130.0ms)[0m   [0;1mCREATE TABLE `expense_types` (`id` int(11) DEFAULT NULL auto_increment PRIMARY KEY, `description` varchar(255) NOT NULL, `created_at` datetime, `updated_at` datetime) ENGINE=InnoDB[0m
  [4;35;1mSQL (13.0ms)[0m   [0mINSERT INTO schema_migrations (version) VALUES ('20100422124419')[0m
  [4;36;1mSQL (1.0ms)[0m   [0;1mSHOW TABLES[0m
  [4;35;1mSQL (0.0ms)[0m   [0mSELECT version FROM schema_migrations[0m
  [4;36;1mSQL (1.0ms)[0m   [0;1mSHOW TABLES[0m
  [4;35;1mSQL (29.0ms)[0m   [0mSHOW FIELDS FROM `expense_types`[0m
  [4;36;1mSQL (9.0ms)[0m   [0;1mdescribe `expense_types`[0m
  [4;35;1mSQL (4.0ms)[0m   [0mSHOW KEYS FROM `expense_types`[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mSET NAMES 'utf8'[0m
  [4;35;1mSQL (0.0ms)[0m   [0mSET SQL_AUTO_IS_NULL=0[0m
  [4;36;1mSQL (1.0ms)[0m   [0;1mSHOW TABLES[0m
  [4;35;1mSQL (1.0ms)[0m   [0mSELECT version FROM schema_migrations[0m
Migrating to CreateExpenseTypes (20100422124419)
Migrating to CreateExpenseItems (20100422125245)
  [4;36;1mSQL (0.0ms)[0m   [0;1mSET NAMES 'utf8'[0m
  [4;35;1mSQL (0.0ms)[0m   [0mSET SQL_AUTO_IS_NULL=0[0m
  [4;36;1mSQL (1.0ms)[0m   [0;1mSHOW TABLES[0m
  [4;35;1mSQL (0.0ms)[0m   [0mSELECT version FROM schema_migrations[0m
Migrating to CreateExpenseTypes (20100422124419)
Migrating to CreateExpenseItems (20100422125245)
  [4;36;1mSQL (136.0ms)[0m   [0;1mCREATE TABLE `expense_items` (`id` int(11) DEFAULT NULL auto_increment PRIMARY KEY, `date` date NOT NULL, `expense_type_id` int(11) NOT NULL, `value` float NOT NULL, `note` text, `created_at` datetime, `updated_at` datetime) ENGINE=InnoDB[0m
  [4;35;1mSQL (15.0ms)[0m   [0mINSERT INTO schema_migrations (version) VALUES ('20100422125245')[0m
  [4;36;1mSQL (1.0ms)[0m   [0;1mSHOW TABLES[0m
  [4;35;1mSQL (0.0ms)[0m   [0mSELECT version FROM schema_migrations[0m
  [4;36;1mSQL (1.0ms)[0m   [0;1mSHOW TABLES[0m
  [4;35;1mSQL (18.0ms)[0m   [0mSHOW FIELDS FROM `expense_items`[0m
  [4;36;1mSQL (22.0ms)[0m   [0;1mdescribe `expense_items`[0m
  [4;35;1mSQL (6.0ms)[0m   [0mSHOW KEYS FROM `expense_items`[0m
  [4;36;1mSQL (5.0ms)[0m   [0;1mSHOW FIELDS FROM `expense_types`[0m
  [4;35;1mSQL (8.0ms)[0m   [0mdescribe `expense_types`[0m
  [4;36;1mSQL (6.0ms)[0m   [0;1mSHOW KEYS FROM `expense_types`[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mSET NAMES 'utf8'[0m
  [4;35;1mSQL (0.0ms)[0m   [0mSET SQL_AUTO_IS_NULL=0[0m
  [4;36;1mSQL (1.0ms)[0m   [0;1mSHOW TABLES[0m
  [4;35;1mSQL (0.0ms)[0m   [0mSELECT version FROM schema_migrations[0m
Migrating to CreateExpenseTypes (20100422124419)
Migrating to CreateExpenseItems (20100422125245)
Migrating to AddExpensetypeForeignKey (20100422125532)
  [4;36;1mSQL (0.0ms)[0m   [0;1mMysql::Error: You have an error in your SQL syntax; check the manual that corresponds to your MySQL server version for the right syntax to use near 'REFENRECES expense_types(id)
 ON DELETE RESTRICT
 ON UPDATE RESTRI' at line 4: 
 ALTER TABLE expense_items
 ADD CONSTRAINT expense_type_foreign_key 
 FOREIGN KEY expense_type_id
 REFENRECES expense_types(id)
 ON DELETE RESTRICT
 ON UPDATE RESTRICT
 [0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mSET NAMES 'utf8'[0m
  [4;35;1mSQL (0.0ms)[0m   [0mSET SQL_AUTO_IS_NULL=0[0m
  [4;36;1mSQL (1.0ms)[0m   [0;1mSHOW TABLES[0m
  [4;35;1mSQL (0.0ms)[0m   [0mSELECT version FROM schema_migrations[0m
Migrating to CreateExpenseTypes (20100422124419)
Migrating to CreateExpenseItems (20100422125245)
Migrating to AddExpensetypeForeignKey (20100422125532)
  [4;36;1mSQL (0.0ms)[0m   [0;1mMysql::Error: You have an error in your SQL syntax; check the manual that corresponds to your MySQL server version for the right syntax to use near 'REFENRECES ON expense_types(id)
 ON DELETE RESTRICT
 ON UPDATE RES' at line 4: 
 ALTER TABLE expense_items
 ADD CONSTRAINT expense_type_foreign_key 
 FOREIGN KEY expense_type_id
 REFENRECES ON expense_types(id)
 ON DELETE RESTRICT
 ON UPDATE RESTRICT
 [0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mSET NAMES 'utf8'[0m
  [4;35;1mSQL (0.0ms)[0m   [0mSET SQL_AUTO_IS_NULL=0[0m
  [4;36;1mSQL (1.0ms)[0m   [0;1mSHOW TABLES[0m
  [4;35;1mSQL (0.0ms)[0m   [0mSELECT version FROM schema_migrations[0m
Migrating to CreateExpenseTypes (20100422124419)
Migrating to CreateExpenseItems (20100422125245)
Migrating to AddExpensetypeForeignKey (20100422125532)
  [4;36;1mSQL (0.0ms)[0m   [0;1mMysql::Error: You have an error in your SQL syntax; check the manual that corresponds to your MySQL server version for the right syntax to use near 'REFERENCES ON expense_types(id)
 ON DELETE RESTRICT
 ON UPDATE RES' at line 4: 
 ALTER TABLE expense_items
 ADD CONSTRAINT expense_type_foreign_key 
 FOREIGN KEY expense_type_id
 REFERENCES ON expense_types(id)
 ON DELETE RESTRICT
 ON UPDATE RESTRICT
 [0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mSET NAMES 'utf8'[0m
  [4;35;1mSQL (0.0ms)[0m   [0mSET SQL_AUTO_IS_NULL=0[0m
  [4;36;1mSQL (1.0ms)[0m   [0;1mSHOW TABLES[0m
  [4;35;1mSQL (0.0ms)[0m   [0mSELECT version FROM schema_migrations[0m
Migrating to CreateExpenseTypes (20100422124419)
Migrating to CreateExpenseItems (20100422125245)
Migrating to AddExpensetypeForeignKey (20100422125532)
  [4;36;1mSQL (0.0ms)[0m   [0;1mMysql::Error: You have an error in your SQL syntax; check the manual that corresponds to your MySQL server version for the right syntax to use near 'REFERENCES expense_types(id)
 ON DELETE RESTRICT
 ON UPDATE RESTRI' at line 4: 
 ALTER TABLE expense_items
 ADD CONSTRAINT expense_type_foreign_key 
 FOREIGN KEY expense_type_id
 REFERENCES expense_types(id)
 ON DELETE RESTRICT
 ON UPDATE RESTRICT
 [0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mSET NAMES 'utf8'[0m
  [4;35;1mSQL (1.0ms)[0m   [0mSET SQL_AUTO_IS_NULL=0[0m
  [4;36;1mSQL (1.0ms)[0m   [0;1mSHOW TABLES[0m
  [4;35;1mSQL (1.0ms)[0m   [0mSELECT version FROM schema_migrations[0m
Migrating to CreateExpenseTypes (20100422124419)
Migrating to CreateExpenseItems (20100422125245)
Migrating to AddExpensetypeForeignKey (20100422125532)
  [4;36;1mSQL (0.0ms)[0m   [0;1mMysql::Error: You have an error in your SQL syntax; check the manual that corresponds to your MySQL server version for the right syntax to use near 'REFERENCES expense_types(id)
 ON DELETE RESTRICT
 ON UPDATE RESTRI' at line 4: 
 ALTER TABLE expense_items
 ADD CONSTRAINT expense_type_foreign_key 
 FOREIGN KEY expense_type_id
 REFERENCES expense_types(id)
 ON DELETE RESTRICT
 ON UPDATE RESTRICT
 [0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mSET NAMES 'utf8'[0m
  [4;35;1mSQL (0.0ms)[0m   [0mSET SQL_AUTO_IS_NULL=0[0m
  [4;36;1mSQL (1.0ms)[0m   [0;1mSHOW TABLES[0m
  [4;35;1mSQL (0.0ms)[0m   [0mSELECT version FROM schema_migrations[0m
Migrating to CreateExpenseTypes (20100422124419)
Migrating to CreateExpenseItems (20100422125245)
Migrating to AddExpensetypeForeignKey (20100422125532)
  [4;36;1mSQL (0.0ms)[0m   [0;1mMysql::Error: You have an error in your SQL syntax; check the manual that corresponds to your MySQL server version for the right syntax to use near 'REFERENCES expense_types(id)
 ON DELETE RESTRICT
 ON UPDATE RESTRI' at line 4: 
 ALTER TABLE expense_items
 ADD CONSTRAINT expense_type_foreign_key 
 FOREIGN KEY expense_type_id
 REFERENCES expense_types(id)
 ON DELETE RESTRICT
 ON UPDATE RESTRICT
 [0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mSET NAMES 'utf8'[0m
  [4;35;1mSQL (0.0ms)[0m   [0mSET SQL_AUTO_IS_NULL=0[0m
  [4;36;1mSQL (1.0ms)[0m   [0;1mSHOW TABLES[0m
  [4;35;1mSQL (0.0ms)[0m   [0mSELECT version FROM schema_migrations[0m
Migrating to CreateExpenseTypes (20100422124419)
Migrating to CreateExpenseItems (20100422125245)
Migrating to AddExpensetypeForeignKey (20100422125532)
  [4;36;1mSQL (0.0ms)[0m   [0;1mMysql::Error: You have an error in your SQL syntax; check the manual that corresponds to your MySQL server version for the right syntax to use near 'REFERENCES expense_types(id)
 ON DELETE RESTRICT
 ON UPDATE RESTRI' at line 4: 
 ALTER TABLE expense_items
 ADD CONSTRAINT expense_type_foreign_key 
 FOREIGN KEY expense_type_id
 REFERENCES expense_types(id)
 ON DELETE RESTRICT
 ON UPDATE RESTRICT
 [0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mSET NAMES 'utf8'[0m
  [4;35;1mSQL (0.0ms)[0m   [0mSET SQL_AUTO_IS_NULL=0[0m
  [4;36;1mSQL (1.0ms)[0m   [0;1mSHOW TABLES[0m
  [4;35;1mSQL (0.0ms)[0m   [0mSELECT version FROM schema_migrations[0m
Migrating to CreateExpenseTypes (20100422124419)
Migrating to CreateExpenseItems (20100422125245)
Migrating to AddExpensetypeForeignKey (20100422125532)
  [4;36;1mSQL (269.0ms)[0m   [0;1m
 ALTER TABLE expense_items
 ADD CONSTRAINT expense_type_foreign_key 
 FOREIGN KEY (expense_type_id)
 REFERENCES expense_types(id)
 ON DELETE RESTRICT
 ON UPDATE RESTRICT
 [0m
  [4;35;1mSQL (16.0ms)[0m   [0mINSERT INTO schema_migrations (version) VALUES ('20100422125532')[0m
  [4;36;1mSQL (3.0ms)[0m   [0;1mSHOW TABLES[0m
  [4;35;1mSQL (0.0ms)[0m   [0mSELECT version FROM schema_migrations[0m
  [4;36;1mSQL (1.0ms)[0m   [0;1mSHOW TABLES[0m
  [4;35;1mSQL (4.0ms)[0m   [0mSHOW FIELDS FROM `expense_items`[0m
  [4;36;1mSQL (10.0ms)[0m   [0;1mdescribe `expense_items`[0m
  [4;35;1mSQL (5.0ms)[0m   [0mSHOW KEYS FROM `expense_items`[0m
  [4;36;1mSQL (3.0ms)[0m   [0;1mSHOW FIELDS FROM `expense_types`[0m
  [4;35;1mSQL (8.0ms)[0m   [0mdescribe `expense_types`[0m
  [4;36;1mSQL (4.0ms)[0m   [0;1mSHOW KEYS FROM `expense_types`[0m
  [4;36;1mSQL (11.0ms)[0m   [0;1mSET NAMES 'utf8'[0m
  [4;35;1mSQL (0.0ms)[0m   [0mSET SQL_AUTO_IS_NULL=0[0m
  [4;36;1mSQL (138.0ms)[0m   [0;1mSHOW TABLES[0m
  [4;35;1mSQL (39.0ms)[0m   [0mSELECT version FROM schema_migrations[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mSET NAMES 'utf8'[0m
  [4;35;1mSQL (0.0ms)[0m   [0mSET SQL_AUTO_IS_NULL=0[0m
  [4;36;1mSQL (1.0ms)[0m   [0;1mSHOW TABLES[0m
  [4;35;1mSQL (1.0ms)[0m   [0mSELECT version FROM schema_migrations[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mSET NAMES 'utf8'[0m
  [4;35;1mSQL (0.0ms)[0m   [0mSET SQL_AUTO_IS_NULL=0[0m
  [4;36;1mSQL (5.0ms)[0m   [0;1mDROP DATABASE IF EXISTS `finance_test`[0m
  [4;35;1mSQL (2.0ms)[0m   [0mCREATE DATABASE `finance_test` DEFAULT CHARACTER SET `utf8`[0m
  [4;36;1mSQL (1.0ms)[0m   [0;1mSET NAMES 'utf8'[0m
  [4;35;1mSQL (0.0ms)[0m   [0mSET SQL_AUTO_IS_NULL=0[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mSHOW TABLES[0m
  [4;35;1mSQL (216.0ms)[0m   [0mCREATE TABLE `expense_items` (`id` int(11) DEFAULT NULL auto_increment PRIMARY KEY, `date` date NOT NULL, `expense_type_id` int(11) NOT NULL, `value` float NOT NULL, `note` text, `created_at` datetime, `updated_at` datetime) ENGINE=InnoDB[0m
  [4;36;1mSQL (259.0ms)[0m   [0;1mCREATE INDEX `expense_type_foreign_key` ON `expense_items` (`expense_type_id`)[0m
  [4;35;1mSQL (3.0ms)[0m   [0mSHOW TABLES[0m
  [4;36;1mSQL (94.0ms)[0m   [0;1mCREATE TABLE `expense_types` (`id` int(11) DEFAULT NULL auto_increment PRIMARY KEY, `description` varchar(255) NOT NULL, `created_at` datetime, `updated_at` datetime) ENGINE=InnoDB[0m
  [4;35;1mSQL (1.0ms)[0m   [0mSHOW TABLES[0m
  [4;36;1mSQL (65.0ms)[0m   [0;1mCREATE TABLE `schema_migrations` (`version` varchar(255) NOT NULL) ENGINE=InnoDB[0m
  [4;35;1mSQL (465.0ms)[0m   [0mCREATE UNIQUE INDEX `unique_schema_migrations` ON `schema_migrations` (`version`)[0m
  [4;36;1mSQL (4.0ms)[0m   [0;1mSHOW TABLES[0m
  [4;35;1mSQL (1.0ms)[0m   [0mSELECT version FROM `schema_migrations`[0m
  [4;36;1mSQL (28.0ms)[0m   [0;1mINSERT INTO `schema_migrations` (version) VALUES ('20100422125532')[0m
  [4;35;1mSQL (16.0ms)[0m   [0mINSERT INTO `schema_migrations` (version) VALUES ('20100422124419')[0m
  [4;36;1mSQL (17.0ms)[0m   [0;1mINSERT INTO `schema_migrations` (version) VALUES ('20100422125245')[0m
  [4;36;1mSQL (25.0ms)[0m   [0;1mSET NAMES 'utf8'[0m
  [4;35;1mSQL (0.0ms)[0m   [0mSET SQL_AUTO_IS_NULL=0[0m
  [4;36;1mSQL (11.0ms)[0m   [0;1mSHOW TABLES[0m
  [4;35;1mSQL (1.0ms)[0m   [0mSELECT version FROM schema_migrations[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mSET NAMES 'utf8'[0m
  [4;35;1mSQL (1.0ms)[0m   [0mSET SQL_AUTO_IS_NULL=0[0m
  [4;36;1mSQL (170.0ms)[0m   [0;1mDROP DATABASE IF EXISTS `finance_test`[0m
  [4;35;1mSQL (3.0ms)[0m   [0mCREATE DATABASE `finance_test` DEFAULT CHARACTER SET `utf8`[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mSET NAMES 'utf8'[0m
  [4;35;1mSQL (0.0ms)[0m   [0mSET SQL_AUTO_IS_NULL=0[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mSHOW TABLES[0m
  [4;35;1mSQL (165.0ms)[0m   [0mCREATE TABLE `expense_items` (`id` int(11) DEFAULT NULL auto_increment PRIMARY KEY, `date` date NOT NULL, `expense_type_id` int(11) NOT NULL, `value` float NOT NULL, `note` text, `created_at` datetime, `updated_at` datetime) ENGINE=InnoDB[0m
  [4;36;1mSQL (280.0ms)[0m   [0;1mCREATE INDEX `expense_type_foreign_key` ON `expense_items` (`expense_type_id`)[0m
  [4;35;1mSQL (4.0ms)[0m   [0mSHOW TABLES[0m
  [4;36;1mSQL (105.0ms)[0m   [0;1mCREATE TABLE `expense_types` (`id` int(11) DEFAULT NULL auto_increment PRIMARY KEY, `description` varchar(255) NOT NULL, `created_at` datetime, `updated_at` datetime) ENGINE=InnoDB[0m
  [4;35;1mSQL (2.0ms)[0m   [0mSHOW TABLES[0m
  [4;36;1mSQL (64.0ms)[0m   [0;1mCREATE TABLE `schema_migrations` (`version` varchar(255) NOT NULL) ENGINE=InnoDB[0m
  [4;35;1mSQL (179.0ms)[0m   [0mCREATE UNIQUE INDEX `unique_schema_migrations` ON `schema_migrations` (`version`)[0m
  [4;36;1mSQL (6.0ms)[0m   [0;1mSHOW TABLES[0m
  [4;35;1mSQL (1.0ms)[0m   [0mSELECT version FROM `schema_migrations`[0m
  [4;36;1mSQL (36.0ms)[0m   [0;1mINSERT INTO `schema_migrations` (version) VALUES ('20100422125532')[0m
  [4;35;1mSQL (17.0ms)[0m   [0mINSERT INTO `schema_migrations` (version) VALUES ('20100422124419')[0m
  [4;36;1mSQL (16.0ms)[0m   [0;1mINSERT INTO `schema_migrations` (version) VALUES ('20100422125245')[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mSET NAMES 'utf8'[0m
  [4;35;1mSQL (1.0ms)[0m   [0mSET SQL_AUTO_IS_NULL=0[0m
  [4;36;1mSQL (1.0ms)[0m   [0;1mSHOW TABLES[0m
  [4;35;1mSQL (1.0ms)[0m   [0mSELECT version FROM schema_migrations[0m
  [4;36;1mSQL (1.0ms)[0m   [0;1mSHOW TABLES[0m
  [4;35;1mSQL (0.0ms)[0m   [0mSELECT version FROM schema_migrations[0m
Migrating to AddExpensetypeForeignKey (20100422125532)
  [4;36;1mSQL (409.0ms)[0m   [0;1m
 ALTER TABLE expense_items 
 DROP FOREIGN KEY expense_type_foreign_key
 [0m
  [4;35;1mSQL (55.0ms)[0m   [0mDELETE FROM schema_migrations WHERE version = '20100422125532'[0m
Migrating to CreateExpenseItems (20100422125245)
  [4;36;1mSQL (42.0ms)[0m   [0;1mDROP TABLE `expense_items`[0m
  [4;35;1mSQL (18.0ms)[0m   [0mDELETE FROM schema_migrations WHERE version = '20100422125245'[0m
Migrating to CreateExpenseTypes (20100422124419)
  [4;36;1mSQL (73.0ms)[0m   [0;1mDROP TABLE `expense_types`[0m
  [4;35;1mSQL (21.0ms)[0m   [0mDELETE FROM schema_migrations WHERE version = '20100422124419'[0m
  [4;36;1mSQL (1.0ms)[0m   [0;1mSHOW TABLES[0m
  [4;35;1mSQL (0.0ms)[0m   [0mSELECT version FROM schema_migrations[0m
  [4;36;1mSQL (1.0ms)[0m   [0;1mSHOW TABLES[0m
  [4;36;1mSQL (1.0ms)[0m   [0;1mSET NAMES 'utf8'[0m
  [4;35;1mSQL (0.0ms)[0m   [0mSET SQL_AUTO_IS_NULL=0[0m
  [4;36;1mSQL (1.0ms)[0m   [0;1mSHOW TABLES[0m
  [4;35;1mSQL (0.0ms)[0m   [0mSELECT version FROM schema_migrations[0m
Migrating to CreateExpenseTypes (20100422124419)
  [4;36;1mSQL (121.0ms)[0m   [0;1mCREATE TABLE `expense_types` (`id` int(11) DEFAULT NULL auto_increment PRIMARY KEY, `description` varchar(255) NOT NULL, `created_at` datetime, `updated_at` datetime) ENGINE=InnoDB[0m
  [4;35;1mSQL (13.0ms)[0m   [0mINSERT INTO schema_migrations (version) VALUES ('20100422124419')[0m
Migrating to CreateExpenseItems (20100422125245)
  [4;36;1mSQL (57.0ms)[0m   [0;1mCREATE TABLE `expense_items` (`id` int(11) DEFAULT NULL auto_increment PRIMARY KEY, `date` date NOT NULL, `expense_type_id` int(11) NOT NULL, `value` float NOT NULL, `note` text, `created_at` datetime, `updated_at` datetime) ENGINE=InnoDB[0m
  [4;35;1mSQL (13.0ms)[0m   [0mINSERT INTO schema_migrations (version) VALUES ('20100422125245')[0m
Migrating to AddExpensetypeForeignKey (20100422125532)
  [4;36;1mSQL (297.0ms)[0m   [0;1m
 ALTER TABLE expense_items
 ADD CONSTRAINT expense_type_foreign_key 
 FOREIGN KEY (expense_type_id)
 REFERENCES expense_types(id)
 ON DELETE RESTRICT
 ON UPDATE RESTRICT
 [0m
  [4;35;1mSQL (21.0ms)[0m   [0mINSERT INTO schema_migrations (version) VALUES ('20100422125532')[0m
  [4;36;1mSQL (3.0ms)[0m   [0;1mSHOW TABLES[0m
  [4;35;1mSQL (1.0ms)[0m   [0mSELECT version FROM schema_migrations[0m
  [4;36;1mSQL (1.0ms)[0m   [0;1mSHOW TABLES[0m
  [4;35;1mSQL (4.0ms)[0m   [0mSHOW FIELDS FROM `expense_items`[0m
  [4;36;1mSQL (8.0ms)[0m   [0;1mdescribe `expense_items`[0m
  [4;35;1mSQL (41.0ms)[0m   [0mSHOW KEYS FROM `expense_items`[0m
  [4;36;1mSQL (7.0ms)[0m   [0;1mSHOW FIELDS FROM `expense_types`[0m
  [4;35;1mSQL (15.0ms)[0m   [0mdescribe `expense_types`[0m
  [4;36;1mSQL (5.0ms)[0m   [0;1mSHOW KEYS FROM `expense_types`[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mSET NAMES 'utf8'[0m
  [4;35;1mSQL (0.0ms)[0m   [0mSET SQL_AUTO_IS_NULL=0[0m
  [4;36;1mSQL (1.0ms)[0m   [0;1mSHOW TABLES[0m
  [4;35;1mSQL (0.0ms)[0m   [0mSELECT version FROM schema_migrations[0m
  [4;36;1mSQL (1.0ms)[0m   [0;1mSHOW TABLES[0m
  [4;35;1mSQL (0.0ms)[0m   [0mSELECT version FROM schema_migrations[0m
Migrating to AddExpensetypeForeignKey (20100422125532)
  [4;36;1mSQL (354.0ms)[0m   [0;1m
 ALTER TABLE expense_items 
 DROP FOREIGN KEY expense_type_foreign_key
 [0m
  [4;35;1mSQL (17.0ms)[0m   [0mDELETE FROM schema_migrations WHERE version = '20100422125532'[0m
Migrating to CreateExpenseItems (20100422125245)
  [4;36;1mSQL (20.0ms)[0m   [0;1mDROP TABLE `expense_items`[0m
  [4;35;1mSQL (28.0ms)[0m   [0mDELETE FROM schema_migrations WHERE version = '20100422125245'[0m
Migrating to CreateExpenseTypes (20100422124419)
  [4;36;1mSQL (19.0ms)[0m   [0;1mDROP TABLE `expense_types`[0m
  [4;35;1mSQL (23.0ms)[0m   [0mDELETE FROM schema_migrations WHERE version = '20100422124419'[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mSHOW TABLES[0m
  [4;35;1mSQL (0.0ms)[0m   [0mSELECT version FROM schema_migrations[0m
  [4;36;1mSQL (1.0ms)[0m   [0;1mSHOW TABLES[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mSET NAMES 'utf8'[0m
  [4;35;1mSQL (0.0ms)[0m   [0mSET SQL_AUTO_IS_NULL=0[0m
  [4;36;1mSQL (1.0ms)[0m   [0;1mSHOW TABLES[0m
  [4;35;1mSQL (0.0ms)[0m   [0mSELECT version FROM schema_migrations[0m
Migrating to CreateExpenseTypes (20100422124419)
  [4;36;1mSQL (108.0ms)[0m   [0;1mCREATE TABLE `expense_types` (`id` int(11) DEFAULT NULL auto_increment PRIMARY KEY, `description` varchar(255) NOT NULL, `created_at` datetime, `updated_at` datetime) ENGINE=InnoDB[0m
  [4;35;1mSQL (29.0ms)[0m   [0mINSERT INTO schema_migrations (version) VALUES ('20100422124419')[0m
Migrating to CreateExpenseItems (20100422125245)
  [4;36;1mSQL (67.0ms)[0m   [0;1mCREATE TABLE `expense_items` (`id` int(11) DEFAULT NULL auto_increment PRIMARY KEY, `date` date NOT NULL, `expense_type_id` int(11) NOT NULL, `value` float NOT NULL, `note` text, `created_at` datetime, `updated_at` datetime) ENGINE=InnoDB[0m
  [4;35;1mSQL (16.0ms)[0m   [0mINSERT INTO schema_migrations (version) VALUES ('20100422125245')[0m
Migrating to AddExpensetypeForeignKey (20100422125532)
  [4;36;1mSQL (470.0ms)[0m   [0;1m
 ALTER TABLE expense_items
 ADD CONSTRAINT expense_type_foreign_key 
 FOREIGN KEY (expense_type_id)
 REFERENCES expense_types(id)
 ON DELETE RESTRICT
 ON UPDATE RESTRICT
 [0m
  [4;35;1mSQL (46.0ms)[0m   [0mINSERT INTO schema_migrations (version) VALUES ('20100422125532')[0m
  [4;36;1mSQL (3.0ms)[0m   [0;1mSHOW TABLES[0m
  [4;35;1mSQL (1.0ms)[0m   [0mSELECT version FROM schema_migrations[0m
  [4;36;1mSQL (1.0ms)[0m   [0;1mSHOW TABLES[0m
  [4;35;1mSQL (5.0ms)[0m   [0mSHOW FIELDS FROM `expense_items`[0m
  [4;36;1mSQL (34.0ms)[0m   [0;1mdescribe `expense_items`[0m
  [4;35;1mSQL (5.0ms)[0m   [0mSHOW KEYS FROM `expense_items`[0m
  [4;36;1mSQL (4.0ms)[0m   [0;1mSHOW FIELDS FROM `expense_types`[0m
  [4;35;1mSQL (8.0ms)[0m   [0mdescribe `expense_types`[0m
  [4;36;1mSQL (4.0ms)[0m   [0;1mSHOW KEYS FROM `expense_types`[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mSET NAMES 'utf8'[0m
  [4;35;1mSQL (1.0ms)[0m   [0mSET SQL_AUTO_IS_NULL=0[0m
  [4;36;1mSQL (1.0ms)[0m   [0;1mSHOW TABLES[0m
  [4;35;1mSQL (1.0ms)[0m   [0mSELECT version FROM schema_migrations[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mSET NAMES 'utf8'[0m
  [4;35;1mSQL (0.0ms)[0m   [0mSET SQL_AUTO_IS_NULL=0[0m
  [4;36;1mSQL (2679.2ms)[0m   [0;1mDROP DATABASE IF EXISTS `finance_test`[0m
  [4;35;1mSQL (3.0ms)[0m   [0mCREATE DATABASE `finance_test` DEFAULT CHARACTER SET `utf8`[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mSET NAMES 'utf8'[0m
  [4;35;1mSQL (0.0ms)[0m   [0mSET SQL_AUTO_IS_NULL=0[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mSHOW TABLES[0m
  [4;35;1mSQL (157.0ms)[0m   [0mCREATE TABLE `expense_items` (`id` int(11) DEFAULT NULL auto_increment PRIMARY KEY, `date` date NOT NULL, `expense_type_id` int(11) NOT NULL, `value` float NOT NULL, `note` text, `created_at` datetime, `updated_at` datetime) ENGINE=InnoDB[0m
  [4;36;1mSQL (182.0ms)[0m   [0;1mCREATE INDEX `expense_type_foreign_key` ON `expense_items` (`expense_type_id`)[0m
  [4;35;1mSQL (2.0ms)[0m   [0mSHOW TABLES[0m
  [4;36;1mSQL (70.0ms)[0m   [0;1mCREATE TABLE `expense_types` (`id` int(11) DEFAULT NULL auto_increment PRIMARY KEY, `description` varchar(255) NOT NULL, `created_at` datetime, `updated_at` datetime) ENGINE=InnoDB[0m
  [4;35;1mSQL (1.0ms)[0m   [0mSHOW TABLES[0m
  [4;36;1mSQL (215.0ms)[0m   [0;1mCREATE TABLE `schema_migrations` (`version` varchar(255) NOT NULL) ENGINE=InnoDB[0m
  [4;35;1mSQL (258.0ms)[0m   [0mCREATE UNIQUE INDEX `unique_schema_migrations` ON `schema_migrations` (`version`)[0m
  [4;36;1mSQL (4.0ms)[0m   [0;1mSHOW TABLES[0m
  [4;35;1mSQL (1.0ms)[0m   [0mSELECT version FROM `schema_migrations`[0m
  [4;36;1mSQL (36.0ms)[0m   [0;1mINSERT INTO `schema_migrations` (version) VALUES ('20100422125532')[0m
  [4;35;1mSQL (57.0ms)[0m   [0mINSERT INTO `schema_migrations` (version) VALUES ('20100422124419')[0m
  [4;36;1mSQL (16.0ms)[0m   [0;1mINSERT INTO `schema_migrations` (version) VALUES ('20100422125245')[0m
  [4;36;1mSQL (1.0ms)[0m   [0;1mSET NAMES 'utf8'[0m
  [4;35;1mSQL (0.0ms)[0m   [0mSET SQL_AUTO_IS_NULL=0[0m
  [4;36;1mSQL (1.0ms)[0m   [0;1mSHOW TABLES[0m
  [4;35;1mSQL (0.0ms)[0m   [0mSELECT version FROM schema_migrations[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mSET NAMES 'utf8'[0m
  [4;35;1mSQL (0.0ms)[0m   [0mSET SQL_AUTO_IS_NULL=0[0m
  [4;36;1mSQL (111.0ms)[0m   [0;1mDROP DATABASE IF EXISTS `finance_test`[0m
  [4;35;1mSQL (3.0ms)[0m   [0mCREATE DATABASE `finance_test` DEFAULT CHARACTER SET `utf8`[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mSET NAMES 'utf8'[0m
  [4;35;1mSQL (0.0ms)[0m   [0mSET SQL_AUTO_IS_NULL=0[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mSHOW TABLES[0m
  [4;35;1mSQL (96.0ms)[0m   [0mCREATE TABLE `expense_items` (`id` int(11) DEFAULT NULL auto_increment PRIMARY KEY, `date` date NOT NULL, `expense_type_id` int(11) NOT NULL, `value` float NOT NULL, `note` text, `created_at` datetime, `updated_at` datetime) ENGINE=InnoDB[0m
  [4;36;1mSQL (217.0ms)[0m   [0;1mCREATE INDEX `expense_type_foreign_key` ON `expense_items` (`expense_type_id`)[0m
  [4;35;1mSQL (3.0ms)[0m   [0mSHOW TABLES[0m
  [4;36;1mSQL (89.0ms)[0m   [0;1mCREATE TABLE `expense_types` (`id` int(11) DEFAULT NULL auto_increment PRIMARY KEY, `description` varchar(255) NOT NULL, `created_at` datetime, `updated_at` datetime) ENGINE=InnoDB[0m
  [4;35;1mSQL (1.0ms)[0m   [0mSHOW TABLES[0m
  [4;36;1mSQL (102.0ms)[0m   [0;1mCREATE TABLE `schema_migrations` (`version` varchar(255) NOT NULL) ENGINE=InnoDB[0m
  [4;35;1mSQL (209.0ms)[0m   [0mCREATE UNIQUE INDEX `unique_schema_migrations` ON `schema_migrations` (`version`)[0m
  [4;36;1mSQL (7.0ms)[0m   [0;1mSHOW TABLES[0m
  [4;35;1mSQL (1.0ms)[0m   [0mSELECT version FROM `schema_migrations`[0m
  [4;36;1mSQL (9.0ms)[0m   [0;1mINSERT INTO `schema_migrations` (version) VALUES ('20100422125532')[0m
  [4;35;1mSQL (16.0ms)[0m   [0mINSERT INTO `schema_migrations` (version) VALUES ('20100422124419')[0m
  [4;36;1mSQL (16.0ms)[0m   [0;1mINSERT INTO `schema_migrations` (version) VALUES ('20100422125245')[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mSET NAMES 'utf8'[0m
  [4;35;1mSQL (0.0ms)[0m   [0mSET SQL_AUTO_IS_NULL=0[0m
  [4;36;1mSQL (481.0ms)[0m   [0;1mSHOW TABLES[0m
  [4;35;1mSQL (146.0ms)[0m   [0mSELECT version FROM schema_migrations[0m
  [4;36;1mSQL (1.0ms)[0m   [0;1mSET NAMES 'utf8'[0m
  [4;35;1mSQL (0.0ms)[0m   [0mSET SQL_AUTO_IS_NULL=0[0m
  [4;36;1mSQL (699.0ms)[0m   [0;1mDROP DATABASE IF EXISTS `finance_test`[0m
  [4;35;1mSQL (44.0ms)[0m   [0mCREATE DATABASE `finance_test` DEFAULT CHARACTER SET `utf8`[0m
  [4;36;1mSQL (1.0ms)[0m   [0;1mSET NAMES 'utf8'[0m
  [4;35;1mSQL (0.0ms)[0m   [0mSET SQL_AUTO_IS_NULL=0[0m
  [4;36;1mSQL (45.0ms)[0m   [0;1mSHOW TABLES[0m
  [4;35;1mSQL (287.0ms)[0m   [0mCREATE TABLE `expense_items` (`id` int(11) DEFAULT NULL auto_increment PRIMARY KEY, `date` date NOT NULL, `expense_type_id` int(11) NOT NULL, `value` float NOT NULL, `note` text, `created_at` datetime, `updated_at` datetime) ENGINE=InnoDB[0m
  [4;36;1mSQL (328.0ms)[0m   [0;1mCREATE INDEX `expense_type_foreign_key` ON `expense_items` (`expense_type_id`)[0m
  [4;35;1mSQL (5.0ms)[0m   [0mSHOW TABLES[0m
  [4;36;1mSQL (182.0ms)[0m   [0;1mCREATE TABLE `expense_types` (`id` int(11) DEFAULT NULL auto_increment PRIMARY KEY, `description` varchar(255) NOT NULL, `created_at` datetime, `updated_at` datetime) ENGINE=InnoDB[0m
  [4;35;1mSQL (1.0ms)[0m   [0mSHOW TABLES[0m
  [4;36;1mSQL (147.0ms)[0m   [0;1mCREATE TABLE `schema_migrations` (`version` varchar(255) NOT NULL) ENGINE=InnoDB[0m
  [4;35;1mSQL (183.0ms)[0m   [0mCREATE UNIQUE INDEX `unique_schema_migrations` ON `schema_migrations` (`version`)[0m
  [4;36;1mSQL (18.0ms)[0m   [0;1mSHOW TABLES[0m
  [4;35;1mSQL (1.0ms)[0m   [0mSELECT version FROM `schema_migrations`[0m
  [4;36;1mSQL (47.0ms)[0m   [0;1mINSERT INTO `schema_migrations` (version) VALUES ('20100422125532')[0m
  [4;35;1mSQL (21.0ms)[0m   [0mINSERT INTO `schema_migrations` (version) VALUES ('20100422124419')[0m
  [4;36;1mSQL (16.0ms)[0m   [0;1mINSERT INTO `schema_migrations` (version) VALUES ('20100422125245')[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mSET NAMES 'utf8'[0m
  [4;35;1mSQL (0.0ms)[0m   [0mSET SQL_AUTO_IS_NULL=0[0m
  [4;36;1mSQL (8.0ms)[0m   [0;1mSHOW TABLES[0m
  [4;35;1mSQL (1.0ms)[0m   [0mSELECT version FROM schema_migrations[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mSET NAMES 'utf8'[0m
  [4;35;1mSQL (0.0ms)[0m   [0mSET SQL_AUTO_IS_NULL=0[0m
  [4;36;1mSQL (336.0ms)[0m   [0;1mDROP DATABASE IF EXISTS `finance_test`[0m
  [4;35;1mSQL (4.0ms)[0m   [0mCREATE DATABASE `finance_test` DEFAULT CHARACTER SET `utf8`[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mSET NAMES 'utf8'[0m
  [4;35;1mSQL (0.0ms)[0m   [0mSET SQL_AUTO_IS_NULL=0[0m
  [4;36;1mSQL (54.0ms)[0m   [0;1mSHOW TABLES[0m
  [4;35;1mSQL (202.0ms)[0m   [0mCREATE TABLE `expense_items` (`id` int(11) DEFAULT NULL auto_increment PRIMARY KEY, `date` date NOT NULL, `expense_type_id` int(11) NOT NULL, `value` float NOT NULL, `note` text, `created_at` datetime, `updated_at` datetime) ENGINE=InnoDB[0m
  [4;36;1mSQL (314.0ms)[0m   [0;1mCREATE INDEX `expense_type_foreign_key` ON `expense_items` (`expense_type_id`)[0m
  [4;35;1mSQL (4.0ms)[0m   [0mSHOW TABLES[0m
  [4;36;1mSQL (102.0ms)[0m   [0;1mCREATE TABLE `expense_types` (`id` int(11) DEFAULT NULL auto_increment PRIMARY KEY, `description` varchar(255) NOT NULL, `created_at` datetime, `updated_at` datetime) ENGINE=InnoDB[0m
  [4;35;1mSQL (1.0ms)[0m   [0mSHOW TABLES[0m
  [4;36;1mSQL (93.0ms)[0m   [0;1mCREATE TABLE `schema_migrations` (`version` varchar(255) NOT NULL) ENGINE=InnoDB[0m
  [4;35;1mSQL (261.0ms)[0m   [0mCREATE UNIQUE INDEX `unique_schema_migrations` ON `schema_migrations` (`version`)[0m
  [4;36;1mSQL (8.0ms)[0m   [0;1mSHOW TABLES[0m
  [4;35;1mSQL (1.0ms)[0m   [0mSELECT version FROM `schema_migrations`[0m
  [4;36;1mSQL (30.0ms)[0m   [0;1mINSERT INTO `schema_migrations` (version) VALUES ('20100422125532')[0m
  [4;35;1mSQL (16.0ms)[0m   [0mINSERT INTO `schema_migrations` (version) VALUES ('20100422124419')[0m
  [4;36;1mSQL (16.0ms)[0m   [0;1mINSERT INTO `schema_migrations` (version) VALUES ('20100422125245')[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mSET NAMES 'utf8'[0m
  [4;35;1mSQL (0.0ms)[0m   [0mSET SQL_AUTO_IS_NULL=0[0m
  [4;36;1mSQL (43.0ms)[0m   [0;1mSHOW TABLES[0m
  [4;35;1mSQL (1.0ms)[0m   [0mSELECT version FROM schema_migrations[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mSET NAMES 'utf8'[0m
  [4;35;1mSQL (0.0ms)[0m   [0mSET SQL_AUTO_IS_NULL=0[0m
  [4;36;1mSQL (274.0ms)[0m   [0;1mDROP DATABASE IF EXISTS `finance_test`[0m
  [4;35;1mSQL (3.0ms)[0m   [0mCREATE DATABASE `finance_test` DEFAULT CHARACTER SET `utf8`[0m
  [4;36;1mSQL (1.0ms)[0m   [0;1mSET NAMES 'utf8'[0m
  [4;35;1mSQL (0.0ms)[0m   [0mSET SQL_AUTO_IS_NULL=0[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mSHOW TABLES[0m
  [4;35;1mSQL (101.0ms)[0m   [0mCREATE TABLE `expense_items` (`id` int(11) DEFAULT NULL auto_increment PRIMARY KEY, `date` date NOT NULL, `expense_type_id` int(11) NOT NULL, `value` float NOT NULL, `note` text, `created_at` datetime, `updated_at` datetime) ENGINE=InnoDB[0m
  [4;36;1mSQL (275.0ms)[0m   [0;1mCREATE INDEX `expense_type_foreign_key` ON `expense_items` (`expense_type_id`)[0m
  [4;35;1mSQL (5.0ms)[0m   [0mSHOW TABLES[0m
  [4;36;1mSQL (159.0ms)[0m   [0;1mCREATE TABLE `expense_types` (`id` int(11) DEFAULT NULL auto_increment PRIMARY KEY, `description` varchar(255) NOT NULL, `created_at` datetime, `updated_at` datetime) ENGINE=InnoDB[0m
  [4;35;1mSQL (2.0ms)[0m   [0mSHOW TABLES[0m
  [4;36;1mSQL (131.0ms)[0m   [0;1mCREATE TABLE `schema_migrations` (`version` varchar(255) NOT NULL) ENGINE=InnoDB[0m
  [4;35;1mSQL (225.0ms)[0m   [0mCREATE UNIQUE INDEX `unique_schema_migrations` ON `schema_migrations` (`version`)[0m
  [4;36;1mSQL (8.0ms)[0m   [0;1mSHOW TABLES[0m
  [4;35;1mSQL (1.0ms)[0m   [0mSELECT version FROM `schema_migrations`[0m
  [4;36;1mSQL (68.0ms)[0m   [0;1mINSERT INTO `schema_migrations` (version) VALUES ('20100422125532')[0m
  [4;35;1mSQL (16.0ms)[0m   [0mINSERT INTO `schema_migrations` (version) VALUES ('20100422124419')[0m
  [4;36;1mSQL (26.0ms)[0m   [0;1mINSERT INTO `schema_migrations` (version) VALUES ('20100422125245')[0m
  [4;36;1mSQL (1.0ms)[0m   [0;1mSET NAMES 'utf8'[0m
  [4;35;1mSQL (0.0ms)[0m   [0mSET SQL_AUTO_IS_NULL=0[0m


Processing ApplicationController#new (for 127.0.0.1 at 2010-04-25 21:53:31) [GET]

SyntaxError (d:/haipeng/ror/finance/app/controllers/expense_controller.rb:26: syntax error, unexpected ':', expecting kEND
d:/haipeng/ror/finance/app/controllers/expense_controller.rb:33: syntax error, unexpected tIDENTIFIER, expecting ']'
       last_day_of_month(DAte.today.year, Date.today.mon)]
                        ^
d:/haipeng/ror/finance/app/controllers/expense_controller.rb:33: syntax error, unexpected ']', expecting kEND
d:/haipeng/ror/finance/app/controllers/expense_controller.rb:44: syntax error, unexpected $end, expecting kEND):
  

Rendered rescues/_trace (48.0ms)
Rendered rescues/_request_and_response (20.0ms)
Rendering rescues/layout (internal_server_error)
  [4;36;1mSQL (1.0ms)[0m   [0;1mSET NAMES 'utf8'[0m
  [4;35;1mSQL (0.0ms)[0m   [0mSET SQL_AUTO_IS_NULL=0[0m


Processing ExpenseController#new (for 127.0.0.1 at 2010-04-25 21:54:52) [GET]
Rendering template within layouts/expense
Rendering expense/new
Completed in 3368ms (View: 3366, DB: 1) | 200 OK [http://localhost/expense/new]
  [4;36;1mSQL (0.0ms)[0m   [0;1mSET NAMES 'utf8'[0m
  [4;35;1mSQL (0.0ms)[0m   [0mSET SQL_AUTO_IS_NULL=0[0m


Processing ExpenseController#new (for 127.0.0.1 at 2010-04-25 21:58:22) [GET]
Rendering template within layouts/expense
Rendering expense/new
Completed in 16ms (View: 12, DB: 0) | 200 OK [http://localhost/expense/new]
  [4;36;1mSQL (0.0ms)[0m   [0;1mSET NAMES 'utf8'[0m
  [4;35;1mSQL (0.0ms)[0m   [0mSET SQL_AUTO_IS_NULL=0[0m


Processing ExpenseController#new_type (for 127.0.0.1 at 2010-04-25 22:04:56) [GET]
Rendering template within layouts/expense
Rendering expense/new_type
ERROR: compiling _run_erb_app47views47expense47new_type46html46erb RAISED compile error
d:/haipeng/ror/finance/app/views/expense/new_type.html.erb:2: syntax error, unexpected ':', expecting ')'
...cat(( form_for :expense_type :url => { :action => :create_ty...
                              ^
d:/haipeng/ror/finance/app/views/expense/new_type.html.erb:2: syntax error, unexpected kDO, expecting ')'
...{ :action => :create_type } do |form| ).to_s); @output_buffe...
                              ^
d:/haipeng/ror/finance/app/views/expense/new_type.html.erb:8: syntax error, unexpected kEND
..."; @output_buffer.concat(( end ).to_s); @output_buffer.conca...
                              ^
Function body:           def _run_erb_app47views47expense47new_type46html46erb(local_assigns)
            old_output_buffer = output_buffer;;@output_buffer = '';  __in_erb_template=true ; @output_buffer.concat "<div>\n"
@output_buffer.concat "  "; @output_buffer.concat(( form_for :expense_type :url => { :action => :create_type } do |form| ).to_s); @output_buffer.concat "\n"
@output_buffer.concat "    <p>\n"
@output_buffer.concat "    "; @output_buffer.concat(( form.text_field 'description' ).to_s); @output_buffer.concat "\n"
@output_buffer.concat "    </p>\n"
@output_buffer.concat "\n"
@output_buffer.concat "    "; @output_buffer.concat(( submit_tag ).to_s); @output_buffer.concat "\n"
@output_buffer.concat "  "; @output_buffer.concat(( end ).to_s); @output_buffer.concat "\n"
@output_buffer.concat "</div>\n"
@output_buffer
          ensure
            self.output_buffer = old_output_buffer
          end
Backtrace: d:/haipeng/ror/finance/app/views/expense/new_type.html.erb:13:in `compile!'
d:/Ruby/lib/ruby/gems/1.8/gems/actionpack-2.3.5/lib/action_view/renderable.rb:61:in `compile'
d:/Ruby/lib/ruby/gems/1.8/gems/actionpack-2.3.5/lib/action_view/renderable.rb:28:in `render'
d:/Ruby/lib/ruby/gems/1.8/gems/actionpack-2.3.5/lib/action_view/template.rb:205:in `render_template'
d:/Ruby/lib/ruby/gems/1.8/gems/actionpack-2.3.5/lib/action_view/base.rb:265:in `render'
d:/Ruby/lib/ruby/gems/1.8/gems/actionpack-2.3.5/lib/action_view/base.rb:348:in `_render_with_layout'
d:/Ruby/lib/ruby/gems/1.8/gems/actionpack-2.3.5/lib/action_view/base.rb:262:in `render'
d:/Ruby/lib/ruby/gems/1.8/gems/actionpack-2.3.5/lib/action_controller/base.rb:1250:in `render_for_file'
d:/Ruby/lib/ruby/gems/1.8/gems/actionpack-2.3.5/lib/action_controller/base.rb:945:in `render_without_benchmark'
d:/Ruby/lib/ruby/gems/1.8/gems/actionpack-2.3.5/lib/action_controller/benchmarking.rb:51:in `render'
d:/Ruby/lib/ruby/gems/1.8/gems/activesupport-2.3.5/lib/active_support/core_ext/benchmark.rb:17:in `ms'
d:/Ruby/lib/ruby/gems/1.8/gems/activesupport-2.3.5/lib/active_support/core_ext/benchmark.rb:10:in `realtime'
d:/Ruby/lib/ruby/gems/1.8/gems/activesupport-2.3.5/lib/active_support/core_ext/benchmark.rb:17:in `ms'
d:/Ruby/lib/ruby/gems/1.8/gems/actionpack-2.3.5/lib/action_controller/benchmarking.rb:51:in `render'
d:/Ruby/lib/ruby/gems/1.8/gems/actionpack-2.3.5/lib/action_controller/base.rb:1326:in `default_render'
d:/Ruby/lib/ruby/gems/1.8/gems/actionpack-2.3.5/lib/action_controller/base.rb:1332:in `perform_action_without_filters'
d:/Ruby/lib/ruby/gems/1.8/gems/actionpack-2.3.5/lib/action_controller/filters.rb:617:in `call_filters'
d:/Ruby/lib/ruby/gems/1.8/gems/actionpack-2.3.5/lib/action_controller/filters.rb:610:in `perform_action_without_benchmark'
d:/Ruby/lib/ruby/gems/1.8/gems/actionpack-2.3.5/lib/action_controller/benchmarking.rb:68:in `perform_action_without_rescue'
d:/Ruby/lib/ruby/gems/1.8/gems/activesupport-2.3.5/lib/active_support/core_ext/benchmark.rb:17:in `ms'
d:/Ruby/lib/ruby/gems/1.8/gems/activesupport-2.3.5/lib/active_support/core_ext/benchmark.rb:10:in `realtime'
d:/Ruby/lib/ruby/gems/1.8/gems/activesupport-2.3.5/lib/active_support/core_ext/benchmark.rb:17:in `ms'
d:/Ruby/lib/ruby/gems/1.8/gems/actionpack-2.3.5/lib/action_controller/benchmarking.rb:68:in `perform_action_without_rescue'
d:/Ruby/lib/ruby/gems/1.8/gems/actionpack-2.3.5/lib/action_controller/rescue.rb:160:in `perform_action_without_flash'
d:/Ruby/lib/ruby/gems/1.8/gems/actionpack-2.3.5/lib/action_controller/flash.rb:146:in `perform_action'
d:/Ruby/lib/ruby/gems/1.8/gems/actionpack-2.3.5/lib/action_controller/base.rb:532:in `send'
d:/Ruby/lib/ruby/gems/1.8/gems/actionpack-2.3.5/lib/action_controller/base.rb:532:in `process_without_filters'
d:/Ruby/lib/ruby/gems/1.8/gems/actionpack-2.3.5/lib/action_controller/filters.rb:606:in `process'
d:/Ruby/lib/ruby/gems/1.8/gems/actionpack-2.3.5/lib/action_controller/base.rb:391:in `process'
d:/Ruby/lib/ruby/gems/1.8/gems/actionpack-2.3.5/lib/action_controller/base.rb:386:in `call'
d:/Ruby/lib/ruby/gems/1.8/gems/actionpack-2.3.5/lib/action_controller/routing/route_set.rb:437:in `call'
d:/Ruby/lib/ruby/gems/1.8/gems/actionpack-2.3.5/lib/action_controller/dispatcher.rb:87:in `dispatch'
d:/Ruby/lib/ruby/gems/1.8/gems/actionpack-2.3.5/lib/action_controller/dispatcher.rb:121:in `_call'
d:/Ruby/lib/ruby/gems/1.8/gems/actionpack-2.3.5/lib/action_controller/dispatcher.rb:130:in `build_middleware_stack'
d:/Ruby/lib/ruby/gems/1.8/gems/activerecord-2.3.5/lib/active_record/query_cache.rb:29:in `call'
d:/Ruby/lib/ruby/gems/1.8/gems/activerecord-2.3.5/lib/active_record/query_cache.rb:29:in `call'
d:/Ruby/lib/ruby/gems/1.8/gems/activerecord-2.3.5/lib/active_record/connection_adapters/abstract/query_cache.rb:34:in `cache'
d:/Ruby/lib/ruby/gems/1.8/gems/activerecord-2.3.5/lib/active_record/query_cache.rb:9:in `cache'
d:/Ruby/lib/ruby/gems/1.8/gems/activerecord-2.3.5/lib/active_record/query_cache.rb:28:in `call'
d:/Ruby/lib/ruby/gems/1.8/gems/activerecord-2.3.5/lib/active_record/connection_adapters/abstract/connection_pool.rb:361:in `call'
d:/Ruby/lib/ruby/gems/1.8/gems/actionpack-2.3.5/lib/action_controller/string_coercion.rb:25:in `call'
d:/Ruby/lib/ruby/gems/1.8/gems/rack-1.0.1/lib/rack/head.rb:9:in `call'
d:/Ruby/lib/ruby/gems/1.8/gems/rack-1.0.1/lib/rack/methodoverride.rb:24:in `call'
d:/Ruby/lib/ruby/gems/1.8/gems/actionpack-2.3.5/lib/action_controller/params_parser.rb:15:in `call'
d:/Ruby/lib/ruby/gems/1.8/gems/actionpack-2.3.5/lib/action_controller/session/cookie_store.rb:93:in `call'
d:/Ruby/lib/ruby/gems/1.8/gems/actionpack-2.3.5/lib/action_controller/failsafe.rb:26:in `call'
d:/Ruby/lib/ruby/gems/1.8/gems/rack-1.0.1/lib/rack/lock.rb:11:in `call'
d:/Ruby/lib/ruby/gems/1.8/gems/rack-1.0.1/lib/rack/lock.rb:11:in `synchronize'
d:/Ruby/lib/ruby/gems/1.8/gems/rack-1.0.1/lib/rack/lock.rb:11:in `call'
d:/Ruby/lib/ruby/gems/1.8/gems/actionpack-2.3.5/lib/action_controller/dispatcher.rb:114:in `call'
d:/Ruby/lib/ruby/gems/1.8/gems/actionpack-2.3.5/lib/action_controller/reloader.rb:34:in `run'
d:/Ruby/lib/ruby/gems/1.8/gems/actionpack-2.3.5/lib/action_controller/dispatcher.rb:108:in `call'
d:/Ruby/lib/ruby/gems/1.8/gems/rails-2.3.5/lib/rails/rack/static.rb:31:in `call'
d:/Ruby/lib/ruby/gems/1.8/gems/rack-1.0.1/lib/rack/urlmap.rb:46:in `call'
d:/Ruby/lib/ruby/gems/1.8/gems/rack-1.0.1/lib/rack/urlmap.rb:40:in `each'
d:/Ruby/lib/ruby/gems/1.8/gems/rack-1.0.1/lib/rack/urlmap.rb:40:in `call'
d:/Ruby/lib/ruby/gems/1.8/gems/rails-2.3.5/lib/rails/rack/log_tailer.rb:17:in `call'
d:/Ruby/lib/ruby/gems/1.8/gems/rack-1.0.1/lib/rack/content_length.rb:13:in `call'
d:/Ruby/lib/ruby/gems/1.8/gems/rack-1.0.1/lib/rack/chunked.rb:15:in `call'
d:/Ruby/lib/ruby/gems/1.8/gems/rack-1.0.1/lib/rack/handler/mongrel.rb:64:in `process'
d:/Ruby/lib/ruby/gems/1.8/gems/mongrel-1.1.5-x86-mswin32-60/lib/mongrel.rb:159:in `process_client'
d:/Ruby/lib/ruby/gems/1.8/gems/mongrel-1.1.5-x86-mswin32-60/lib/mongrel.rb:158:in `each'
d:/Ruby/lib/ruby/gems/1.8/gems/mongrel-1.1.5-x86-mswin32-60/lib/mongrel.rb:158:in `process_client'
d:/Ruby/lib/ruby/gems/1.8/gems/mongrel-1.1.5-x86-mswin32-60/lib/mongrel.rb:285:in `run'
d:/Ruby/lib/ruby/gems/1.8/gems/mongrel-1.1.5-x86-mswin32-60/lib/mongrel.rb:285:in `initialize'
d:/Ruby/lib/ruby/gems/1.8/gems/mongrel-1.1.5-x86-mswin32-60/lib/mongrel.rb:285:in `new'
d:/Ruby/lib/ruby/gems/1.8/gems/mongrel-1.1.5-x86-mswin32-60/lib/mongrel.rb:285:in `run'
d:/Ruby/lib/ruby/gems/1.8/gems/mongrel-1.1.5-x86-mswin32-60/lib/mongrel.rb:268:in `initialize'
d:/Ruby/lib/ruby/gems/1.8/gems/mongrel-1.1.5-x86-mswin32-60/lib/mongrel.rb:268:in `new'
d:/Ruby/lib/ruby/gems/1.8/gems/mongrel-1.1.5-x86-mswin32-60/lib/mongrel.rb:268:in `run'
d:/Ruby/lib/ruby/gems/1.8/gems/rack-1.0.1/lib/rack/handler/mongrel.rb:34:in `run'
d:/Ruby/lib/ruby/gems/1.8/gems/rails-2.3.5/lib/commands/server.rb:111
d:/Ruby/lib/ruby/site_ruby/1.8/rubygems/custom_require.rb:31:in `gem_original_require'
d:/Ruby/lib/ruby/site_ruby/1.8/rubygems/custom_require.rb:31:in `require'
script/server:3

ActionView::TemplateError (compile error
d:/haipeng/ror/finance/app/views/expense/new_type.html.erb:2: syntax error, unexpected ':', expecting ')'
...cat(( form_for :expense_type :url => { :action => :create_ty...
                              ^
d:/haipeng/ror/finance/app/views/expense/new_type.html.erb:2: syntax error, unexpected kDO, expecting ')'
...{ :action => :create_type } do |form| ).to_s); @output_buffe...
                              ^
d:/haipeng/ror/finance/app/views/expense/new_type.html.erb:8: syntax error, unexpected kEND
..."; @output_buffer.concat(( end ).to_s); @output_buffer.conca...
                              ^) on line #2 of app/views/expense/new_type.html.erb:
1: <div>
2:   <%= form_for :expense_type :url => { :action => :create_type } do |form| %>
3:     <p>
4:     <%= form.text_field 'description' %>
5:     </p>

    app/views/expense/new_type.html.erb:13:in `compile!'

Rendered rescues/_trace (56.0ms)
Rendered rescues/_request_and_response (0.0ms)
Rendering rescues/layout (internal_server_error)
  [4;36;1mSQL (0.0ms)[0m   [0;1mSET NAMES 'utf8'[0m
  [4;35;1mSQL (0.0ms)[0m   [0mSET SQL_AUTO_IS_NULL=0[0m


Processing ExpenseController#new_type (for 127.0.0.1 at 2010-04-25 22:05:15) [GET]
Rendering template within layouts/expense
Rendering expense/new_type
ERROR: compiling _run_erb_app47views47expense47new_type46html46erb RAISED compile error
d:/haipeng/ror/finance/app/views/expense/new_type.html.erb:2: syntax error, unexpected ')'
... => :create_type } do |form| ).to_s); @output_buffer.concat ...
                              ^
d:/haipeng/ror/finance/app/views/expense/new_type.html.erb:8: syntax error, unexpected kEND
..."; @output_buffer.concat(( end ).to_s); @output_buffer.conca...
                              ^
d:/haipeng/ror/finance/app/views/expense/new_type.html.erb:11: syntax error, unexpected kENSURE, expecting kEND
d:/haipeng/ror/finance/app/views/expense/new_type.html.erb:13: syntax error, unexpected $end, expecting ')'
Function body:           def _run_erb_app47views47expense47new_type46html46erb(local_assigns)
            old_output_buffer = output_buffer;;@output_buffer = '';  __in_erb_template=true ; @output_buffer.concat "<div>\n"
@output_buffer.concat "  "; @output_buffer.concat(( form_for :expense_type, :url => { :action => :create_type } do |form| ).to_s); @output_buffer.concat "\n"
@output_buffer.concat "    <p>\n"
@output_buffer.concat "    "; @output_buffer.concat(( form.text_field 'description' ).to_s); @output_buffer.concat "\n"
@output_buffer.concat "    </p>\n"
@output_buffer.concat "\n"
@output_buffer.concat "    "; @output_buffer.concat(( submit_tag ).to_s); @output_buffer.concat "\n"
@output_buffer.concat "  "; @output_buffer.concat(( end ).to_s); @output_buffer.concat "\n"
@output_buffer.concat "</div>\n"
@output_buffer
          ensure
            self.output_buffer = old_output_buffer
          end
Backtrace: d:/haipeng/ror/finance/app/views/expense/new_type.html.erb:13:in `compile!'
d:/Ruby/lib/ruby/gems/1.8/gems/actionpack-2.3.5/lib/action_view/renderable.rb:61:in `compile'
d:/Ruby/lib/ruby/gems/1.8/gems/actionpack-2.3.5/lib/action_view/renderable.rb:28:in `render'
d:/Ruby/lib/ruby/gems/1.8/gems/actionpack-2.3.5/lib/action_view/template.rb:205:in `render_template'
d:/Ruby/lib/ruby/gems/1.8/gems/actionpack-2.3.5/lib/action_view/base.rb:265:in `render'
d:/Ruby/lib/ruby/gems/1.8/gems/actionpack-2.3.5/lib/action_view/base.rb:348:in `_render_with_layout'
d:/Ruby/lib/ruby/gems/1.8/gems/actionpack-2.3.5/lib/action_view/base.rb:262:in `render'
d:/Ruby/lib/ruby/gems/1.8/gems/actionpack-2.3.5/lib/action_controller/base.rb:1250:in `render_for_file'
d:/Ruby/lib/ruby/gems/1.8/gems/actionpack-2.3.5/lib/action_controller/base.rb:945:in `render_without_benchmark'
d:/Ruby/lib/ruby/gems/1.8/gems/actionpack-2.3.5/lib/action_controller/benchmarking.rb:51:in `render'
d:/Ruby/lib/ruby/gems/1.8/gems/activesupport-2.3.5/lib/active_support/core_ext/benchmark.rb:17:in `ms'
d:/Ruby/lib/ruby/gems/1.8/gems/activesupport-2.3.5/lib/active_support/core_ext/benchmark.rb:10:in `realtime'
d:/Ruby/lib/ruby/gems/1.8/gems/activesupport-2.3.5/lib/active_support/core_ext/benchmark.rb:17:in `ms'
d:/Ruby/lib/ruby/gems/1.8/gems/actionpack-2.3.5/lib/action_controller/benchmarking.rb:51:in `render'
d:/Ruby/lib/ruby/gems/1.8/gems/actionpack-2.3.5/lib/action_controller/base.rb:1326:in `default_render'
d:/Ruby/lib/ruby/gems/1.8/gems/actionpack-2.3.5/lib/action_controller/base.rb:1332:in `perform_action_without_filters'
d:/Ruby/lib/ruby/gems/1.8/gems/actionpack-2.3.5/lib/action_controller/filters.rb:617:in `call_filters'
d:/Ruby/lib/ruby/gems/1.8/gems/actionpack-2.3.5/lib/action_controller/filters.rb:610:in `perform_action_without_benchmark'
d:/Ruby/lib/ruby/gems/1.8/gems/actionpack-2.3.5/lib/action_controller/benchmarking.rb:68:in `perform_action_without_rescue'
d:/Ruby/lib/ruby/gems/1.8/gems/activesupport-2.3.5/lib/active_support/core_ext/benchmark.rb:17:in `ms'
d:/Ruby/lib/ruby/gems/1.8/gems/activesupport-2.3.5/lib/active_support/core_ext/benchmark.rb:10:in `realtime'
d:/Ruby/lib/ruby/gems/1.8/gems/activesupport-2.3.5/lib/active_support/core_ext/benchmark.rb:17:in `ms'
d:/Ruby/lib/ruby/gems/1.8/gems/actionpack-2.3.5/lib/action_controller/benchmarking.rb:68:in `perform_action_without_rescue'
d:/Ruby/lib/ruby/gems/1.8/gems/actionpack-2.3.5/lib/action_controller/rescue.rb:160:in `perform_action_without_flash'
d:/Ruby/lib/ruby/gems/1.8/gems/actionpack-2.3.5/lib/action_controller/flash.rb:146:in `perform_action'
d:/Ruby/lib/ruby/gems/1.8/gems/actionpack-2.3.5/lib/action_controller/base.rb:532:in `send'
d:/Ruby/lib/ruby/gems/1.8/gems/actionpack-2.3.5/lib/action_controller/base.rb:532:in `process_without_filters'
d:/Ruby/lib/ruby/gems/1.8/gems/actionpack-2.3.5/lib/action_controller/filters.rb:606:in `process'
d:/Ruby/lib/ruby/gems/1.8/gems/actionpack-2.3.5/lib/action_controller/base.rb:391:in `process'
d:/Ruby/lib/ruby/gems/1.8/gems/actionpack-2.3.5/lib/action_controller/base.rb:386:in `call'
d:/Ruby/lib/ruby/gems/1.8/gems/actionpack-2.3.5/lib/action_controller/routing/route_set.rb:437:in `call'
d:/Ruby/lib/ruby/gems/1.8/gems/actionpack-2.3.5/lib/action_controller/dispatcher.rb:87:in `dispatch'
d:/Ruby/lib/ruby/gems/1.8/gems/actionpack-2.3.5/lib/action_controller/dispatcher.rb:121:in `_call'
d:/Ruby/lib/ruby/gems/1.8/gems/actionpack-2.3.5/lib/action_controller/dispatcher.rb:130:in `build_middleware_stack'
d:/Ruby/lib/ruby/gems/1.8/gems/activerecord-2.3.5/lib/active_record/query_cache.rb:29:in `call'
d:/Ruby/lib/ruby/gems/1.8/gems/activerecord-2.3.5/lib/active_record/query_cache.rb:29:in `call'
d:/Ruby/lib/ruby/gems/1.8/gems/activerecord-2.3.5/lib/active_record/connection_adapters/abstract/query_cache.rb:34:in `cache'
d:/Ruby/lib/ruby/gems/1.8/gems/activerecord-2.3.5/lib/active_record/query_cache.rb:9:in `cache'
d:/Ruby/lib/ruby/gems/1.8/gems/activerecord-2.3.5/lib/active_record/query_cache.rb:28:in `call'
d:/Ruby/lib/ruby/gems/1.8/gems/activerecord-2.3.5/lib/active_record/connection_adapters/abstract/connection_pool.rb:361:in `call'
d:/Ruby/lib/ruby/gems/1.8/gems/actionpack-2.3.5/lib/action_controller/string_coercion.rb:25:in `call'
d:/Ruby/lib/ruby/gems/1.8/gems/rack-1.0.1/lib/rack/head.rb:9:in `call'
d:/Ruby/lib/ruby/gems/1.8/gems/rack-1.0.1/lib/rack/methodoverride.rb:24:in `call'
d:/Ruby/lib/ruby/gems/1.8/gems/actionpack-2.3.5/lib/action_controller/params_parser.rb:15:in `call'
d:/Ruby/lib/ruby/gems/1.8/gems/actionpack-2.3.5/lib/action_controller/session/cookie_store.rb:93:in `call'
d:/Ruby/lib/ruby/gems/1.8/gems/actionpack-2.3.5/lib/action_controller/failsafe.rb:26:in `call'
d:/Ruby/lib/ruby/gems/1.8/gems/rack-1.0.1/lib/rack/lock.rb:11:in `call'
d:/Ruby/lib/ruby/gems/1.8/gems/rack-1.0.1/lib/rack/lock.rb:11:in `synchronize'
d:/Ruby/lib/ruby/gems/1.8/gems/rack-1.0.1/lib/rack/lock.rb:11:in `call'
d:/Ruby/lib/ruby/gems/1.8/gems/actionpack-2.3.5/lib/action_controller/dispatcher.rb:114:in `call'
d:/Ruby/lib/ruby/gems/1.8/gems/actionpack-2.3.5/lib/action_controller/reloader.rb:34:in `run'
d:/Ruby/lib/ruby/gems/1.8/gems/actionpack-2.3.5/lib/action_controller/dispatcher.rb:108:in `call'
d:/Ruby/lib/ruby/gems/1.8/gems/rails-2.3.5/lib/rails/rack/static.rb:31:in `call'
d:/Ruby/lib/ruby/gems/1.8/gems/rack-1.0.1/lib/rack/urlmap.rb:46:in `call'
d:/Ruby/lib/ruby/gems/1.8/gems/rack-1.0.1/lib/rack/urlmap.rb:40:in `each'
d:/Ruby/lib/ruby/gems/1.8/gems/rack-1.0.1/lib/rack/urlmap.rb:40:in `call'
d:/Ruby/lib/ruby/gems/1.8/gems/rails-2.3.5/lib/rails/rack/log_tailer.rb:17:in `call'
d:/Ruby/lib/ruby/gems/1.8/gems/rack-1.0.1/lib/rack/content_length.rb:13:in `call'
d:/Ruby/lib/ruby/gems/1.8/gems/rack-1.0.1/lib/rack/chunked.rb:15:in `call'
d:/Ruby/lib/ruby/gems/1.8/gems/rack-1.0.1/lib/rack/handler/mongrel.rb:64:in `process'
d:/Ruby/lib/ruby/gems/1.8/gems/mongrel-1.1.5-x86-mswin32-60/lib/mongrel.rb:159:in `process_client'
d:/Ruby/lib/ruby/gems/1.8/gems/mongrel-1.1.5-x86-mswin32-60/lib/mongrel.rb:158:in `each'
d:/Ruby/lib/ruby/gems/1.8/gems/mongrel-1.1.5-x86-mswin32-60/lib/mongrel.rb:158:in `process_client'
d:/Ruby/lib/ruby/gems/1.8/gems/mongrel-1.1.5-x86-mswin32-60/lib/mongrel.rb:285:in `run'
d:/Ruby/lib/ruby/gems/1.8/gems/mongrel-1.1.5-x86-mswin32-60/lib/mongrel.rb:285:in `initialize'
d:/Ruby/lib/ruby/gems/1.8/gems/mongrel-1.1.5-x86-mswin32-60/lib/mongrel.rb:285:in `new'
d:/Ruby/lib/ruby/gems/1.8/gems/mongrel-1.1.5-x86-mswin32-60/lib/mongrel.rb:285:in `run'
d:/Ruby/lib/ruby/gems/1.8/gems/mongrel-1.1.5-x86-mswin32-60/lib/mongrel.rb:268:in `initialize'
d:/Ruby/lib/ruby/gems/1.8/gems/mongrel-1.1.5-x86-mswin32-60/lib/mongrel.rb:268:in `new'
d:/Ruby/lib/ruby/gems/1.8/gems/mongrel-1.1.5-x86-mswin32-60/lib/mongrel.rb:268:in `run'
d:/Ruby/lib/ruby/gems/1.8/gems/rack-1.0.1/lib/rack/handler/mongrel.rb:34:in `run'
d:/Ruby/lib/ruby/gems/1.8/gems/rails-2.3.5/lib/commands/server.rb:111
d:/Ruby/lib/ruby/site_ruby/1.8/rubygems/custom_require.rb:31:in `gem_original_require'
d:/Ruby/lib/ruby/site_ruby/1.8/rubygems/custom_require.rb:31:in `require'
script/server:3

ActionView::TemplateError (compile error
d:/haipeng/ror/finance/app/views/expense/new_type.html.erb:2: syntax error, unexpected ')'
... => :create_type } do |form| ).to_s); @output_buffer.concat ...
                              ^
d:/haipeng/ror/finance/app/views/expense/new_type.html.erb:8: syntax error, unexpected kEND
..."; @output_buffer.concat(( end ).to_s); @output_buffer.conca...
                              ^
d:/haipeng/ror/finance/app/views/expense/new_type.html.erb:11: syntax error, unexpected kENSURE, expecting kEND
d:/haipeng/ror/finance/app/views/expense/new_type.html.erb:13: syntax error, unexpected $end, expecting ')') on line #2 of app/views/expense/new_type.html.erb:
1: <div>
2:   <%= form_for :expense_type, :url => { :action => :create_type } do |form| %>
3:     <p>
4:     <%= form.text_field 'description' %>
5:     </p>

    app/views/expense/new_type.html.erb:13:in `compile!'

Rendered rescues/_trace (58.0ms)
Rendered rescues/_request_and_response (1.0ms)
Rendering rescues/layout (internal_server_error)
  [4;36;1mSQL (0.0ms)[0m   [0;1mSET NAMES 'utf8'[0m
  [4;35;1mSQL (0.0ms)[0m   [0mSET SQL_AUTO_IS_NULL=0[0m


Processing ExpenseController#new_type (for 127.0.0.1 at 2010-04-25 22:05:52) [GET]
Rendering template within layouts/expense
Rendering expense/new_type
ERROR: compiling _run_erb_app47views47expense47new_type46html46erb RAISED compile error
d:/haipeng/ror/finance/app/views/expense/new_type.html.erb:2: syntax error, unexpected ')'
... => :create_type } do |form| ).to_s); @output_buffer.concat ...
                              ^
d:/haipeng/ror/finance/app/views/expense/new_type.html.erb:11: syntax error, unexpected kENSURE, expecting ')'
d:/haipeng/ror/finance/app/views/expense/new_type.html.erb:13: syntax error, unexpected kEND, expecting ')'
Function body:           def _run_erb_app47views47expense47new_type46html46erb(local_assigns)
            old_output_buffer = output_buffer;;@output_buffer = '';  __in_erb_template=true ; @output_buffer.concat "<div>\n"
@output_buffer.concat "  "; @output_buffer.concat(( form_for :expense_type, :url => { :action => :create_type } do |form| ).to_s); @output_buffer.concat "\n"
@output_buffer.concat "    <p>\n"
@output_buffer.concat "    "; @output_buffer.concat(( form.text_field 'description' ).to_s); @output_buffer.concat "\n"
@output_buffer.concat "    </p>\n"
@output_buffer.concat "\n"
@output_buffer.concat "    "; @output_buffer.concat(( submit_tag ).to_s); @output_buffer.concat "\n"
@output_buffer.concat "  ";  end ; @output_buffer.concat "\n"
@output_buffer.concat "</div>\n"
@output_buffer
          ensure
            self.output_buffer = old_output_buffer
          end
Backtrace: d:/haipeng/ror/finance/app/views/expense/new_type.html.erb:13:in `compile!'
d:/Ruby/lib/ruby/gems/1.8/gems/actionpack-2.3.5/lib/action_view/renderable.rb:61:in `compile'
d:/Ruby/lib/ruby/gems/1.8/gems/actionpack-2.3.5/lib/action_view/renderable.rb:28:in `render'
d:/Ruby/lib/ruby/gems/1.8/gems/actionpack-2.3.5/lib/action_view/template.rb:205:in `render_template'
d:/Ruby/lib/ruby/gems/1.8/gems/actionpack-2.3.5/lib/action_view/base.rb:265:in `render'
d:/Ruby/lib/ruby/gems/1.8/gems/actionpack-2.3.5/lib/action_view/base.rb:348:in `_render_with_layout'
d:/Ruby/lib/ruby/gems/1.8/gems/actionpack-2.3.5/lib/action_view/base.rb:262:in `render'
d:/Ruby/lib/ruby/gems/1.8/gems/actionpack-2.3.5/lib/action_controller/base.rb:1250:in `render_for_file'
d:/Ruby/lib/ruby/gems/1.8/gems/actionpack-2.3.5/lib/action_controller/base.rb:945:in `render_without_benchmark'
d:/Ruby/lib/ruby/gems/1.8/gems/actionpack-2.3.5/lib/action_controller/benchmarking.rb:51:in `render'
d:/Ruby/lib/ruby/gems/1.8/gems/activesupport-2.3.5/lib/active_support/core_ext/benchmark.rb:17:in `ms'
d:/Ruby/lib/ruby/gems/1.8/gems/activesupport-2.3.5/lib/active_support/core_ext/benchmark.rb:10:in `realtime'
d:/Ruby/lib/ruby/gems/1.8/gems/activesupport-2.3.5/lib/active_support/core_ext/benchmark.rb:17:in `ms'
d:/Ruby/lib/ruby/gems/1.8/gems/actionpack-2.3.5/lib/action_controller/benchmarking.rb:51:in `render'
d:/Ruby/lib/ruby/gems/1.8/gems/actionpack-2.3.5/lib/action_controller/base.rb:1326:in `default_render'
d:/Ruby/lib/ruby/gems/1.8/gems/actionpack-2.3.5/lib/action_controller/base.rb:1332:in `perform_action_without_filters'
d:/Ruby/lib/ruby/gems/1.8/gems/actionpack-2.3.5/lib/action_controller/filters.rb:617:in `call_filters'
d:/Ruby/lib/ruby/gems/1.8/gems/actionpack-2.3.5/lib/action_controller/filters.rb:610:in `perform_action_without_benchmark'
d:/Ruby/lib/ruby/gems/1.8/gems/actionpack-2.3.5/lib/action_controller/benchmarking.rb:68:in `perform_action_without_rescue'
d:/Ruby/lib/ruby/gems/1.8/gems/activesupport-2.3.5/lib/active_support/core_ext/benchmark.rb:17:in `ms'
d:/Ruby/lib/ruby/gems/1.8/gems/activesupport-2.3.5/lib/active_support/core_ext/benchmark.rb:10:in `realtime'
d:/Ruby/lib/ruby/gems/1.8/gems/activesupport-2.3.5/lib/active_support/core_ext/benchmark.rb:17:in `ms'
d:/Ruby/lib/ruby/gems/1.8/gems/actionpack-2.3.5/lib/action_controller/benchmarking.rb:68:in `perform_action_without_rescue'
d:/Ruby/lib/ruby/gems/1.8/gems/actionpack-2.3.5/lib/action_controller/rescue.rb:160:in `perform_action_without_flash'
d:/Ruby/lib/ruby/gems/1.8/gems/actionpack-2.3.5/lib/action_controller/flash.rb:146:in `perform_action'
d:/Ruby/lib/ruby/gems/1.8/gems/actionpack-2.3.5/lib/action_controller/base.rb:532:in `send'
d:/Ruby/lib/ruby/gems/1.8/gems/actionpack-2.3.5/lib/action_controller/base.rb:532:in `process_without_filters'
d:/Ruby/lib/ruby/gems/1.8/gems/actionpack-2.3.5/lib/action_controller/filters.rb:606:in `process'
d:/Ruby/lib/ruby/gems/1.8/gems/actionpack-2.3.5/lib/action_controller/base.rb:391:in `process'
d:/Ruby/lib/ruby/gems/1.8/gems/actionpack-2.3.5/lib/action_controller/base.rb:386:in `call'
d:/Ruby/lib/ruby/gems/1.8/gems/actionpack-2.3.5/lib/action_controller/routing/route_set.rb:437:in `call'
d:/Ruby/lib/ruby/gems/1.8/gems/actionpack-2.3.5/lib/action_controller/dispatcher.rb:87:in `dispatch'
d:/Ruby/lib/ruby/gems/1.8/gems/actionpack-2.3.5/lib/action_controller/dispatcher.rb:121:in `_call'
d:/Ruby/lib/ruby/gems/1.8/gems/actionpack-2.3.5/lib/action_controller/dispatcher.rb:130:in `build_middleware_stack'
d:/Ruby/lib/ruby/gems/1.8/gems/activerecord-2.3.5/lib/active_record/query_cache.rb:29:in `call'
d:/Ruby/lib/ruby/gems/1.8/gems/activerecord-2.3.5/lib/active_record/query_cache.rb:29:in `call'
d:/Ruby/lib/ruby/gems/1.8/gems/activerecord-2.3.5/lib/active_record/connection_adapters/abstract/query_cache.rb:34:in `cache'
d:/Ruby/lib/ruby/gems/1.8/gems/activerecord-2.3.5/lib/active_record/query_cache.rb:9:in `cache'
d:/Ruby/lib/ruby/gems/1.8/gems/activerecord-2.3.5/lib/active_record/query_cache.rb:28:in `call'
d:/Ruby/lib/ruby/gems/1.8/gems/activerecord-2.3.5/lib/active_record/connection_adapters/abstract/connection_pool.rb:361:in `call'
d:/Ruby/lib/ruby/gems/1.8/gems/actionpack-2.3.5/lib/action_controller/string_coercion.rb:25:in `call'
d:/Ruby/lib/ruby/gems/1.8/gems/rack-1.0.1/lib/rack/head.rb:9:in `call'
d:/Ruby/lib/ruby/gems/1.8/gems/rack-1.0.1/lib/rack/methodoverride.rb:24:in `call'
d:/Ruby/lib/ruby/gems/1.8/gems/actionpack-2.3.5/lib/action_controller/params_parser.rb:15:in `call'
d:/Ruby/lib/ruby/gems/1.8/gems/actionpack-2.3.5/lib/action_controller/session/cookie_store.rb:93:in `call'
d:/Ruby/lib/ruby/gems/1.8/gems/actionpack-2.3.5/lib/action_controller/failsafe.rb:26:in `call'
d:/Ruby/lib/ruby/gems/1.8/gems/rack-1.0.1/lib/rack/lock.rb:11:in `call'
d:/Ruby/lib/ruby/gems/1.8/gems/rack-1.0.1/lib/rack/lock.rb:11:in `synchronize'
d:/Ruby/lib/ruby/gems/1.8/gems/rack-1.0.1/lib/rack/lock.rb:11:in `call'
d:/Ruby/lib/ruby/gems/1.8/gems/actionpack-2.3.5/lib/action_controller/dispatcher.rb:114:in `call'
d:/Ruby/lib/ruby/gems/1.8/gems/actionpack-2.3.5/lib/action_controller/reloader.rb:34:in `run'
d:/Ruby/lib/ruby/gems/1.8/gems/actionpack-2.3.5/lib/action_controller/dispatcher.rb:108:in `call'
d:/Ruby/lib/ruby/gems/1.8/gems/rails-2.3.5/lib/rails/rack/static.rb:31:in `call'
d:/Ruby/lib/ruby/gems/1.8/gems/rack-1.0.1/lib/rack/urlmap.rb:46:in `call'
d:/Ruby/lib/ruby/gems/1.8/gems/rack-1.0.1/lib/rack/urlmap.rb:40:in `each'
d:/Ruby/lib/ruby/gems/1.8/gems/rack-1.0.1/lib/rack/urlmap.rb:40:in `call'
d:/Ruby/lib/ruby/gems/1.8/gems/rails-2.3.5/lib/rails/rack/log_tailer.rb:17:in `call'
d:/Ruby/lib/ruby/gems/1.8/gems/rack-1.0.1/lib/rack/content_length.rb:13:in `call'
d:/Ruby/lib/ruby/gems/1.8/gems/rack-1.0.1/lib/rack/chunked.rb:15:in `call'
d:/Ruby/lib/ruby/gems/1.8/gems/rack-1.0.1/lib/rack/handler/mongrel.rb:64:in `process'
d:/Ruby/lib/ruby/gems/1.8/gems/mongrel-1.1.5-x86-mswin32-60/lib/mongrel.rb:159:in `process_client'
d:/Ruby/lib/ruby/gems/1.8/gems/mongrel-1.1.5-x86-mswin32-60/lib/mongrel.rb:158:in `each'
d:/Ruby/lib/ruby/gems/1.8/gems/mongrel-1.1.5-x86-mswin32-60/lib/mongrel.rb:158:in `process_client'
d:/Ruby/lib/ruby/gems/1.8/gems/mongrel-1.1.5-x86-mswin32-60/lib/mongrel.rb:285:in `run'
d:/Ruby/lib/ruby/gems/1.8/gems/mongrel-1.1.5-x86-mswin32-60/lib/mongrel.rb:285:in `initialize'
d:/Ruby/lib/ruby/gems/1.8/gems/mongrel-1.1.5-x86-mswin32-60/lib/mongrel.rb:285:in `new'
d:/Ruby/lib/ruby/gems/1.8/gems/mongrel-1.1.5-x86-mswin32-60/lib/mongrel.rb:285:in `run'
d:/Ruby/lib/ruby/gems/1.8/gems/mongrel-1.1.5-x86-mswin32-60/lib/mongrel.rb:268:in `initialize'
d:/Ruby/lib/ruby/gems/1.8/gems/mongrel-1.1.5-x86-mswin32-60/lib/mongrel.rb:268:in `new'
d:/Ruby/lib/ruby/gems/1.8/gems/mongrel-1.1.5-x86-mswin32-60/lib/mongrel.rb:268:in `run'
d:/Ruby/lib/ruby/gems/1.8/gems/rack-1.0.1/lib/rack/handler/mongrel.rb:34:in `run'
d:/Ruby/lib/ruby/gems/1.8/gems/rails-2.3.5/lib/commands/server.rb:111
d:/Ruby/lib/ruby/site_ruby/1.8/rubygems/custom_require.rb:31:in `gem_original_require'
d:/Ruby/lib/ruby/site_ruby/1.8/rubygems/custom_require.rb:31:in `require'
script/server:3

ActionView::TemplateError (compile error
d:/haipeng/ror/finance/app/views/expense/new_type.html.erb:2: syntax error, unexpected ')'
... => :create_type } do |form| ).to_s); @output_buffer.concat ...
                              ^
d:/haipeng/ror/finance/app/views/expense/new_type.html.erb:11: syntax error, unexpected kENSURE, expecting ')'
d:/haipeng/ror/finance/app/views/expense/new_type.html.erb:13: syntax error, unexpected kEND, expecting ')') on line #2 of app/views/expense/new_type.html.erb:
1: <div>
2:   <%= form_for :expense_type, :url => { :action => :create_type } do |form| %>
3:     <p>
4:     <%= form.text_field 'description' %>
5:     </p>

    app/views/expense/new_type.html.erb:13:in `compile!'

Rendered rescues/_trace (55.0ms)
Rendered rescues/_request_and_response (1.0ms)
Rendering rescues/layout (internal_server_error)
  [4;36;1mSQL (0.0ms)[0m   [0;1mSET NAMES 'utf8'[0m
  [4;35;1mSQL (3.0ms)[0m   [0mSET SQL_AUTO_IS_NULL=0[0m


Processing ExpenseController#new_type (for 127.0.0.1 at 2010-04-25 22:07:07) [GET]
Rendering template within layouts/expense
Rendering expense/new_type
Completed in 11ms (View: 9, DB: 3) | 200 OK [http://localhost/expense/new_type]
  [4;36;1mSQL (0.0ms)[0m   [0;1mSET NAMES 'utf8'[0m
  [4;35;1mSQL (0.0ms)[0m   [0mSET SQL_AUTO_IS_NULL=0[0m


Processing ExpenseController#new_type (for 127.0.0.1 at 2010-04-25 22:07:29) [GET]
Rendering template within layouts/expense
Rendering expense/new_type
Completed in 11ms (View: 9, DB: 0) | 200 OK [http://localhost/expense/new_type]
  [4;36;1mSQL (0.0ms)[0m   [0;1mSET NAMES 'utf8'[0m
  [4;35;1mSQL (0.0ms)[0m   [0mSET SQL_AUTO_IS_NULL=0[0m


Processing ExpenseController#create_type (for 127.0.0.1 at 2010-04-25 22:12:08) [POST]
  Parameters: {"commit"=>"Save changes", "authenticity_token"=>"J3FyYk3jLIDiN5d3VYr/75BwIN44CV7ouawTcellGM8=", "expense_type"=>{"description"=>"出租车"}}
  [4;36;1mExpenseType Columns (188.0ms)[0m   [0;1mSHOW FIELDS FROM `expense_types`[0m
  [4;35;1mSQL (41.0ms)[0m   [0mBEGIN[0m
  [4;36;1mExpenseType Create (0.0ms)[0m   [0;1mMysql::Error: Column 'description' cannot be null: INSERT INTO `expense_types` (`updated_at`, `description`, `created_at`) VALUES('2010-04-25 14:12:09', NULL, '2010-04-25 14:12:09')[0m
  [4;35;1mSQL (0.0ms)[0m   [0mROLLBACK[0m

ActiveRecord::StatementInvalid (Mysql::Error: Column 'description' cannot be null: INSERT INTO `expense_types` (`updated_at`, `description`, `created_at`) VALUES('2010-04-25 14:12:09', NULL, '2010-04-25 14:12:09')):
  app/controllers/expense_controller.rb:32:in `create_type'

Rendered rescues/_trace (75.0ms)
Rendered rescues/_request_and_response (0.0ms)
Rendering rescues/layout (internal_server_error)
  [4;36;1mSQL (0.0ms)[0m   [0;1mSET NAMES 'utf8'[0m
  [4;35;1mSQL (1.0ms)[0m   [0mSET SQL_AUTO_IS_NULL=0[0m


Processing ExpenseController#new_type (for 127.0.0.1 at 2010-04-25 22:13:49) [GET]
Rendering template within layouts/expense
Rendering expense/new_type
Completed in 13ms (View: 11, DB: 1) | 200 OK [http://localhost/expense/new_type]
  [4;36;1mSQL (0.0ms)[0m   [0;1mSET NAMES 'utf8'[0m
  [4;35;1mSQL (0.0ms)[0m   [0mSET SQL_AUTO_IS_NULL=0[0m


Processing ExpenseController#new_type (for 127.0.0.1 at 2010-04-25 22:13:51) [GET]
Rendering template within layouts/expense
Rendering expense/new_type
Completed in 6ms (View: 4, DB: 0) | 200 OK [http://localhost/expense/new_type]
  [4;36;1mSQL (0.0ms)[0m   [0;1mSET NAMES 'utf8'[0m
  [4;35;1mSQL (0.0ms)[0m   [0mSET SQL_AUTO_IS_NULL=0[0m


Processing ExpenseController#new_type (for 127.0.0.1 at 2010-04-25 22:18:16) [GET]
Rendering template within layouts/expense
Rendering expense/new_type
Completed in 6ms (View: 4, DB: 0) | 200 OK [http://localhost/expense/new_type]
  [4;36;1mSQL (0.0ms)[0m   [0;1mSET NAMES 'utf8'[0m
  [4;35;1mSQL (0.0ms)[0m   [0mSET SQL_AUTO_IS_NULL=0[0m


Processing ExpenseController#create_type (for 127.0.0.1 at 2010-04-25 22:18:22) [POST]
  Parameters: {"commit"=>"Save changes", "authenticity_token"=>"J3FyYk3jLIDiN5d3VYr/75BwIN44CV7ouawTcellGM8=", "expense_type"=>{"description"=>"出租车"}}
  [4;36;1mExpenseType Columns (4.0ms)[0m   [0;1mSHOW FIELDS FROM `expense_types`[0m
  [4;35;1mSQL (31.0ms)[0m   [0mBEGIN[0m
  [4;36;1mExpenseType Create (98.0ms)[0m   [0;1mINSERT INTO `expense_types` (`updated_at`, `description`, `created_at`) VALUES('2010-04-25 14:18:22', '出租车', '2010-04-25 14:18:22')[0m
  [4;35;1mSQL (101.0ms)[0m   [0mCOMMIT[0m

ActionView::MissingTemplate (Missing template expense/create_type.erb in view path app/views):
  

Rendering rescues/layout (internal_server_error)
  [4;36;1mSQL (1.0ms)[0m   [0;1mSET NAMES 'utf8'[0m
  [4;35;1mSQL (0.0ms)[0m   [0mSET SQL_AUTO_IS_NULL=0[0m


Processing ExpenseController#new_type (for 127.0.0.1 at 2010-04-25 22:19:57) [GET]
Rendering template within layouts/expense
Rendering expense/new_type
Completed in 11ms (View: 9, DB: 1) | 200 OK [http://localhost/expense/new_type]
  [4;36;1mSQL (2.0ms)[0m   [0;1mSET NAMES 'utf8'[0m
  [4;35;1mSQL (0.0ms)[0m   [0mSET SQL_AUTO_IS_NULL=0[0m


Processing ExpenseController#create_type (for 127.0.0.1 at 2010-04-25 22:20:05) [POST]
  Parameters: {"commit"=>"Save changes", "authenticity_token"=>"J3FyYk3jLIDiN5d3VYr/75BwIN44CV7ouawTcellGM8=", "expense_type"=>{"description"=>"工作餐"}}
  [4;36;1mExpenseType Columns (4.0ms)[0m   [0;1mSHOW FIELDS FROM `expense_types`[0m
  [4;35;1mSQL (4.0ms)[0m   [0mBEGIN[0m
  [4;36;1mExpenseType Create (0.0ms)[0m   [0;1mINSERT INTO `expense_types` (`updated_at`, `description`, `created_at`) VALUES('2010-04-25 14:20:05', '工作餐', '2010-04-25 14:20:05')[0m
  [4;35;1mSQL (45.0ms)[0m   [0mCOMMIT[0m
Rendering template within layouts/expense
Rendering expense/create_type
Completed in 83ms (View: 13, DB: 55) | 200 OK [http://localhost/expense/create_type]
  [4;36;1mSQL (0.0ms)[0m   [0;1mSET NAMES 'utf8'[0m
  [4;35;1mSQL (0.0ms)[0m   [0mSET SQL_AUTO_IS_NULL=0[0m


Processing ExpenseController#new_type (for 127.0.0.1 at 2010-04-25 22:20:13) [GET]
Rendering template within layouts/expense
Rendering expense/new_type
Completed in 6ms (View: 4, DB: 0) | 200 OK [http://localhost/expense/new_type]
  [4;36;1mSQL (0.0ms)[0m   [0;1mSET NAMES 'utf8'[0m
  [4;35;1mSQL (1.0ms)[0m   [0mSET SQL_AUTO_IS_NULL=0[0m


Processing ExpenseController#new (for 127.0.0.1 at 2010-04-25 22:27:46) [GET]
  [4;36;1mExpenseType Load (0.0ms)[0m   [0;1mSELECT * FROM `expense_types` [0m
  [4;35;1mExpenseType Columns (4.0ms)[0m   [0mSHOW FIELDS FROM `expense_types`[0m
Rendering template within layouts/expense
Rendering expense/new
Completed in 25ms (View: 11, DB: 5) | 200 OK [http://localhost/expense/new]
  [4;36;1mSQL (0.0ms)[0m   [0;1mSET NAMES 'utf8'[0m
  [4;35;1mSQL (1.0ms)[0m   [0mSET SQL_AUTO_IS_NULL=0[0m


Processing ExpenseController#create (for 127.0.0.1 at 2010-04-25 22:29:14) [POST]
  Parameters: {"commit"=>"Save changes", "authenticity_token"=>"J3FyYk3jLIDiN5d3VYr/75BwIN44CV7ouawTcellGM8=", "expense_item"=>{"date"=>"2010-4-22", "expense_type"=>"1", "value"=>"20", "note"=>"出去吃饭坐出租车"}}
  [4;36;1mExpenseItem Columns (98.0ms)[0m   [0;1mSHOW FIELDS FROM `expense_items`[0m

ActiveRecord::AssociationTypeMismatch (ExpenseType(#85354392) expected, got String(#19250808)):
  app/controllers/expense_controller.rb:17:in `new'
  app/controllers/expense_controller.rb:17:in `create'

Rendered rescues/_trace (107.0ms)
Rendered rescues/_request_and_response (1.0ms)
Rendering rescues/layout (internal_server_error)
  [4;35;1mSQL (0.0ms)[0m   [0mSET NAMES 'utf8'[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mSET SQL_AUTO_IS_NULL=0[0m


Processing ExpenseController#new (for 127.0.0.1 at 2010-04-25 22:30:17) [GET]
  [4;35;1mExpenseType Load (1.0ms)[0m   [0mSELECT * FROM `expense_types` [0m
  [4;36;1mExpenseType Columns (5.0ms)[0m   [0;1mSHOW FIELDS FROM `expense_types`[0m
Rendering template within layouts/expense
Rendering expense/new
Completed in 27ms (View: 12, DB: 6) | 200 OK [http://localhost/expense/new]
  [4;35;1mSQL (2.0ms)[0m   [0mSET NAMES 'utf8'[0m
  [4;36;1mSQL (1.0ms)[0m   [0;1mSET SQL_AUTO_IS_NULL=0[0m


Processing ExpenseController#create (for 127.0.0.1 at 2010-04-25 22:30:31) [POST]
  Parameters: {"commit"=>"Save changes", "authenticity_token"=>"J3FyYk3jLIDiN5d3VYr/75BwIN44CV7ouawTcellGM8=", "expense_item"=>{"date"=>"2010-3-22", "value"=>"21", "note"=>"出去吃饭", "expense_type_id"=>"1"}}
  [4;35;1mExpenseItem Columns (5.0ms)[0m   [0mSHOW FIELDS FROM `expense_items`[0m
  [4;36;1mSQL (4.0ms)[0m   [0;1mBEGIN[0m
  [4;35;1mExpenseItem Create (81.0ms)[0m   [0mINSERT INTO `expense_items` (`updated_at`, `date`, `value`, `expense_type_id`, `note`, `created_at`) VALUES('2010-04-25 14:30:31', '2010-03-22', 21.0, 1, '出去吃饭', '2010-04-25 14:30:31')[0m
  [4;36;1mSQL (51.0ms)[0m   [0;1mCOMMIT[0m

ActionView::MissingTemplate (Missing template expense/create.erb in view path app/views):
  

Rendering rescues/layout (internal_server_error)
  [4;35;1mSQL (0.0ms)[0m   [0mSET NAMES 'utf8'[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mSET SQL_AUTO_IS_NULL=0[0m


Processing ExpenseController#new (for 127.0.0.1 at 2010-04-25 22:31:25) [GET]
  [4;35;1mExpenseType Load (0.0ms)[0m   [0mSELECT * FROM `expense_types` [0m
  [4;36;1mExpenseType Columns (4.0ms)[0m   [0;1mSHOW FIELDS FROM `expense_types`[0m
Rendering template within layouts/expense
Rendering expense/new
Completed in 24ms (View: 9, DB: 4) | 200 OK [http://localhost/expense/new]
  [4;35;1mSQL (0.0ms)[0m   [0mSET NAMES 'utf8'[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mSET SQL_AUTO_IS_NULL=0[0m


Processing ExpenseController#create (for 127.0.0.1 at 2010-04-25 22:31:38) [POST]
  Parameters: {"commit"=>"Save changes", "authenticity_token"=>"J3FyYk3jLIDiN5d3VYr/75BwIN44CV7ouawTcellGM8=", "expense_item"=>{"date"=>"2010-4-2", "value"=>"12", "note"=>"海鹏中午吃饭", "expense_type_id"=>"2"}}
  [4;35;1mExpenseItem Columns (5.0ms)[0m   [0mSHOW FIELDS FROM `expense_items`[0m
  [4;36;1mSQL (4.0ms)[0m   [0;1mBEGIN[0m
  [4;35;1mExpenseItem Create (1.0ms)[0m   [0mINSERT INTO `expense_items` (`updated_at`, `date`, `value`, `expense_type_id`, `note`, `created_at`) VALUES('2010-04-25 14:31:38', '2010-04-02', 12.0, 2, '海鹏中午吃饭', '2010-04-25 14:31:38')[0m
  [4;36;1mSQL (28.0ms)[0m   [0;1mCOMMIT[0m
Rendering template within layouts/expense
Rendering expense/create
Completed in 60ms (View: 7, DB: 38) | 200 OK [http://localhost/expense/create]
  [4;35;1mSQL (1.0ms)[0m   [0mSET NAMES 'utf8'[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mSET SQL_AUTO_IS_NULL=0[0m


Processing ExpenseController#index (for 127.0.0.1 at 2010-04-25 23:08:32) [GET]

ArgumentError (wrong number of arguments (2 for 1)):
  app/controllers/expense_controller.rb:56:in `first_day_of_month'
  app/controllers/expense_controller.rb:56:in `normalize_date'
  app/controllers/expense_controller.rb:4:in `index'

Rendered rescues/_trace (56.0ms)
Rendered rescues/_request_and_response (0.0ms)
Rendering rescues/layout (internal_server_error)
  [4;35;1mSQL (1.0ms)[0m   [0mSET NAMES 'utf8'[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mSET SQL_AUTO_IS_NULL=0[0m


Processing ExpenseController#index (for 127.0.0.1 at 2010-04-25 23:09:25) [GET]

ArgumentError (wrong number of arguments (2 for 1)):
  app/controllers/expense_controller.rb:56:in `first_day_of_month'
  app/controllers/expense_controller.rb:56:in `normalize_date'
  app/controllers/expense_controller.rb:4:in `index'

Rendered rescues/_trace (94.0ms)
Rendered rescues/_request_and_response (0.0ms)
Rendering rescues/layout (internal_server_error)
  [4;35;1mSQL (1.0ms)[0m   [0mSET NAMES 'utf8'[0m
  [4;36;1mSQL (1.0ms)[0m   [0;1mSET SQL_AUTO_IS_NULL=0[0m


Processing ExpenseController#index (for 127.0.0.1 at 2010-04-25 23:10:48) [GET]

ArgumentError (invalid date):
  d:/Ruby/lib/ruby/1.8/date.rb:727:in `new'
  app/controllers/expense_controller.rb:62:in `last_day_of_month'
  app/controllers/expense_controller.rb:57:in `normalize_date'
  app/controllers/expense_controller.rb:4:in `index'

Rendered rescues/_trace (47.0ms)
Rendered rescues/_request_and_response (1.0ms)
Rendering rescues/layout (internal_server_error)
  [4;35;1mSQL (0.0ms)[0m   [0mSET NAMES 'utf8'[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mSET SQL_AUTO_IS_NULL=0[0m


Processing ExpenseController#index (for 127.0.0.1 at 2010-04-25 23:11:45) [GET]

NameError (uninitialized constant ExpenseController::ExpenseItems):
  app/controllers/expense_controller.rb:6:in `index'

Rendered rescues/_trace (47.0ms)
Rendered rescues/_request_and_response (0.0ms)
Rendering rescues/layout (internal_server_error)
  [4;35;1mSQL (0.0ms)[0m   [0mSET NAMES 'utf8'[0m
  [4;36;1mSQL (2.0ms)[0m   [0;1mSET SQL_AUTO_IS_NULL=0[0m


Processing ExpenseController#index (for 127.0.0.1 at 2010-04-25 23:12:02) [GET]

ArgumentError (Unknown key(s): condition):
  app/controllers/expense_controller.rb:6:in `index'

Rendered rescues/_trace (99.0ms)
Rendered rescues/_request_and_response (1.0ms)
Rendering rescues/layout (internal_server_error)
  [4;35;1mSQL (0.0ms)[0m   [0mSET NAMES 'utf8'[0m
  [4;36;1mSQL (1.0ms)[0m   [0;1mSET SQL_AUTO_IS_NULL=0[0m


Processing ExpenseController#index (for 127.0.0.1 at 2010-04-25 23:16:20) [GET]
  [4;35;1mExpenseItem Load (64.0ms)[0m   [0mSELECT * FROM `expense_items` WHERE (date BETWEEN '2010-04-01' and '2010-04-30') [0m
Rendering template within layouts/expense
Rendering expense/index
  [4;36;1mExpenseItem Columns (4.0ms)[0m   [0;1mSHOW FIELDS FROM `expense_items`[0m
  [4;35;1mExpenseType Columns (4.0ms)[0m   [0mSHOW FIELDS FROM `expense_types`[0m
  [4;36;1mExpenseType Load (21.0ms)[0m   [0;1mSELECT * FROM `expense_types` WHERE (`expense_types`.`id` = 2) [0m
Completed in 124ms (View: 22, DB: 94) | 200 OK [http://localhost/expense/]
  [4;35;1mSQL (0.0ms)[0m   [0mSET NAMES 'utf8'[0m
  [4;36;1mSQL (1.0ms)[0m   [0;1mSET SQL_AUTO_IS_NULL=0[0m


Processing ExpenseController#new (for 127.0.0.1 at 2010-04-25 23:16:34) [GET]
  [4;35;1mExpenseType Load (0.0ms)[0m   [0mSELECT * FROM `expense_types` [0m
  [4;36;1mExpenseType Columns (4.0ms)[0m   [0;1mSHOW FIELDS FROM `expense_types`[0m
Rendering template within layouts/expense
Rendering expense/new
Completed in 19ms (View: 5, DB: 5) | 200 OK [http://localhost/expense/new]
  [4;35;1mSQL (0.0ms)[0m   [0mSET NAMES 'utf8'[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mSET SQL_AUTO_IS_NULL=0[0m


Processing ExpenseController#create (for 127.0.0.1 at 2010-04-25 23:16:51) [POST]
  Parameters: {"commit"=>"Save changes", "authenticity_token"=>"J3FyYk3jLIDiN5d3VYr/75BwIN44CV7ouawTcellGM8=", "expense_item"=>{"date"=>"2010-4-2", "value"=>"10", "note"=>"早上上班", "expense_type_id"=>"1"}}
  [4;35;1mExpenseItem Columns (4.0ms)[0m   [0mSHOW FIELDS FROM `expense_items`[0m
  [4;36;1mSQL (3.0ms)[0m   [0;1mBEGIN[0m
  [4;35;1mExpenseItem Create (0.0ms)[0m   [0mINSERT INTO `expense_items` (`updated_at`, `date`, `value`, `expense_type_id`, `note`, `created_at`) VALUES('2010-04-25 15:16:51', '2010-04-02', 10.0, 1, '早上上班', '2010-04-25 15:16:51')[0m
  [4;36;1mSQL (90.0ms)[0m   [0;1mCOMMIT[0m
Rendering template within layouts/expense
Rendering expense/create
Completed in 116ms (View: 4, DB: 97) | 200 OK [http://localhost/expense/create]
  [4;35;1mSQL (0.0ms)[0m   [0mSET NAMES 'utf8'[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mSET SQL_AUTO_IS_NULL=0[0m


Processing ExpenseController#index (for 127.0.0.1 at 2010-04-25 23:16:54) [GET]
  [4;35;1mExpenseItem Load (0.0ms)[0m   [0mSELECT * FROM `expense_items` WHERE (date BETWEEN '2010-04-01' and '2010-04-30') [0m
Rendering template within layouts/expense
Rendering expense/index
  [4;36;1mExpenseItem Columns (6.0ms)[0m   [0;1mSHOW FIELDS FROM `expense_items`[0m
  [4;35;1mExpenseType Columns (9.0ms)[0m   [0mSHOW FIELDS FROM `expense_types`[0m
  [4;36;1mExpenseType Load (6.0ms)[0m   [0;1mSELECT * FROM `expense_types` WHERE (`expense_types`.`id` = 2) [0m
  [4;35;1mExpenseType Load (1.0ms)[0m   [0mSELECT * FROM `expense_types` WHERE (`expense_types`.`id` = 1) [0m
Completed in 54ms (View: 18, DB: 22) | 200 OK [http://localhost/expense/]
  [4;36;1mSQL (0.0ms)[0m   [0;1mSET NAMES 'utf8'[0m
  [4;35;1mSQL (3.0ms)[0m   [0mSET SQL_AUTO_IS_NULL=0[0m


Processing ExpenseController#index (for 127.0.0.1 at 2010-04-25 23:17:40) [GET]
  [4;36;1mExpenseItem Load (1.0ms)[0m   [0;1mSELECT * FROM `expense_items` WHERE (date BETWEEN '2010-04-01' and '2010-04-30') [0m
Rendering template within layouts/expense
Rendering expense/index
  [4;35;1mExpenseItem Columns (5.0ms)[0m   [0mSHOW FIELDS FROM `expense_items`[0m
  [4;36;1mExpenseType Columns (3.0ms)[0m   [0;1mSHOW FIELDS FROM `expense_types`[0m
  [4;35;1mExpenseType Load (6.0ms)[0m   [0mSELECT * FROM `expense_types` WHERE (`expense_types`.`id` = 2) [0m
  [4;36;1mExpenseType Load (0.0ms)[0m   [0;1mSELECT * FROM `expense_types` WHERE (`expense_types`.`id` = 1) [0m
Completed in 45ms (View: 22, DB: 18) | 200 OK [http://localhost/expense/]
  [4;36;1mSQL (147.0ms)[0m   [0;1mSET NAMES 'utf8'[0m
  [4;35;1mSQL (39.0ms)[0m   [0mSET SQL_AUTO_IS_NULL=0[0m


Processing ExpenseController#index (for 127.0.0.1 at 2010-04-26 21:21:16) [GET]
  [4;36;1mExpenseItem Load (561.0ms)[0m   [0;1mSELECT * FROM `expense_items` WHERE (date BETWEEN '2010-04-01' and '2010-04-30') [0m
Rendering template within layouts/expense
Rendering expense/index
  [4;35;1mExpenseItem Columns (387.0ms)[0m   [0mSHOW FIELDS FROM `expense_items`[0m
  [4;36;1mExpenseType Columns (35.0ms)[0m   [0;1mSHOW FIELDS FROM `expense_types`[0m
  [4;35;1mExpenseType Load (79.0ms)[0m   [0mSELECT * FROM `expense_types` WHERE (`expense_types`.`id` = 2) [0m
  [4;36;1mExpenseType Load (1.0ms)[0m   [0;1mSELECT * FROM `expense_types` WHERE (`expense_types`.`id` = 1) [0m
Completed in 1696ms (View: 362, DB: 1249) | 200 OK [http://localhost/expense/]
  [4;35;1mSQL (0.0ms)[0m   [0mSET NAMES 'utf8'[0m
  [4;36;1mSQL (1.0ms)[0m   [0;1mSET SQL_AUTO_IS_NULL=0[0m


Processing ExpenseController#index (for 127.0.0.1 at 2010-04-26 21:22:31) [GET]
  [4;35;1mExpenseItem Load (5.0ms)[0m   [0mSELECT * FROM `expense_items` WHERE (date BETWEEN '2010-04-01' and '2010-04-30') [0m
Rendering template within layouts/expense
Rendering expense/index
  [4;36;1mExpenseItem Columns (52.0ms)[0m   [0;1mSHOW FIELDS FROM `expense_items`[0m
  [4;35;1mExpenseType Columns (8.0ms)[0m   [0mSHOW FIELDS FROM `expense_types`[0m
  [4;36;1mExpenseType Load (10.0ms)[0m   [0;1mSELECT * FROM `expense_types` WHERE (`expense_types`.`id` = 2) [0m
  [4;35;1mExpenseType Load (0.0ms)[0m   [0mSELECT * FROM `expense_types` WHERE (`expense_types`.`id` = 1) [0m
Completed in 139ms (View: 44, DB: 76) | 200 OK [http://localhost/expense/]
  [4;36;1mSQL (1.0ms)[0m   [0;1mSET NAMES 'utf8'[0m
  [4;35;1mSQL (1.0ms)[0m   [0mSET SQL_AUTO_IS_NULL=0[0m


Processing ExpenseController#index (for 127.0.0.1 at 2010-04-26 21:23:32) [GET]
  [4;36;1mExpenseItem Load (1.0ms)[0m   [0;1mSELECT * FROM `expense_items` WHERE (date BETWEEN '2010-04-01' and '2010-04-30') [0m
Rendering template within layouts/expense
Rendering expense/index
  [4;35;1mExpenseItem Columns (98.0ms)[0m   [0mSHOW FIELDS FROM `expense_items`[0m
  [4;36;1mExpenseType Columns (6.0ms)[0m   [0;1mSHOW FIELDS FROM `expense_types`[0m
  [4;35;1mExpenseType Load (9.0ms)[0m   [0mSELECT * FROM `expense_types` WHERE (`expense_types`.`id` = 2) [0m
  [4;36;1mExpenseType Load (1.0ms)[0m   [0;1mSELECT * FROM `expense_types` WHERE (`expense_types`.`id` = 1) [0m
Completed in 251ms (View: 118, DB: 117) | 200 OK [http://localhost/expense/]
  [4;35;1mSQL (0.0ms)[0m   [0mSET NAMES 'utf8'[0m
  [4;36;1mSQL (1.0ms)[0m   [0;1mSET SQL_AUTO_IS_NULL=0[0m


Processing ExpenseController#index (for 127.0.0.1 at 2010-04-26 21:25:36) [GET]
  [4;35;1mExpenseItem Load (1.0ms)[0m   [0mSELECT * FROM `expense_items` WHERE (date BETWEEN '2010-04-01' and '2010-04-30') [0m
Rendering template within layouts/expense
Rendering expense/index
  [4;36;1mExpenseItem Columns (10.0ms)[0m   [0;1mSHOW FIELDS FROM `expense_items`[0m
  [4;35;1mExpenseType Columns (6.0ms)[0m   [0mSHOW FIELDS FROM `expense_types`[0m
  [4;36;1mExpenseType Load (9.0ms)[0m   [0;1mSELECT * FROM `expense_types` WHERE (`expense_types`.`id` = 2) [0m
  [4;35;1mExpenseType Load (1.0ms)[0m   [0mSELECT * FROM `expense_types` WHERE (`expense_types`.`id` = 1) [0m
Completed in 89ms (View: 44, DB: 28) | 200 OK [http://localhost/expense/]
  [4;36;1mSQL (0.0ms)[0m   [0;1mSET NAMES 'utf8'[0m
  [4;35;1mSQL (1.0ms)[0m   [0mSET SQL_AUTO_IS_NULL=0[0m


Processing ExpenseController#delete (for 127.0.0.1 at 2010-04-26 21:25:42) [GET]
  Parameters: {"confirm"=>"确定要删除吗？", "id"=>"3"}

ActionView::MissingTemplate (Missing template expense/delete.erb in view path app/views):
  

Rendering rescues/layout (internal_server_error)
  [4;36;1mSQL (0.0ms)[0m   [0;1mSET NAMES 'utf8'[0m
  [4;35;1mSQL (0.0ms)[0m   [0mSET SQL_AUTO_IS_NULL=0[0m


Processing ExpenseController#index (for 127.0.0.1 at 2010-04-26 21:25:47) [GET]
  [4;36;1mExpenseItem Load (1.0ms)[0m   [0;1mSELECT * FROM `expense_items` WHERE (date BETWEEN '2010-04-01' and '2010-04-30') [0m
Rendering template within layouts/expense
Rendering expense/index
  [4;35;1mExpenseItem Columns (8.0ms)[0m   [0mSHOW FIELDS FROM `expense_items`[0m
  [4;36;1mExpenseType Columns (7.0ms)[0m   [0;1mSHOW FIELDS FROM `expense_types`[0m
  [4;35;1mExpenseType Load (9.0ms)[0m   [0mSELECT * FROM `expense_types` WHERE (`expense_types`.`id` = 2) [0m
  [4;36;1mExpenseType Load (0.0ms)[0m   [0;1mSELECT * FROM `expense_types` WHERE (`expense_types`.`id` = 1) [0m
Completed in 93ms (View: 39, DB: 25) | 200 OK [http://localhost/expense/]
  [4;35;1mSQL (0.0ms)[0m   [0mSET NAMES 'utf8'[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mSET SQL_AUTO_IS_NULL=0[0m


Processing ExpenseController#index (for 127.0.0.1 at 2010-04-26 21:26:19) [GET]
  [4;35;1mExpenseItem Load (1.0ms)[0m   [0mSELECT * FROM `expense_items` WHERE (date BETWEEN '2010-04-01' and '2010-04-30') [0m
Rendering template within layouts/expense
Rendering expense/index
  [4;36;1mExpenseItem Columns (8.0ms)[0m   [0;1mSHOW FIELDS FROM `expense_items`[0m
  [4;35;1mExpenseType Columns (10.0ms)[0m   [0mSHOW FIELDS FROM `expense_types`[0m
  [4;36;1mExpenseType Load (9.0ms)[0m   [0;1mSELECT * FROM `expense_types` WHERE (`expense_types`.`id` = 2) [0m
  [4;35;1mExpenseType Load (1.0ms)[0m   [0mSELECT * FROM `expense_types` WHERE (`expense_types`.`id` = 1) [0m
Completed in 88ms (View: 42, DB: 29) | 200 OK [http://localhost/expense/]
  [4;36;1mSQL (1.0ms)[0m   [0;1mSET NAMES 'utf8'[0m
  [4;35;1mSQL (1.0ms)[0m   [0mSET SQL_AUTO_IS_NULL=0[0m


Processing ExpenseController#index (for 127.0.0.1 at 2010-04-26 21:26:31) [GET]
  [4;36;1mExpenseItem Load (0.0ms)[0m   [0;1mSELECT * FROM `expense_items` WHERE (date BETWEEN '2010-04-01' and '2010-04-30') [0m
Rendering template within layouts/expense
Rendering expense/index
  [4;35;1mExpenseItem Columns (10.0ms)[0m   [0mSHOW FIELDS FROM `expense_items`[0m
  [4;36;1mExpenseType Columns (6.0ms)[0m   [0;1mSHOW FIELDS FROM `expense_types`[0m
  [4;35;1mExpenseType Load (10.0ms)[0m   [0mSELECT * FROM `expense_types` WHERE (`expense_types`.`id` = 2) [0m
  [4;36;1mExpenseType Load (1.0ms)[0m   [0;1mSELECT * FROM `expense_types` WHERE (`expense_types`.`id` = 1) [0m
Completed in 75ms (View: 29, DB: 29) | 200 OK [http://localhost/expense/]
  [4;35;1mSQL (1.0ms)[0m   [0mSET NAMES 'utf8'[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mSET SQL_AUTO_IS_NULL=0[0m


Processing ExpenseController#index (for 127.0.0.1 at 2010-04-26 21:27:43) [GET]
  [4;35;1mExpenseItem Load (1.0ms)[0m   [0mSELECT * FROM `expense_items` WHERE (date BETWEEN '2010-04-01' and '2010-04-30') [0m
Rendering template within layouts/expense
Rendering expense/index
  [4;36;1mExpenseItem Columns (8.0ms)[0m   [0;1mSHOW FIELDS FROM `expense_items`[0m
  [4;35;1mExpenseType Columns (7.0ms)[0m   [0mSHOW FIELDS FROM `expense_types`[0m
  [4;36;1mExpenseType Load (10.0ms)[0m   [0;1mSELECT * FROM `expense_types` WHERE (`expense_types`.`id` = 2) [0m
  [4;35;1mExpenseType Load (1.0ms)[0m   [0mSELECT * FROM `expense_types` WHERE (`expense_types`.`id` = 1) [0m
Completed in 90ms (View: 46, DB: 28) | 200 OK [http://localhost/expense/]
  [4;36;1mSQL (0.0ms)[0m   [0;1mSET NAMES 'utf8'[0m
  [4;35;1mSQL (0.0ms)[0m   [0mSET SQL_AUTO_IS_NULL=0[0m


Processing ExpenseController#create (for 127.0.0.1 at 2010-04-26 21:27:46) [GET]
Rendering template within layouts/expense
Rendering expense/create
Completed in 29ms (View: 26, DB: 0) | 200 OK [http://localhost/expense/create]
  [4;36;1mSQL (1.0ms)[0m   [0;1mSET NAMES 'utf8'[0m
  [4;35;1mSQL (2.0ms)[0m   [0mSET SQL_AUTO_IS_NULL=0[0m


Processing ExpenseController#index (for 127.0.0.1 at 2010-04-26 21:28:00) [GET]
  [4;36;1mExpenseItem Load (1.0ms)[0m   [0;1mSELECT * FROM `expense_items` WHERE (date BETWEEN '2010-04-01' and '2010-04-30') [0m
Rendering template within layouts/expense
Rendering expense/index
  [4;35;1mExpenseItem Columns (8.0ms)[0m   [0mSHOW FIELDS FROM `expense_items`[0m
  [4;36;1mExpenseType Columns (7.0ms)[0m   [0;1mSHOW FIELDS FROM `expense_types`[0m
  [4;35;1mExpenseType Load (10.0ms)[0m   [0mSELECT * FROM `expense_types` WHERE (`expense_types`.`id` = 2) [0m
  [4;36;1mExpenseType Load (1.0ms)[0m   [0;1mSELECT * FROM `expense_types` WHERE (`expense_types`.`id` = 1) [0m
Completed in 94ms (View: 46, DB: 30) | 200 OK [http://localhost/expense/]
  [4;35;1mSQL (0.0ms)[0m   [0mSET NAMES 'utf8'[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mSET SQL_AUTO_IS_NULL=0[0m


Processing ExpenseController#index (for 127.0.0.1 at 2010-04-26 21:28:02) [GET]
  [4;35;1mExpenseItem Load (1.0ms)[0m   [0mSELECT * FROM `expense_items` WHERE (date BETWEEN '2010-04-01' and '2010-04-30') [0m
Rendering template within layouts/expense
Rendering expense/index
  [4;36;1mExpenseItem Columns (8.0ms)[0m   [0;1mSHOW FIELDS FROM `expense_items`[0m
  [4;35;1mExpenseType Columns (6.0ms)[0m   [0mSHOW FIELDS FROM `expense_types`[0m
  [4;36;1mExpenseType Load (8.0ms)[0m   [0;1mSELECT * FROM `expense_types` WHERE (`expense_types`.`id` = 2) [0m
  [4;35;1mExpenseType Load (0.0ms)[0m   [0mSELECT * FROM `expense_types` WHERE (`expense_types`.`id` = 1) [0m
Completed in 76ms (View: 34, DB: 23) | 200 OK [http://localhost/expense/]
  [4;36;1mSQL (1.0ms)[0m   [0;1mSET NAMES 'utf8'[0m
  [4;35;1mSQL (0.0ms)[0m   [0mSET SQL_AUTO_IS_NULL=0[0m


Processing ExpenseController#new (for 127.0.0.1 at 2010-04-26 21:28:04) [GET]
  [4;36;1mExpenseType Load (0.0ms)[0m   [0;1mSELECT * FROM `expense_types` [0m
  [4;35;1mExpenseType Columns (8.0ms)[0m   [0mSHOW FIELDS FROM `expense_types`[0m
Rendering template within layouts/expense
Rendering expense/new
Completed in 85ms (View: 56, DB: 9) | 200 OK [http://localhost/expense/new]
  [4;36;1mSQL (0.0ms)[0m   [0;1mSET NAMES 'utf8'[0m
  [4;35;1mSQL (1.0ms)[0m   [0mSET SQL_AUTO_IS_NULL=0[0m


Processing ExpenseController#index (for 127.0.0.1 at 2010-04-26 21:28:12) [GET]
  [4;36;1mExpenseItem Load (1.0ms)[0m   [0;1mSELECT * FROM `expense_items` WHERE (date BETWEEN '2010-04-01' and '2010-04-30') [0m
Rendering template within layouts/expense
Rendering expense/index
  [4;35;1mExpenseItem Columns (8.0ms)[0m   [0mSHOW FIELDS FROM `expense_items`[0m
  [4;36;1mExpenseType Columns (7.0ms)[0m   [0;1mSHOW FIELDS FROM `expense_types`[0m
  [4;35;1mExpenseType Load (8.0ms)[0m   [0mSELECT * FROM `expense_types` WHERE (`expense_types`.`id` = 2) [0m
  [4;36;1mExpenseType Load (1.0ms)[0m   [0;1mSELECT * FROM `expense_types` WHERE (`expense_types`.`id` = 1) [0m
Completed in 88ms (View: 33, DB: 26) | 200 OK [http://localhost/expense/]
  [4;35;1mSQL (2.0ms)[0m   [0mSET NAMES 'utf8'[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mSET SQL_AUTO_IS_NULL=0[0m


Processing ExpenseController#new (for 127.0.0.1 at 2010-04-26 21:29:02) [GET]
  [4;35;1mExpenseType Load (0.0ms)[0m   [0mSELECT * FROM `expense_types` [0m
  [4;36;1mExpenseType Columns (9.0ms)[0m   [0;1mSHOW FIELDS FROM `expense_types`[0m
Rendering template within layouts/expense
Rendering expense/new
Completed in 48ms (View: 10, DB: 11) | 200 OK [http://localhost/expense/new]
  [4;35;1mSQL (0.0ms)[0m   [0mSET NAMES 'utf8'[0m
  [4;36;1mSQL (5.0ms)[0m   [0;1mSET SQL_AUTO_IS_NULL=0[0m


Processing ExpenseController#index (for 127.0.0.1 at 2010-04-26 21:29:03) [GET]
  [4;35;1mExpenseItem Load (1.0ms)[0m   [0mSELECT * FROM `expense_items` WHERE (date BETWEEN '2010-04-01' and '2010-04-30') [0m
Rendering template within layouts/expense
Rendering expense/index
  [4;36;1mExpenseItem Columns (8.0ms)[0m   [0;1mSHOW FIELDS FROM `expense_items`[0m
  [4;35;1mExpenseType Columns (7.0ms)[0m   [0mSHOW FIELDS FROM `expense_types`[0m
  [4;36;1mExpenseType Load (9.0ms)[0m   [0;1mSELECT * FROM `expense_types` WHERE (`expense_types`.`id` = 2) [0m
  [4;35;1mExpenseType Load (1.0ms)[0m   [0mSELECT * FROM `expense_types` WHERE (`expense_types`.`id` = 1) [0m
Completed in 86ms (View: 30, DB: 31) | 200 OK [http://localhost/expense/]
  [4;36;1mSQL (0.0ms)[0m   [0;1mSET NAMES 'utf8'[0m
  [4;35;1mSQL (1.0ms)[0m   [0mSET SQL_AUTO_IS_NULL=0[0m


Processing ExpenseController#index (for 127.0.0.1 at 2010-04-26 22:02:59) [GET]
  [4;36;1mExpenseItem Load (1.0ms)[0m   [0;1mSELECT * FROM `expense_items` WHERE (date BETWEEN '2010-04-01' and '2010-04-30') [0m
Rendering template within layouts/expense
Rendering expense/index
  [4;35;1mExpenseItem Columns (16.0ms)[0m   [0mSHOW FIELDS FROM `expense_items`[0m
  [4;36;1mExpenseType Columns (4.0ms)[0m   [0;1mSHOW FIELDS FROM `expense_types`[0m
  [4;35;1mExpenseType Load (4.0ms)[0m   [0mSELECT * FROM `expense_types` WHERE (`expense_types`.`id` = 2) [0m
  [4;36;1mExpenseType Load (1.0ms)[0m   [0;1mSELECT * FROM `expense_types` WHERE (`expense_types`.`id` = 1) [0m
Completed in 58ms (View: 23, DB: 27) | 200 OK [http://localhost/expense/]
  [4;35;1mSQL (1.0ms)[0m   [0mSET NAMES 'utf8'[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mSET SQL_AUTO_IS_NULL=0[0m


Processing ExpenseController#edit (for 127.0.0.1 at 2010-04-26 22:03:01) [GET]
  Parameters: {"id"=>"2"}
Rendering template within layouts/expense
Rendering expense/edit

ActionView::TemplateError (Called id for nil, which would mistakenly be 4 -- if you really wanted the id of nil, use object_id) on line #3 of app/views/expense/edit.html.erb:
1: <div>
2:   <h2>编辑消费记录</h2>
3:   <% form_for @expense_item, :url => { :action => :update} do |form| %>
4:     <p>
5:       <label for="date">日期</label><br/>
6:       <%= form.text_field :date %>

    app/views/expense/edit.html.erb:3

Rendered rescues/_trace (111.0ms)
Rendered rescues/_request_and_response (2.0ms)
Rendering rescues/layout (internal_server_error)
  [4;35;1mSQL (0.0ms)[0m   [0mSET NAMES 'utf8'[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mSET SQL_AUTO_IS_NULL=0[0m


Processing ExpenseController#edit (for 127.0.0.1 at 2010-04-26 22:03:47) [GET]
  Parameters: {"id"=>"2"}
  [4;35;1mExpenseItem Columns (5.0ms)[0m   [0mSHOW FIELDS FROM `expense_items`[0m
  [4;36;1mExpenseItem Load (6.0ms)[0m   [0;1mSELECT * FROM `expense_items` WHERE (`expense_items`.`id` = 2) [0m
Rendering template within layouts/expense
Rendering expense/edit

ActionView::TemplateError (You have a nil object when you didn't expect it!
You might have expected an instance of Array.
The error occurred while evaluating nil.inject) on line #11 of app/views/expense/edit.html.erb:
8: 
9:     <p>
10:       <label for="type">类型</label><br/>
11:       <%= form.select :expense_type_id, @all_types %>
12:     </p>
13: 
14:     <p>

    app/views/expense/edit.html.erb:11
    app/views/expense/edit.html.erb:3

Rendered rescues/_trace (63.0ms)
Rendered rescues/_request_and_response (1.0ms)
Rendering rescues/layout (internal_server_error)
  [4;35;1mSQL (0.0ms)[0m   [0mSET NAMES 'utf8'[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mSET SQL_AUTO_IS_NULL=0[0m


Processing ExpenseController#edit (for 127.0.0.1 at 2010-04-26 22:05:10) [GET]
  Parameters: {"id"=>"2"}
  [4;35;1mExpenseItem Columns (5.0ms)[0m   [0mSHOW FIELDS FROM `expense_items`[0m
  [4;36;1mExpenseItem Load (5.0ms)[0m   [0;1mSELECT * FROM `expense_items` WHERE (`expense_items`.`id` = 2) [0m
  [4;35;1mExpenseType Load (1.0ms)[0m   [0mSELECT * FROM `expense_types` [0m
  [4;36;1mExpenseType Columns (3.0ms)[0m   [0;1mSHOW FIELDS FROM `expense_types`[0m
Rendering template within layouts/expense
Rendering expense/edit
Completed in 37ms (View: 7, DB: 14) | 200 OK [http://localhost/expense/edit/2]
  [4;35;1mSQL (0.0ms)[0m   [0mSET NAMES 'utf8'[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mSET SQL_AUTO_IS_NULL=0[0m


Processing ExpenseController#index (for 127.0.0.1 at 2010-04-26 22:05:20) [GET]
  [4;35;1mExpenseItem Load (1.0ms)[0m   [0mSELECT * FROM `expense_items` WHERE (date BETWEEN '2010-04-01' and '2010-04-30') [0m
Rendering template within layouts/expense
Rendering expense/index
  [4;36;1mExpenseItem Columns (5.0ms)[0m   [0;1mSHOW FIELDS FROM `expense_items`[0m
  [4;35;1mExpenseType Columns (8.0ms)[0m   [0mSHOW FIELDS FROM `expense_types`[0m
  [4;36;1mExpenseType Load (6.0ms)[0m   [0;1mSELECT * FROM `expense_types` WHERE (`expense_types`.`id` = 2) [0m
  [4;35;1mExpenseType Load (0.0ms)[0m   [0mSELECT * FROM `expense_types` WHERE (`expense_types`.`id` = 1) [0m
Completed in 49ms (View: 19, DB: 20) | 200 OK [http://localhost/expense/]
  [4;36;1mSQL (2.0ms)[0m   [0;1mSET NAMES 'utf8'[0m
  [4;35;1mSQL (1.0ms)[0m   [0mSET SQL_AUTO_IS_NULL=0[0m


Processing ExpenseController#edit (for 127.0.0.1 at 2010-04-26 22:05:22) [GET]
  Parameters: {"id"=>"3"}
  [4;36;1mExpenseItem Columns (5.0ms)[0m   [0;1mSHOW FIELDS FROM `expense_items`[0m
  [4;35;1mExpenseItem Load (5.0ms)[0m   [0mSELECT * FROM `expense_items` WHERE (`expense_items`.`id` = 3) [0m
  [4;36;1mExpenseType Load (0.0ms)[0m   [0;1mSELECT * FROM `expense_types` [0m
  [4;35;1mExpenseType Columns (4.0ms)[0m   [0mSHOW FIELDS FROM `expense_types`[0m
Rendering template within layouts/expense
Rendering expense/edit
Completed in 39ms (View: 7, DB: 17) | 200 OK [http://localhost/expense/edit/3]
  [4;36;1mSQL (0.0ms)[0m   [0;1mSET NAMES 'utf8'[0m
  [4;35;1mSQL (1.0ms)[0m   [0mSET SQL_AUTO_IS_NULL=0[0m


Processing ExpenseController#index (for 127.0.0.1 at 2010-04-26 22:05:33) [GET]
  [4;36;1mExpenseItem Load (0.0ms)[0m   [0;1mSELECT * FROM `expense_items` WHERE (date BETWEEN '2010-04-01' and '2010-04-30') [0m
Rendering template within layouts/expense
Rendering expense/index
  [4;35;1mExpenseItem Columns (5.0ms)[0m   [0mSHOW FIELDS FROM `expense_items`[0m
  [4;36;1mExpenseType Columns (8.0ms)[0m   [0;1mSHOW FIELDS FROM `expense_types`[0m
  [4;35;1mExpenseType Load (8.0ms)[0m   [0mSELECT * FROM `expense_types` WHERE (`expense_types`.`id` = 2) [0m
  [4;36;1mExpenseType Load (1.0ms)[0m   [0;1mSELECT * FROM `expense_types` WHERE (`expense_types`.`id` = 1) [0m
Completed in 51ms (View: 17, DB: 23) | 200 OK [http://localhost/expense/]
  [4;35;1mSQL (0.0ms)[0m   [0mSET NAMES 'utf8'[0m
  [4;36;1mSQL (1.0ms)[0m   [0;1mSET SQL_AUTO_IS_NULL=0[0m


Processing ExpenseController#edit (for 127.0.0.1 at 2010-04-26 22:05:35) [GET]
  Parameters: {"id"=>"2"}
  [4;35;1mExpenseItem Columns (5.0ms)[0m   [0mSHOW FIELDS FROM `expense_items`[0m
  [4;36;1mExpenseItem Load (6.0ms)[0m   [0;1mSELECT * FROM `expense_items` WHERE (`expense_items`.`id` = 2) [0m
  [4;35;1mExpenseType Load (0.0ms)[0m   [0mSELECT * FROM `expense_types` [0m
  [4;36;1mExpenseType Columns (3.0ms)[0m   [0;1mSHOW FIELDS FROM `expense_types`[0m
Rendering template within layouts/expense
Rendering expense/edit
Completed in 42ms (View: 8, DB: 15) | 200 OK [http://localhost/expense/edit/2]
  [4;35;1mSQL (1.0ms)[0m   [0mSET NAMES 'utf8'[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mSET SQL_AUTO_IS_NULL=0[0m


Processing ExpenseController#index (for 127.0.0.1 at 2010-04-26 22:05:37) [GET]
  [4;35;1mExpenseItem Load (1.0ms)[0m   [0mSELECT * FROM `expense_items` WHERE (date BETWEEN '2010-04-01' and '2010-04-30') [0m
Rendering template within layouts/expense
Rendering expense/index
  [4;36;1mExpenseItem Columns (6.0ms)[0m   [0;1mSHOW FIELDS FROM `expense_items`[0m
  [4;35;1mExpenseType Columns (4.0ms)[0m   [0mSHOW FIELDS FROM `expense_types`[0m
  [4;36;1mExpenseType Load (5.0ms)[0m   [0;1mSELECT * FROM `expense_types` WHERE (`expense_types`.`id` = 2) [0m
  [4;35;1mExpenseType Load (0.0ms)[0m   [0mSELECT * FROM `expense_types` WHERE (`expense_types`.`id` = 1) [0m
Completed in 44ms (View: 18, DB: 17) | 200 OK [http://localhost/expense/]
  [4;36;1mSQL (0.0ms)[0m   [0;1mSET NAMES 'utf8'[0m
  [4;35;1mSQL (1.0ms)[0m   [0mSET SQL_AUTO_IS_NULL=0[0m


Processing ExpenseController#edit (for 127.0.0.1 at 2010-04-26 22:06:29) [GET]
  Parameters: {"id"=>"2"}
  [4;36;1mExpenseItem Columns (35.0ms)[0m   [0;1mSHOW FIELDS FROM `expense_items`[0m
  [4;35;1mExpenseItem Load (7.0ms)[0m   [0mSELECT * FROM `expense_items` WHERE (`expense_items`.`id` = 2) [0m
  [4;36;1mExpenseType Load (0.0ms)[0m   [0;1mSELECT * FROM `expense_types` [0m
  [4;35;1mExpenseType Columns (4.0ms)[0m   [0mSHOW FIELDS FROM `expense_types`[0m
Rendering template within layouts/expense
Rendering expense/edit
Completed in 72ms (View: 8, DB: 47) | 200 OK [http://localhost/expense/edit/2]
  [4;36;1mSQL (0.0ms)[0m   [0;1mSET NAMES 'utf8'[0m
  [4;35;1mSQL (2.0ms)[0m   [0mSET SQL_AUTO_IS_NULL=0[0m


Processing ExpenseController#index (for 127.0.0.1 at 2010-04-26 22:07:11) [GET]
  [4;36;1mExpenseItem Load (1.0ms)[0m   [0;1mSELECT * FROM `expense_items` WHERE (date BETWEEN '2010-04-01' and '2010-04-30') [0m
Rendering template within layouts/expense
Rendering expense/index
  [4;35;1mExpenseItem Columns (28.0ms)[0m   [0mSHOW FIELDS FROM `expense_items`[0m
  [4;36;1mExpenseType Columns (4.0ms)[0m   [0;1mSHOW FIELDS FROM `expense_types`[0m
  [4;35;1mExpenseType Load (4.0ms)[0m   [0mSELECT * FROM `expense_types` WHERE (`expense_types`.`id` = 2) [0m
  [4;36;1mExpenseType Load (0.0ms)[0m   [0;1mSELECT * FROM `expense_types` WHERE (`expense_types`.`id` = 1) [0m
Completed in 65ms (View: 18, DB: 39) | 200 OK [http://localhost/expense/]
  [4;35;1mSQL (0.0ms)[0m   [0mSET NAMES 'utf8'[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mSET SQL_AUTO_IS_NULL=0[0m


Processing ExpenseController#index (for 127.0.0.1 at 2010-04-26 22:07:12) [GET]
  [4;35;1mExpenseItem Load (1.0ms)[0m   [0mSELECT * FROM `expense_items` WHERE (date BETWEEN '2010-04-01' and '2010-04-30') [0m
Rendering template within layouts/expense
Rendering expense/index
  [4;36;1mExpenseItem Columns (4.0ms)[0m   [0;1mSHOW FIELDS FROM `expense_items`[0m
  [4;35;1mExpenseType Columns (3.0ms)[0m   [0mSHOW FIELDS FROM `expense_types`[0m
  [4;36;1mExpenseType Load (4.0ms)[0m   [0;1mSELECT * FROM `expense_types` WHERE (`expense_types`.`id` = 2) [0m
  [4;35;1mExpenseType Load (1.0ms)[0m   [0mSELECT * FROM `expense_types` WHERE (`expense_types`.`id` = 1) [0m
Completed in 38ms (View: 17, DB: 13) | 200 OK [http://localhost/expense/]
  [4;36;1mSQL (0.0ms)[0m   [0;1mSET NAMES 'utf8'[0m
  [4;35;1mSQL (0.0ms)[0m   [0mSET SQL_AUTO_IS_NULL=0[0m


Processing ExpenseController#edit (for 127.0.0.1 at 2010-04-26 22:07:15) [GET]
  Parameters: {"id"=>"2"}
  [4;36;1mExpenseItem Columns (4.0ms)[0m   [0;1mSHOW FIELDS FROM `expense_items`[0m
  [4;35;1mExpenseItem Load (5.0ms)[0m   [0mSELECT * FROM `expense_items` WHERE (`expense_items`.`id` = 2) [0m
  [4;36;1mExpenseType Load (1.0ms)[0m   [0;1mSELECT * FROM `expense_types` [0m
  [4;35;1mExpenseType Columns (3.0ms)[0m   [0mSHOW FIELDS FROM `expense_types`[0m
Rendering template within layouts/expense
Rendering expense/edit
Completed in 46ms (View: 15, DB: 13) | 200 OK [http://localhost/expense/edit/2]
  [4;36;1mSQL (0.0ms)[0m   [0;1mSET NAMES 'utf8'[0m
  [4;35;1mSQL (1.0ms)[0m   [0mSET SQL_AUTO_IS_NULL=0[0m


Processing ExpenseController#index (for 127.0.0.1 at 2010-04-26 22:27:34) [GET]
  [4;36;1mExpenseItem Load (1.0ms)[0m   [0;1mSELECT * FROM `expense_items` WHERE (date BETWEEN '2010-04-01' and '2010-04-30') [0m
Rendering template within layouts/expense
Rendering expense/index
  [4;35;1mExpenseItem Columns (8.0ms)[0m   [0mSHOW FIELDS FROM `expense_items`[0m
  [4;36;1mExpenseType Columns (7.0ms)[0m   [0;1mSHOW FIELDS FROM `expense_types`[0m
  [4;35;1mExpenseType Load (9.0ms)[0m   [0mSELECT * FROM `expense_types` WHERE (`expense_types`.`id` = 2) [0m
  [4;36;1mExpenseType Load (0.0ms)[0m   [0;1mSELECT * FROM `expense_types` WHERE (`expense_types`.`id` = 1) [0m
Completed in 83ms (View: 31, DB: 26) | 200 OK [http://localhost/expense/]
  [4;35;1mSQL (1.0ms)[0m   [0mSET NAMES 'utf8'[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mSET SQL_AUTO_IS_NULL=0[0m


Processing ExpenseController#new (for 127.0.0.1 at 2010-04-26 22:27:37) [GET]
  [4;35;1mExpenseType Load (1.0ms)[0m   [0mSELECT * FROM `expense_types` [0m
  [4;36;1mExpenseType Columns (8.0ms)[0m   [0;1mSHOW FIELDS FROM `expense_types`[0m
Rendering template within layouts/expense
Rendering expense/new
Completed in 40ms (View: 11, DB: 10) | 200 OK [http://localhost/expense/new]
  [4;35;1mSQL (2.0ms)[0m   [0mSET NAMES 'utf8'[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mSET SQL_AUTO_IS_NULL=0[0m


Processing ExpenseController#create (for 127.0.0.1 at 2010-04-26 22:28:03) [POST]
  Parameters: {"commit"=>"Save changes", "authenticity_token"=>"J3FyYk3jLIDiN5d3VYr/75BwIN44CV7ouawTcellGM8=", "expense_item"=>{"date"=>"2010-3-2", "value"=>"22", "note"=>"aaaa", "expense_type_id"=>"2"}}
  [4;35;1mExpenseItem Columns (10.0ms)[0m   [0mSHOW FIELDS FROM `expense_items`[0m
  [4;36;1mSQL (4.0ms)[0m   [0;1mBEGIN[0m
  [4;35;1mExpenseItem Create (128.0ms)[0m   [0mINSERT INTO `expense_items` (`updated_at`, `date`, `value`, `expense_type_id`, `note`, `created_at`) VALUES('2010-04-26 14:28:03', '2010-03-02', 22.0, 2, 'aaaa', '2010-04-26 14:28:03')[0m
  [4;36;1mSQL (112.0ms)[0m   [0;1mCOMMIT[0m
Redirected to http://localhost:3000/expense
Completed in 284ms (DB: 256) | 302 Found [http://localhost/expense/create]
  [4;35;1mSQL (0.0ms)[0m   [0mSET NAMES 'utf8'[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mSET SQL_AUTO_IS_NULL=0[0m


Processing ExpenseController#index (for 127.0.0.1 at 2010-04-26 22:28:04) [GET]
  [4;35;1mExpenseItem Load (1.0ms)[0m   [0mSELECT * FROM `expense_items` WHERE (date BETWEEN '2010-04-01' and '2010-04-30') [0m
Rendering template within layouts/expense
Rendering expense/index
  [4;36;1mExpenseItem Columns (8.0ms)[0m   [0;1mSHOW FIELDS FROM `expense_items`[0m
  [4;35;1mExpenseType Columns (6.0ms)[0m   [0mSHOW FIELDS FROM `expense_types`[0m
  [4;36;1mExpenseType Load (9.0ms)[0m   [0;1mSELECT * FROM `expense_types` WHERE (`expense_types`.`id` = 2) [0m
  [4;35;1mExpenseType Load (0.0ms)[0m   [0mSELECT * FROM `expense_types` WHERE (`expense_types`.`id` = 1) [0m
Completed in 86ms (View: 32, DB: 24) | 200 OK [http://localhost/expense]
  [4;36;1mSQL (0.0ms)[0m   [0;1mSET NAMES 'utf8'[0m
  [4;35;1mSQL (1.0ms)[0m   [0mSET SQL_AUTO_IS_NULL=0[0m


Processing ExpenseController#index (for 127.0.0.1 at 2010-04-26 22:28:43) [GET]
  [4;36;1mExpenseItem Load (0.0ms)[0m   [0;1mSELECT * FROM `expense_items` WHERE (date BETWEEN '2010-04-01' and '2010-04-30') [0m
Rendering template within layouts/expense
Rendering expense/index
  [4;35;1mExpenseItem Columns (8.0ms)[0m   [0mSHOW FIELDS FROM `expense_items`[0m
  [4;36;1mExpenseType Columns (7.0ms)[0m   [0;1mSHOW FIELDS FROM `expense_types`[0m
  [4;35;1mExpenseType Load (8.0ms)[0m   [0mSELECT * FROM `expense_types` WHERE (`expense_types`.`id` = 2) [0m
  [4;36;1mExpenseType Load (0.0ms)[0m   [0;1mSELECT * FROM `expense_types` WHERE (`expense_types`.`id` = 1) [0m
Completed in 72ms (View: 32, DB: 24) | 200 OK [http://localhost/expense]
  [4;35;1mSQL (1.0ms)[0m   [0mSET NAMES 'utf8'[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mSET SQL_AUTO_IS_NULL=0[0m


Processing ExpenseController#index (for 127.0.0.1 at 2010-04-26 22:30:19) [GET]
  Parameters: {"month"=>"3", "year"=>"2010"}

ArgumentError (comparison of String with 0 failed):
  d:/Ruby/lib/ruby/1.8/date.rb:596:in `<'
  d:/Ruby/lib/ruby/1.8/date.rb:596:in `valid_civil?'
  d:/Ruby/lib/ruby/1.8/date.rb:726:in `new'
  app/controllers/expense_controller.rb:60:in `normalize_date'
  app/controllers/expense_controller.rb:4:in `index'

Rendered rescues/_trace (94.0ms)
Rendered rescues/_request_and_response (1.0ms)
Rendering rescues/layout (internal_server_error)
  [4;35;1mSQL (1.0ms)[0m   [0mSET NAMES 'utf8'[0m
  [4;36;1mSQL (1.0ms)[0m   [0;1mSET SQL_AUTO_IS_NULL=0[0m


Processing ExpenseController#index (for 127.0.0.1 at 2010-04-26 22:33:21) [GET]
  Parameters: {"month"=>"3", "year"=>"2010"}
  [4;35;1mExpenseItem Load (1.0ms)[0m   [0mSELECT * FROM `expense_items` WHERE (date BETWEEN '2010-03-01' and '2010-03-31') [0m
Rendering template within layouts/expense
Rendering expense/index
  [4;36;1mExpenseItem Columns (55.0ms)[0m   [0;1mSHOW FIELDS FROM `expense_items`[0m
  [4;35;1mExpenseType Columns (43.0ms)[0m   [0mSHOW FIELDS FROM `expense_types`[0m
  [4;36;1mExpenseType Load (8.0ms)[0m   [0;1mSELECT * FROM `expense_types` WHERE (`expense_types`.`id` = 1) [0m
  [4;35;1mExpenseType Load (1.0ms)[0m   [0mSELECT * FROM `expense_types` WHERE (`expense_types`.`id` = 2) [0m
Completed in 161ms (View: 31, DB: 110) | 200 OK [http://localhost/expense/2010/3]
  [4;36;1mSQL (0.0ms)[0m   [0;1mSET NAMES 'utf8'[0m
  [4;35;1mSQL (0.0ms)[0m   [0mSET SQL_AUTO_IS_NULL=0[0m


Processing ExpenseController#index (for 127.0.0.1 at 2010-04-26 22:33:26) [GET]
  Parameters: {"month"=>"4", "year"=>"2010"}
  [4;36;1mExpenseItem Load (1.0ms)[0m   [0;1mSELECT * FROM `expense_items` WHERE (date BETWEEN '2010-04-01' and '2010-04-30') [0m
Rendering template within layouts/expense
Rendering expense/index
  [4;35;1mExpenseItem Columns (8.0ms)[0m   [0mSHOW FIELDS FROM `expense_items`[0m
  [4;36;1mExpenseType Columns (6.0ms)[0m   [0;1mSHOW FIELDS FROM `expense_types`[0m
  [4;35;1mExpenseType Load (8.0ms)[0m   [0mSELECT * FROM `expense_types` WHERE (`expense_types`.`id` = 2) [0m
  [4;36;1mExpenseType Load (0.0ms)[0m   [0;1mSELECT * FROM `expense_types` WHERE (`expense_types`.`id` = 1) [0m
Completed in 91ms (View: 33, DB: 23) | 200 OK [http://localhost/expense/2010/4]
  [4;35;1mSQL (1.0ms)[0m   [0mSET NAMES 'utf8'[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mSET SQL_AUTO_IS_NULL=0[0m


Processing ExpenseController#index (for 127.0.0.1 at 2010-04-26 22:33:29) [GET]
  Parameters: {"month"=>"3", "year"=>"2010"}
  [4;35;1mExpenseItem Load (1.0ms)[0m   [0mSELECT * FROM `expense_items` WHERE (date BETWEEN '2010-03-01' and '2010-03-31') [0m
Rendering template within layouts/expense
Rendering expense/index
  [4;36;1mExpenseItem Columns (8.0ms)[0m   [0;1mSHOW FIELDS FROM `expense_items`[0m
  [4;35;1mExpenseType Columns (6.0ms)[0m   [0mSHOW FIELDS FROM `expense_types`[0m
  [4;36;1mExpenseType Load (13.0ms)[0m   [0;1mSELECT * FROM `expense_types` WHERE (`expense_types`.`id` = 1) [0m
  [4;35;1mExpenseType Load (1.0ms)[0m   [0mSELECT * FROM `expense_types` WHERE (`expense_types`.`id` = 2) [0m
Completed in 79ms (View: 33, DB: 30) | 200 OK [http://localhost/expense/2010/3]
  [4;36;1mSQL (0.0ms)[0m   [0;1mSET NAMES 'utf8'[0m
  [4;35;1mSQL (1.0ms)[0m   [0mSET SQL_AUTO_IS_NULL=0[0m


Processing ExpenseController#index (for 127.0.0.1 at 2010-04-26 22:36:22) [GET]
  Parameters: {"month"=>"3", "year"=>"2010"}

NameError (undefined local variable or method `date' for #<ExpenseController:0x9d58d60>):
  app/controllers/expense_controller.rb:76:in `first_day_of_month'
  app/controllers/expense_controller.rb:60:in `normalize_date'
  app/controllers/expense_controller.rb:4:in `index'

Rendered rescues/_trace (91.0ms)
Rendered rescues/_request_and_response (0.0ms)
Rendering rescues/layout (internal_server_error)
  [4;36;1mSQL (0.0ms)[0m   [0;1mSET NAMES 'utf8'[0m
  [4;35;1mSQL (0.0ms)[0m   [0mSET SQL_AUTO_IS_NULL=0[0m


Processing ExpenseController#index (for 127.0.0.1 at 2010-04-26 22:36:46) [GET]
  Parameters: {"month"=>"3", "year"=>"2010"}

ArgumentError (comparison of String with 0 failed):
  d:/Ruby/lib/ruby/1.8/date.rb:596:in `<'
  d:/Ruby/lib/ruby/1.8/date.rb:596:in `valid_civil?'
  d:/Ruby/lib/ruby/1.8/date.rb:726:in `new'
  app/controllers/expense_controller.rb:76:in `first_day_of_month'
  app/controllers/expense_controller.rb:60:in `normalize_date'
  app/controllers/expense_controller.rb:4:in `index'

Rendered rescues/_trace (97.0ms)
Rendered rescues/_request_and_response (1.0ms)
Rendering rescues/layout (internal_server_error)
  [4;36;1mSQL (0.0ms)[0m   [0;1mSET NAMES 'utf8'[0m
  [4;35;1mSQL (0.0ms)[0m   [0mSET SQL_AUTO_IS_NULL=0[0m


Processing ExpenseController#index (for 127.0.0.1 at 2010-04-26 22:37:27) [GET]
  Parameters: {"month"=>"3", "year"=>"2010"}
  [4;36;1mExpenseItem Load (1.0ms)[0m   [0;1mSELECT * FROM `expense_items` WHERE (date BETWEEN '2010-03-01' and '2010-03-31') [0m
Rendering template within layouts/expense
Rendering expense/index
  [4;35;1mExpenseItem Columns (9.0ms)[0m   [0mSHOW FIELDS FROM `expense_items`[0m
  [4;36;1mExpenseType Columns (7.0ms)[0m   [0;1mSHOW FIELDS FROM `expense_types`[0m
  [4;35;1mExpenseType Load (11.0ms)[0m   [0mSELECT * FROM `expense_types` WHERE (`expense_types`.`id` = 1) [0m
  [4;36;1mExpenseType Load (0.0ms)[0m   [0;1mSELECT * FROM `expense_types` WHERE (`expense_types`.`id` = 2) [0m
Completed in 79ms (View: 35, DB: 28) | 200 OK [http://localhost/expense/2010/3]
  [4;35;1mSQL (0.0ms)[0m   [0mSET NAMES 'utf8'[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mSET SQL_AUTO_IS_NULL=0[0m


Processing ExpenseController#index (for 127.0.0.1 at 2010-04-26 22:37:32) [GET]
  [4;35;1mExpenseItem Load (1.0ms)[0m   [0mSELECT * FROM `expense_items` WHERE (date BETWEEN '2010-04-01' and '2010-04-30') [0m
Rendering template within layouts/expense
Rendering expense/index
  [4;36;1mExpenseItem Columns (10.0ms)[0m   [0;1mSHOW FIELDS FROM `expense_items`[0m
  [4;35;1mExpenseType Columns (7.0ms)[0m   [0mSHOW FIELDS FROM `expense_types`[0m
  [4;36;1mExpenseType Load (11.0ms)[0m   [0;1mSELECT * FROM `expense_types` WHERE (`expense_types`.`id` = 2) [0m
  [4;35;1mExpenseType Load (1.0ms)[0m   [0mSELECT * FROM `expense_types` WHERE (`expense_types`.`id` = 1) [0m
Completed in 90ms (View: 42, DB: 30) | 200 OK [http://localhost/expense]
  [4;36;1mSQL (0.0ms)[0m   [0;1mSET NAMES 'utf8'[0m
  [4;35;1mSQL (0.0ms)[0m   [0mSET SQL_AUTO_IS_NULL=0[0m


Processing ExpenseController#index (for 127.0.0.1 at 2010-04-26 22:38:07) [GET]
  [4;36;1mExpenseItem Load (1.0ms)[0m   [0;1mSELECT * FROM `expense_items` WHERE (date BETWEEN '2010-04-01' and '2010-04-30') [0m
Rendering template within layouts/expense
Rendering expense/index
  [4;35;1mExpenseItem Columns (9.0ms)[0m   [0mSHOW FIELDS FROM `expense_items`[0m
  [4;36;1mExpenseType Columns (29.0ms)[0m   [0;1mSHOW FIELDS FROM `expense_types`[0m
  [4;35;1mExpenseType Load (10.0ms)[0m   [0mSELECT * FROM `expense_types` WHERE (`expense_types`.`id` = 2) [0m
  [4;36;1mExpenseType Load (1.0ms)[0m   [0;1mSELECT * FROM `expense_types` WHERE (`expense_types`.`id` = 1) [0m
Completed in 107ms (View: 30, DB: 50) | 200 OK [http://localhost/expense]
  [4;35;1mSQL (1.0ms)[0m   [0mSET NAMES 'utf8'[0m
  [4;36;1mSQL (3.0ms)[0m   [0;1mSET SQL_AUTO_IS_NULL=0[0m


Processing ExpenseController#index (for 127.0.0.1 at 2010-04-26 22:38:11) [GET]
  Parameters: {"month"=>"4", "year"=>"2010"}
  [4;35;1mExpenseItem Load (1.0ms)[0m   [0mSELECT * FROM `expense_items` WHERE (date BETWEEN '2010-04-01' and '2010-04-30') [0m
Rendering template within layouts/expense
Rendering expense/index
  [4;36;1mExpenseItem Columns (7.0ms)[0m   [0;1mSHOW FIELDS FROM `expense_items`[0m
  [4;35;1mExpenseType Columns (6.0ms)[0m   [0mSHOW FIELDS FROM `expense_types`[0m
  [4;36;1mExpenseType Load (8.0ms)[0m   [0;1mSELECT * FROM `expense_types` WHERE (`expense_types`.`id` = 2) [0m
  [4;35;1mExpenseType Load (1.0ms)[0m   [0mSELECT * FROM `expense_types` WHERE (`expense_types`.`id` = 1) [0m
Completed in 82ms (View: 33, DB: 27) | 200 OK [http://localhost/expense/2010/4]
  [4;36;1mSQL (0.0ms)[0m   [0;1mSET NAMES 'utf8'[0m
  [4;35;1mSQL (1.0ms)[0m   [0mSET SQL_AUTO_IS_NULL=0[0m


Processing ExpenseController#index (for 127.0.0.1 at 2010-04-26 22:38:14) [GET]
  Parameters: {"month"=>"3", "year"=>"2010"}
  [4;36;1mExpenseItem Load (1.0ms)[0m   [0;1mSELECT * FROM `expense_items` WHERE (date BETWEEN '2010-03-01' and '2010-03-31') [0m
Rendering template within layouts/expense
Rendering expense/index
  [4;35;1mExpenseItem Columns (11.0ms)[0m   [0mSHOW FIELDS FROM `expense_items`[0m
  [4;36;1mExpenseType Columns (20.0ms)[0m   [0;1mSHOW FIELDS FROM `expense_types`[0m
  [4;35;1mExpenseType Load (11.0ms)[0m   [0mSELECT * FROM `expense_types` WHERE (`expense_types`.`id` = 1) [0m
  [4;36;1mExpenseType Load (1.0ms)[0m   [0;1mSELECT * FROM `expense_types` WHERE (`expense_types`.`id` = 2) [0m
Completed in 94ms (View: 32, DB: 45) | 200 OK [http://localhost/expense/2010/3]
  [4;35;1mSQL (0.0ms)[0m   [0mSET NAMES 'utf8'[0m
  [4;36;1mSQL (1.0ms)[0m   [0;1mSET SQL_AUTO_IS_NULL=0[0m


Processing ExpenseController#edit (for 127.0.0.1 at 2010-04-26 22:38:18) [GET]
  Parameters: {"id"=>"1"}
  [4;35;1mExpenseItem Columns (8.0ms)[0m   [0mSHOW FIELDS FROM `expense_items`[0m
  [4;36;1mExpenseItem Load (24.0ms)[0m   [0;1mSELECT * FROM `expense_items` WHERE (`expense_items`.`id` = 1) [0m
  [4;35;1mExpenseType Load (1.0ms)[0m   [0mSELECT * FROM `expense_types` [0m
  [4;36;1mExpenseType Columns (6.0ms)[0m   [0;1mSHOW FIELDS FROM `expense_types`[0m
Rendering template within layouts/expense
Rendering expense/edit
Completed in 93ms (View: 14, DB: 40) | 200 OK [http://localhost/expense/edit/1]
  [4;35;1mSQL (0.0ms)[0m   [0mSET NAMES 'utf8'[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mSET SQL_AUTO_IS_NULL=0[0m


Processing ExpenseController#index (for 127.0.0.1 at 2010-04-26 22:38:27) [GET]
  Parameters: {"month"=>"3", "year"=>"2010"}
  [4;35;1mExpenseItem Load (1.0ms)[0m   [0mSELECT * FROM `expense_items` WHERE (date BETWEEN '2010-03-01' and '2010-03-31') [0m
Rendering template within layouts/expense
Rendering expense/index
  [4;36;1mExpenseItem Columns (8.0ms)[0m   [0;1mSHOW FIELDS FROM `expense_items`[0m
  [4;35;1mExpenseType Columns (8.0ms)[0m   [0mSHOW FIELDS FROM `expense_types`[0m
  [4;36;1mExpenseType Load (8.0ms)[0m   [0;1mSELECT * FROM `expense_types` WHERE (`expense_types`.`id` = 1) [0m
  [4;35;1mExpenseType Load (0.0ms)[0m   [0mSELECT * FROM `expense_types` WHERE (`expense_types`.`id` = 2) [0m
Completed in 89ms (View: 36, DB: 25) | 200 OK [http://localhost/expense/2010/3]
  [4;36;1mSQL (0.0ms)[0m   [0;1mSET NAMES 'utf8'[0m
  [4;35;1mSQL (1.0ms)[0m   [0mSET SQL_AUTO_IS_NULL=0[0m


Processing ExpenseController#new (for 127.0.0.1 at 2010-04-26 22:41:35) [GET]
  [4;36;1mExpenseType Load (0.0ms)[0m   [0;1mSELECT * FROM `expense_types` [0m
  [4;35;1mExpenseType Columns (12.0ms)[0m   [0mSHOW FIELDS FROM `expense_types`[0m
Rendering template within layouts/expense
Rendering expense/new
Completed in 39ms (View: 9, DB: 13) | 200 OK [http://localhost/expense/new]
  [4;36;1mSQL (0.0ms)[0m   [0;1mSET NAMES 'utf8'[0m
  [4;35;1mSQL (0.0ms)[0m   [0mSET SQL_AUTO_IS_NULL=0[0m


Processing ExpenseController#create (for 127.0.0.1 at 2010-04-26 22:41:46) [POST]
  Parameters: {"commit"=>"Save changes", "authenticity_token"=>"J3FyYk3jLIDiN5d3VYr/75BwIN44CV7ouawTcellGM8=", "expense_item"=>{"date"=>"2010-3-1", "value"=>"11", "note"=>"dddd", "expense_type_id"=>"1"}}
  [4;36;1mExpenseItem Columns (8.0ms)[0m   [0;1mSHOW FIELDS FROM `expense_items`[0m
  [4;35;1mSQL (21.0ms)[0m   [0mBEGIN[0m
  [4;36;1mExpenseItem Create (0.0ms)[0m   [0;1mINSERT INTO `expense_items` (`updated_at`, `date`, `value`, `expense_type_id`, `note`, `created_at`) VALUES('2010-04-26 14:41:46', '2010-03-01', 11.0, 1, 'dddd', '2010-04-26 14:41:46')[0m
  [4;35;1mSQL (72.0ms)[0m   [0mCOMMIT[0m

NoMethodError (You have a nil object when you didn't expect it!
You might have expected an instance of Array.
The error occurred while evaluating nil.-):
  d:/Ruby/lib/ruby/1.8/date.rb:385:in `civil_to_jd'
  d:/Ruby/lib/ruby/1.8/date.rb:607:in `valid_civil?'
  d:/Ruby/lib/ruby/1.8/date.rb:726:in `new'
  app/controllers/expense_controller.rb:18:in `create'

Rendered rescues/_trace (92.0ms)
Rendered rescues/_request_and_response (0.0ms)
Rendering rescues/layout (internal_server_error)
  [4;36;1mSQL (0.0ms)[0m   [0;1mSET NAMES 'utf8'[0m
  [4;35;1mSQL (1.0ms)[0m   [0mSET SQL_AUTO_IS_NULL=0[0m


Processing ExpenseController#new (for 127.0.0.1 at 2010-04-26 22:46:57) [GET]
  [4;36;1mExpenseType Load (1.0ms)[0m   [0;1mSELECT * FROM `expense_types` [0m
  [4;35;1mExpenseType Columns (7.0ms)[0m   [0mSHOW FIELDS FROM `expense_types`[0m
Rendering template within layouts/expense
Rendering expense/new
Completed in 37ms (View: 10, DB: 9) | 200 OK [http://localhost/expense/new]
  [4;36;1mSQL (0.0ms)[0m   [0;1mSET NAMES 'utf8'[0m
  [4;35;1mSQL (1.0ms)[0m   [0mSET SQL_AUTO_IS_NULL=0[0m


Processing ExpenseController#index (for 127.0.0.1 at 2010-04-26 22:46:58) [GET]
  Parameters: {"month"=>"3", "year"=>"2010"}
  [4;36;1mExpenseItem Load (1.0ms)[0m   [0;1mSELECT * FROM `expense_items` WHERE (date BETWEEN '2010-03-01' and '2010-03-31') [0m
Rendering template within layouts/expense
Rendering expense/index
  [4;35;1mExpenseItem Columns (8.0ms)[0m   [0mSHOW FIELDS FROM `expense_items`[0m
  [4;36;1mExpenseType Columns (15.0ms)[0m   [0;1mSHOW FIELDS FROM `expense_types`[0m
  [4;35;1mExpenseType Load (18.0ms)[0m   [0mSELECT * FROM `expense_types` WHERE (`expense_types`.`id` = 1) [0m
  [4;36;1mExpenseType Load (1.0ms)[0m   [0;1mSELECT * FROM `expense_types` WHERE (`expense_types`.`id` = 2) [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM `expense_types` WHERE (`expense_types`.`id` = 1) [0m
Completed in 103ms (View: 40, DB: 44) | 200 OK [http://localhost/expense/2010/3]
  [4;36;1mSQL (0.0ms)[0m   [0;1mSET NAMES 'utf8'[0m
  [4;35;1mSQL (0.0ms)[0m   [0mSET SQL_AUTO_IS_NULL=0[0m


Processing ExpenseController#new (for 127.0.0.1 at 2010-04-26 22:47:03) [GET]
  [4;36;1mExpenseType Load (1.0ms)[0m   [0;1mSELECT * FROM `expense_types` [0m
  [4;35;1mExpenseType Columns (7.0ms)[0m   [0mSHOW FIELDS FROM `expense_types`[0m
Rendering template within layouts/expense
Rendering expense/new
Completed in 142ms (View: 9, DB: 8) | 200 OK [http://localhost/expense/new]
  [4;36;1mSQL (1.0ms)[0m   [0;1mSET NAMES 'utf8'[0m
  [4;35;1mSQL (0.0ms)[0m   [0mSET SQL_AUTO_IS_NULL=0[0m


Processing ExpenseController#create (for 127.0.0.1 at 2010-04-26 22:47:25) [POST]
  Parameters: {"commit"=>"Save changes", "authenticity_token"=>"J3FyYk3jLIDiN5d3VYr/75BwIN44CV7ouawTcellGM8=", "expense_item"=>{"date"=>"2010-3-22", "value"=>"18", "note"=>"eeeee", "expense_type_id"=>"1"}}
  [4;36;1mExpenseItem Columns (8.0ms)[0m   [0;1mSHOW FIELDS FROM `expense_items`[0m
  [4;35;1mSQL (9.0ms)[0m   [0mBEGIN[0m
  [4;36;1mExpenseItem Create (0.0ms)[0m   [0;1mINSERT INTO `expense_items` (`updated_at`, `date`, `value`, `expense_type_id`, `note`, `created_at`) VALUES('2010-04-26 14:47:25', '2010-03-22', 18.0, 1, 'eeeee', '2010-04-26 14:47:25')[0m
  [4;35;1mSQL (76.0ms)[0m   [0mCOMMIT[0m

TypeError (can't dup NilClass):
  d:/Ruby/lib/ruby/1.8/date/format.rb:583:in `dup'
  d:/Ruby/lib/ruby/1.8/date/format.rb:583:in `_strptime'
  d:/Ruby/lib/ruby/1.8/date.rb:954:in `strptime'
  app/controllers/expense_controller.rb:18:in `create'

Rendered rescues/_trace (90.0ms)
Rendered rescues/_request_and_response (1.0ms)
Rendering rescues/layout (internal_server_error)
  [4;36;1mSQL (0.0ms)[0m   [0;1mSET NAMES 'utf8'[0m
  [4;35;1mSQL (1.0ms)[0m   [0mSET SQL_AUTO_IS_NULL=0[0m


Processing ExpenseController#index (for 127.0.0.1 at 2010-04-26 22:49:58) [GET]
  [4;36;1mExpenseItem Load (1.0ms)[0m   [0;1mSELECT * FROM `expense_items` WHERE (date BETWEEN '2010-04-01' and '2010-04-30') [0m
Rendering template within layouts/expense
Rendering expense/index
  [4;35;1mExpenseItem Columns (81.0ms)[0m   [0mSHOW FIELDS FROM `expense_items`[0m
  [4;36;1mExpenseType Columns (17.0ms)[0m   [0;1mSHOW FIELDS FROM `expense_types`[0m
  [4;35;1mExpenseType Load (16.0ms)[0m   [0mSELECT * FROM `expense_types` WHERE (`expense_types`.`id` = 2) [0m
  [4;36;1mExpenseType Load (1.0ms)[0m   [0;1mSELECT * FROM `expense_types` WHERE (`expense_types`.`id` = 1) [0m
Completed in 166ms (View: 32, DB: 117) | 200 OK [http://localhost/expense/]
  [4;35;1mSQL (0.0ms)[0m   [0mSET NAMES 'utf8'[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mSET SQL_AUTO_IS_NULL=0[0m


Processing ExpenseController#index (for 127.0.0.1 at 2010-04-26 22:50:05) [GET]
  Parameters: {"month"=>"3", "year"=>"2010"}
  [4;35;1mExpenseItem Load (1.0ms)[0m   [0mSELECT * FROM `expense_items` WHERE (date BETWEEN '2010-03-01' and '2010-03-31') [0m
Rendering template within layouts/expense
Rendering expense/index
  [4;36;1mExpenseItem Columns (36.0ms)[0m   [0;1mSHOW FIELDS FROM `expense_items`[0m
  [4;35;1mExpenseType Columns (26.0ms)[0m   [0mSHOW FIELDS FROM `expense_types`[0m
  [4;36;1mExpenseType Load (34.0ms)[0m   [0;1mSELECT * FROM `expense_types` WHERE (`expense_types`.`id` = 1) [0m
  [4;35;1mExpenseType Load (1.0ms)[0m   [0mSELECT * FROM `expense_types` WHERE (`expense_types`.`id` = 2) [0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT * FROM `expense_types` WHERE (`expense_types`.`id` = 1) [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM `expense_types` WHERE (`expense_types`.`id` = 1) [0m
Completed in 154ms (View: 39, DB: 98) | 200 OK [http://localhost/expense/2010/3]
  [4;36;1mSQL (1.0ms)[0m   [0;1mSET NAMES 'utf8'[0m
  [4;35;1mSQL (0.0ms)[0m   [0mSET SQL_AUTO_IS_NULL=0[0m


Processing ExpenseController#index (for 127.0.0.1 at 2010-04-26 22:51:57) [GET]
  Parameters: {"month"=>"3", "year"=>"2010"}
  [4;36;1mExpenseItem Load (0.0ms)[0m   [0;1mSELECT * FROM `expense_items` WHERE (date BETWEEN '2010-03-01' and '2010-03-31') [0m
Rendering template within layouts/expense
Rendering expense/index
  [4;35;1mExpenseItem Columns (9.0ms)[0m   [0mSHOW FIELDS FROM `expense_items`[0m
  [4;36;1mExpenseType Columns (7.0ms)[0m   [0;1mSHOW FIELDS FROM `expense_types`[0m
  [4;35;1mExpenseType Load (8.0ms)[0m   [0mSELECT * FROM `expense_types` WHERE (`expense_types`.`id` = 1) [0m
  [4;36;1mExpenseType Load (0.0ms)[0m   [0;1mSELECT * FROM `expense_types` WHERE (`expense_types`.`id` = 2) [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM `expense_types` WHERE (`expense_types`.`id` = 1) [0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT * FROM `expense_types` WHERE (`expense_types`.`id` = 1) [0m
Completed in 91ms (View: 47, DB: 25) | 200 OK [http://localhost/expense/2010/3]
  [4;35;1mSQL (0.0ms)[0m   [0mSET NAMES 'utf8'[0m
  [4;36;1mSQL (2.0ms)[0m   [0;1mSET SQL_AUTO_IS_NULL=0[0m


Processing ExpenseController#new (for 127.0.0.1 at 2010-04-26 22:52:00) [GET]
  [4;35;1mExpenseType Load (1.0ms)[0m   [0mSELECT * FROM `expense_types` [0m
  [4;36;1mExpenseType Columns (8.0ms)[0m   [0;1mSHOW FIELDS FROM `expense_types`[0m
Rendering template within layouts/expense
Rendering expense/new
Completed in 39ms (View: 10, DB: 11) | 200 OK [http://localhost/expense/new]
  [4;35;1mSQL (0.0ms)[0m   [0mSET NAMES 'utf8'[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mSET SQL_AUTO_IS_NULL=0[0m


Processing ExpenseController#create (for 127.0.0.1 at 2010-04-26 22:52:13) [POST]
  Parameters: {"commit"=>"Save changes", "authenticity_token"=>"J3FyYk3jLIDiN5d3VYr/75BwIN44CV7ouawTcellGM8=", "expense_item"=>{"date"=>"2010-4-23", "value"=>"11.22", "note"=>"dkdkdkd", "expense_type_id"=>"2"}}
  [4;35;1mExpenseItem Columns (12.0ms)[0m   [0mSHOW FIELDS FROM `expense_items`[0m
  [4;36;1mSQL (10.0ms)[0m   [0;1mBEGIN[0m
  [4;35;1mExpenseItem Create (1.0ms)[0m   [0mINSERT INTO `expense_items` (`updated_at`, `date`, `value`, `expense_type_id`, `note`, `created_at`) VALUES('2010-04-26 14:52:13', '2010-04-23', 11.22, 2, 'dkdkdkd', '2010-04-26 14:52:13')[0m
  [4;36;1mSQL (171.0ms)[0m   [0;1mCOMMIT[0m

TypeError (can't dup NilClass):
  d:/Ruby/lib/ruby/1.8/date/format.rb:959:in `dup'
  d:/Ruby/lib/ruby/1.8/date/format.rb:959:in `_parse'
  d:/Ruby/lib/ruby/1.8/date.rb:974:in `parse'
  app/controllers/expense_controller.rb:18:in `create'

Rendered rescues/_trace (181.0ms)
Rendered rescues/_request_and_response (1.0ms)
Rendering rescues/layout (internal_server_error)
  [4;35;1mSQL (0.0ms)[0m   [0mSET NAMES 'utf8'[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mSET SQL_AUTO_IS_NULL=0[0m


Processing ApplicationController#new (for 127.0.0.1 at 2010-04-26 22:53:19) [GET]

SyntaxError (d:/haipeng/ror/finance/app/controllers/expense_controller.rb:32: syntax error, unexpected ')', expecting kEND):
  

Rendered rescues/_trace (101.0ms)
Rendered rescues/_request_and_response (1.0ms)
Rendering rescues/layout (internal_server_error)
  [4;35;1mSQL (0.0ms)[0m   [0mSET NAMES 'utf8'[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mSET SQL_AUTO_IS_NULL=0[0m


Processing ApplicationController#index (for 127.0.0.1 at 2010-04-26 22:53:22) [GET]
  Parameters: {"month"=>"3", "year"=>"2010"}

SyntaxError (d:/haipeng/ror/finance/app/controllers/expense_controller.rb:32: syntax error, unexpected ')', expecting kEND):
  

Rendered rescues/_trace (93.0ms)
Rendered rescues/_request_and_response (1.0ms)
Rendering rescues/layout (internal_server_error)
  [4;35;1mSQL (0.0ms)[0m   [0mSET NAMES 'utf8'[0m
  [4;36;1mSQL (1.0ms)[0m   [0;1mSET SQL_AUTO_IS_NULL=0[0m


Processing ExpenseController#index (for 127.0.0.1 at 2010-04-26 22:53:40) [GET]
  [4;35;1mExpenseItem Load (1.0ms)[0m   [0mSELECT * FROM `expense_items` WHERE (date BETWEEN '2010-04-01' and '2010-04-30') [0m
Rendering template within layouts/expense
Rendering expense/index
  [4;36;1mExpenseItem Columns (11.0ms)[0m   [0;1mSHOW FIELDS FROM `expense_items`[0m
  [4;35;1mExpenseType Columns (6.0ms)[0m   [0mSHOW FIELDS FROM `expense_types`[0m
  [4;36;1mExpenseType Load (9.0ms)[0m   [0;1mSELECT * FROM `expense_types` WHERE (`expense_types`.`id` = 2) [0m
  [4;35;1mExpenseType Load (0.0ms)[0m   [0mSELECT * FROM `expense_types` WHERE (`expense_types`.`id` = 1) [0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT * FROM `expense_types` WHERE (`expense_types`.`id` = 2) [0m
Completed in 87ms (View: 41, DB: 28) | 200 OK [http://localhost/expense/]
  [4;35;1mSQL (0.0ms)[0m   [0mSET NAMES 'utf8'[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mSET SQL_AUTO_IS_NULL=0[0m


Processing ExpenseController#new (for 127.0.0.1 at 2010-04-26 22:53:43) [GET]
  [4;35;1mExpenseType Load (1.0ms)[0m   [0mSELECT * FROM `expense_types` [0m
  [4;36;1mExpenseType Columns (11.0ms)[0m   [0;1mSHOW FIELDS FROM `expense_types`[0m
Rendering template within layouts/expense
Rendering expense/new
Completed in 51ms (View: 10, DB: 12) | 200 OK [http://localhost/expense/new]
  [4;35;1mSQL (1.0ms)[0m   [0mSET NAMES 'utf8'[0m
  [4;36;1mSQL (1.0ms)[0m   [0;1mSET SQL_AUTO_IS_NULL=0[0m


Processing ExpenseController#create (for 127.0.0.1 at 2010-04-26 22:53:53) [POST]
  Parameters: {"commit"=>"Save changes", "authenticity_token"=>"J3FyYk3jLIDiN5d3VYr/75BwIN44CV7ouawTcellGM8=", "expense_item"=>{"date"=>"2010-3-22", "value"=>"11.222", "note"=>"dkjfkd", "expense_type_id"=>"1"}}
  [4;35;1mExpenseItem Columns (9.0ms)[0m   [0mSHOW FIELDS FROM `expense_items`[0m
  [4;36;1mSQL (14.0ms)[0m   [0;1mBEGIN[0m
  [4;35;1mExpenseItem Create (0.0ms)[0m   [0mINSERT INTO `expense_items` (`updated_at`, `date`, `value`, `expense_type_id`, `note`, `created_at`) VALUES('2010-04-26 14:53:53', '2010-03-22', 11.222, 1, 'dkjfkd', '2010-04-26 14:53:53')[0m
  [4;36;1mSQL (102.0ms)[0m   [0;1mCOMMIT[0m

NoMethodError (undefined method `year' for nil:NilClass):
  app/controllers/expense_controller.rb:19:in `create'

Rendered rescues/_trace (98.0ms)
Rendered rescues/_request_and_response (1.0ms)
Rendering rescues/layout (internal_server_error)
  [4;35;1mSQL (1.0ms)[0m   [0mSET NAMES 'utf8'[0m
  [4;36;1mSQL (1.0ms)[0m   [0;1mSET SQL_AUTO_IS_NULL=0[0m


Processing ExpenseController#new (for 127.0.0.1 at 2010-04-26 22:55:11) [GET]
  [4;35;1mExpenseType Load (1.0ms)[0m   [0mSELECT * FROM `expense_types` [0m
  [4;36;1mExpenseType Columns (8.0ms)[0m   [0;1mSHOW FIELDS FROM `expense_types`[0m
Rendering template within layouts/expense
Rendering expense/new
Completed in 48ms (View: 10, DB: 11) | 200 OK [http://localhost/expense/new]
  [4;35;1mSQL (0.0ms)[0m   [0mSET NAMES 'utf8'[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mSET SQL_AUTO_IS_NULL=0[0m


Processing ExpenseController#index (for 127.0.0.1 at 2010-04-26 22:55:18) [GET]
  [4;35;1mExpenseItem Load (1.0ms)[0m   [0mSELECT * FROM `expense_items` WHERE (date BETWEEN '2010-04-01' and '2010-04-30') [0m
Rendering template within layouts/expense
Rendering expense/index
  [4;36;1mExpenseItem Columns (12.0ms)[0m   [0;1mSHOW FIELDS FROM `expense_items`[0m
  [4;35;1mExpenseType Columns (6.0ms)[0m   [0mSHOW FIELDS FROM `expense_types`[0m
  [4;36;1mExpenseType Load (9.0ms)[0m   [0;1mSELECT * FROM `expense_types` WHERE (`expense_types`.`id` = 2) [0m
  [4;35;1mExpenseType Load (0.0ms)[0m   [0mSELECT * FROM `expense_types` WHERE (`expense_types`.`id` = 1) [0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT * FROM `expense_types` WHERE (`expense_types`.`id` = 2) [0m
Completed in 92ms (View: 35, DB: 28) | 200 OK [http://localhost/expense]
  [4;35;1mSQL (1.0ms)[0m   [0mSET NAMES 'utf8'[0m
  [4;36;1mSQL (1.0ms)[0m   [0;1mSET SQL_AUTO_IS_NULL=0[0m


Processing ExpenseController#new (for 127.0.0.1 at 2010-04-26 22:55:20) [GET]
  [4;35;1mExpenseType Load (1.0ms)[0m   [0mSELECT * FROM `expense_types` [0m
  [4;36;1mExpenseType Columns (8.0ms)[0m   [0;1mSHOW FIELDS FROM `expense_types`[0m
Rendering template within layouts/expense
Rendering expense/new
Completed in 51ms (View: 13, DB: 11) | 200 OK [http://localhost/expense/new]
  [4;35;1mSQL (1.0ms)[0m   [0mSET NAMES 'utf8'[0m
  [4;36;1mSQL (1.0ms)[0m   [0;1mSET SQL_AUTO_IS_NULL=0[0m


Processing ExpenseController#create (for 127.0.0.1 at 2010-04-26 22:55:32) [POST]
  Parameters: {"commit"=>"Save changes", "authenticity_token"=>"J3FyYk3jLIDiN5d3VYr/75BwIN44CV7ouawTcellGM8=", "expense_item"=>{"date"=>"2010-3-29", "value"=>"11.224", "note"=>"dkdkdd", "expense_type_id"=>"1"}}
  [4;35;1mExpenseItem Columns (8.0ms)[0m   [0mSHOW FIELDS FROM `expense_items`[0m
  [4;36;1mSQL (9.0ms)[0m   [0;1mBEGIN[0m
  [4;35;1mExpenseItem Create (0.0ms)[0m   [0mINSERT INTO `expense_items` (`updated_at`, `date`, `value`, `expense_type_id`, `note`, `created_at`) VALUES('2010-04-26 14:55:32', '2010-03-29', 11.224, 1, 'dkdkdd', '2010-04-26 14:55:32')[0m
  [4;36;1mSQL (57.0ms)[0m   [0;1mCOMMIT[0m

NoMethodError (undefined method `year' for "2010-3-29":String):
  app/controllers/expense_controller.rb:19:in `create'

Rendered rescues/_trace (93.0ms)
Rendered rescues/_request_and_response (1.0ms)
Rendering rescues/layout (internal_server_error)
  [4;35;1mSQL (0.0ms)[0m   [0mSET NAMES 'utf8'[0m
  [4;36;1mSQL (1.0ms)[0m   [0;1mSET SQL_AUTO_IS_NULL=0[0m


Processing ExpenseController#index (for 127.0.0.1 at 2010-04-26 22:57:02) [GET]
  [4;35;1mExpenseItem Load (5.0ms)[0m   [0mSELECT * FROM `expense_items` WHERE (date BETWEEN '2010-04-01' and '2010-04-30') [0m
Rendering template within layouts/expense
Rendering expense/index
  [4;36;1mExpenseItem Columns (9.0ms)[0m   [0;1mSHOW FIELDS FROM `expense_items`[0m
  [4;35;1mExpenseType Columns (14.0ms)[0m   [0mSHOW FIELDS FROM `expense_types`[0m
  [4;36;1mExpenseType Load (13.0ms)[0m   [0;1mSELECT * FROM `expense_types` WHERE (`expense_types`.`id` = 2) [0m
  [4;35;1mExpenseType Load (1.0ms)[0m   [0mSELECT * FROM `expense_types` WHERE (`expense_types`.`id` = 1) [0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT * FROM `expense_types` WHERE (`expense_types`.`id` = 2) [0m
Completed in 187ms (View: 128, DB: 43) | 200 OK [http://localhost/expense]
  [4;35;1mSQL (1.0ms)[0m   [0mSET NAMES 'utf8'[0m
  [4;36;1mSQL (1.0ms)[0m   [0;1mSET SQL_AUTO_IS_NULL=0[0m


Processing ExpenseController#new (for 127.0.0.1 at 2010-04-26 22:57:05) [GET]
  [4;35;1mExpenseType Load (1.0ms)[0m   [0mSELECT * FROM `expense_types` [0m
  [4;36;1mExpenseType Columns (13.0ms)[0m   [0;1mSHOW FIELDS FROM `expense_types`[0m
Rendering template within layouts/expense
Rendering expense/new
Completed in 52ms (View: 12, DB: 16) | 200 OK [http://localhost/expense/new]
  [4;35;1mSQL (0.0ms)[0m   [0mSET NAMES 'utf8'[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mSET SQL_AUTO_IS_NULL=0[0m


Processing ExpenseController#create (for 127.0.0.1 at 2010-04-26 22:57:16) [POST]
  Parameters: {"commit"=>"Save changes", "authenticity_token"=>"J3FyYk3jLIDiN5d3VYr/75BwIN44CV7ouawTcellGM8=", "expense_item"=>{"date"=>"2010-3-8", "value"=>"11.488", "note"=>"ddd", "expense_type_id"=>"1"}}
  [4;35;1mExpenseItem Columns (15.0ms)[0m   [0mSHOW FIELDS FROM `expense_items`[0m
  [4;36;1mSQL (11.0ms)[0m   [0;1mBEGIN[0m
  [4;35;1mExpenseItem Create (0.0ms)[0m   [0mINSERT INTO `expense_items` (`updated_at`, `date`, `value`, `expense_type_id`, `note`, `created_at`) VALUES('2010-04-26 14:57:16', '2010-03-08', 11.488, 1, 'ddd', '2010-04-26 14:57:16')[0m
  [4;36;1mSQL (85.0ms)[0m   [0;1mCOMMIT[0m
Redirected to http://localhost:3000/expense/2010/3
Completed in 148ms (DB: 111) | 302 Found [http://localhost/expense/create]
  [4;35;1mSQL (0.0ms)[0m   [0mSET NAMES 'utf8'[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mSET SQL_AUTO_IS_NULL=0[0m


Processing ExpenseController#index (for 127.0.0.1 at 2010-04-26 22:57:16) [GET]
  Parameters: {"month"=>"3", "year"=>"2010"}
  [4;35;1mExpenseItem Load (1.0ms)[0m   [0mSELECT * FROM `expense_items` WHERE (date BETWEEN '2010-03-01' and '2010-03-31') [0m
Rendering template within layouts/expense
Rendering expense/index
  [4;36;1mExpenseItem Columns (8.0ms)[0m   [0;1mSHOW FIELDS FROM `expense_items`[0m
  [4;35;1mExpenseType Columns (6.0ms)[0m   [0mSHOW FIELDS FROM `expense_types`[0m
  [4;36;1mExpenseType Load (8.0ms)[0m   [0;1mSELECT * FROM `expense_types` WHERE (`expense_types`.`id` = 1) [0m
  [4;35;1mExpenseType Load (1.0ms)[0m   [0mSELECT * FROM `expense_types` WHERE (`expense_types`.`id` = 2) [0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT * FROM `expense_types` WHERE (`expense_types`.`id` = 1) [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM `expense_types` WHERE (`expense_types`.`id` = 1) [0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT * FROM `expense_types` WHERE (`expense_types`.`id` = 1) [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM `expense_types` WHERE (`expense_types`.`id` = 1) [0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT * FROM `expense_types` WHERE (`expense_types`.`id` = 1) [0m
Completed in 92ms (View: 51, DB: 24) | 200 OK [http://localhost/expense/2010/3]
  [4;35;1mSQL (0.0ms)[0m   [0mSET NAMES 'utf8'[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mSET SQL_AUTO_IS_NULL=0[0m


Processing ExpenseController#index (for 127.0.0.1 at 2010-04-26 23:01:24) [GET]
  Parameters: {"month"=>"3", "year"=>"2010"}
  [4;35;1mExpenseItem Load (1.0ms)[0m   [0mSELECT * FROM `expense_items` WHERE (date BETWEEN '2010-03-01' and '2010-03-31') [0m
Rendering template within layouts/expense
Rendering expense/index
  [4;36;1mExpenseItem Columns (8.0ms)[0m   [0;1mSHOW FIELDS FROM `expense_items`[0m
  [4;35;1mExpenseType Columns (7.0ms)[0m   [0mSHOW FIELDS FROM `expense_types`[0m
  [4;36;1mExpenseType Load (8.0ms)[0m   [0;1mSELECT * FROM `expense_types` WHERE (`expense_types`.`id` = 1) [0m
  [4;35;1mExpenseType Load (1.0ms)[0m   [0mSELECT * FROM `expense_types` WHERE (`expense_types`.`id` = 2) [0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT * FROM `expense_types` WHERE (`expense_types`.`id` = 1) [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM `expense_types` WHERE (`expense_types`.`id` = 1) [0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT * FROM `expense_types` WHERE (`expense_types`.`id` = 1) [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM `expense_types` WHERE (`expense_types`.`id` = 1) [0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT * FROM `expense_types` WHERE (`expense_types`.`id` = 1) [0m
Completed in 109ms (View: 62, DB: 25) | 200 OK [http://localhost/expense/2010/3]
  [4;35;1mSQL (1.0ms)[0m   [0mSET NAMES 'utf8'[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mSET SQL_AUTO_IS_NULL=0[0m


Processing ExpenseController#index (for 127.0.0.1 at 2010-04-26 23:02:09) [GET]
  Parameters: {"month"=>"3", "year"=>"2010"}
  [4;35;1mExpenseItem Load (1.0ms)[0m   [0mSELECT * FROM `expense_items` WHERE (date BETWEEN '2010-03-01' and '2010-03-31') [0m
Rendering template within layouts/expense
Rendering expense/index
  [4;36;1mExpenseItem Columns (10.0ms)[0m   [0;1mSHOW FIELDS FROM `expense_items`[0m
  [4;35;1mExpenseType Columns (19.0ms)[0m   [0mSHOW FIELDS FROM `expense_types`[0m
  [4;36;1mExpenseType Load (10.0ms)[0m   [0;1mSELECT * FROM `expense_types` WHERE (`expense_types`.`id` = 1) [0m
  [4;35;1mExpenseType Load (0.0ms)[0m   [0mSELECT * FROM `expense_types` WHERE (`expense_types`.`id` = 2) [0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT * FROM `expense_types` WHERE (`expense_types`.`id` = 1) [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM `expense_types` WHERE (`expense_types`.`id` = 1) [0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT * FROM `expense_types` WHERE (`expense_types`.`id` = 1) [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM `expense_types` WHERE (`expense_types`.`id` = 1) [0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT * FROM `expense_types` WHERE (`expense_types`.`id` = 1) [0m
Completed in 128ms (View: 69, DB: 41) | 200 OK [http://localhost/expense/2010/3]
  [4;35;1mSQL (1.0ms)[0m   [0mSET NAMES 'utf8'[0m
  [4;36;1mSQL (1.0ms)[0m   [0;1mSET SQL_AUTO_IS_NULL=0[0m


Processing ExpenseController#index (for 127.0.0.1 at 2010-04-26 23:02:11) [GET]
  Parameters: {"month"=>"4", "year"=>"2010"}
  [4;35;1mExpenseItem Load (0.0ms)[0m   [0mSELECT * FROM `expense_items` WHERE (date BETWEEN '2010-04-01' and '2010-04-30') [0m
Rendering template within layouts/expense
Rendering expense/index
  [4;36;1mExpenseItem Columns (11.0ms)[0m   [0;1mSHOW FIELDS FROM `expense_items`[0m
  [4;35;1mExpenseType Columns (15.0ms)[0m   [0mSHOW FIELDS FROM `expense_types`[0m
  [4;36;1mExpenseType Load (10.0ms)[0m   [0;1mSELECT * FROM `expense_types` WHERE (`expense_types`.`id` = 2) [0m
  [4;35;1mExpenseType Load (1.0ms)[0m   [0mSELECT * FROM `expense_types` WHERE (`expense_types`.`id` = 1) [0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT * FROM `expense_types` WHERE (`expense_types`.`id` = 2) [0m
Completed in 93ms (View: 35, DB: 39) | 200 OK [http://localhost/expense/2010/4]
  [4;35;1mSQL (0.0ms)[0m   [0mSET NAMES 'utf8'[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mSET SQL_AUTO_IS_NULL=0[0m


Processing ExpenseController#index (for 127.0.0.1 at 2010-04-26 23:02:13) [GET]
  Parameters: {"month"=>"3", "year"=>"2010"}
  [4;35;1mExpenseItem Load (1.0ms)[0m   [0mSELECT * FROM `expense_items` WHERE (date BETWEEN '2010-03-01' and '2010-03-31') [0m
Rendering template within layouts/expense
Rendering expense/index
  [4;36;1mExpenseItem Columns (14.0ms)[0m   [0;1mSHOW FIELDS FROM `expense_items`[0m
  [4;35;1mExpenseType Columns (17.0ms)[0m   [0mSHOW FIELDS FROM `expense_types`[0m
  [4;36;1mExpenseType Load (11.0ms)[0m   [0;1mSELECT * FROM `expense_types` WHERE (`expense_types`.`id` = 1) [0m
  [4;35;1mExpenseType Load (1.0ms)[0m   [0mSELECT * FROM `expense_types` WHERE (`expense_types`.`id` = 2) [0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT * FROM `expense_types` WHERE (`expense_types`.`id` = 1) [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM `expense_types` WHERE (`expense_types`.`id` = 1) [0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT * FROM `expense_types` WHERE (`expense_types`.`id` = 1) [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM `expense_types` WHERE (`expense_types`.`id` = 1) [0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT * FROM `expense_types` WHERE (`expense_types`.`id` = 1) [0m
Completed in 119ms (View: 51, DB: 44) | 200 OK [http://localhost/expense/2010/3]
  [4;35;1mSQL (0.0ms)[0m   [0mSET NAMES 'utf8'[0m
  [4;36;1mSQL (1.0ms)[0m   [0;1mSET SQL_AUTO_IS_NULL=0[0m


Processing ExpenseController#index (for 127.0.0.1 at 2010-04-26 23:02:15) [GET]
  Parameters: {"month"=>"4", "year"=>"2010"}
  [4;35;1mExpenseItem Load (1.0ms)[0m   [0mSELECT * FROM `expense_items` WHERE (date BETWEEN '2010-04-01' and '2010-04-30') [0m
Rendering template within layouts/expense
Rendering expense/index
  [4;36;1mExpenseItem Columns (7.0ms)[0m   [0;1mSHOW FIELDS FROM `expense_items`[0m
  [4;35;1mExpenseType Columns (8.0ms)[0m   [0mSHOW FIELDS FROM `expense_types`[0m
  [4;36;1mExpenseType Load (47.0ms)[0m   [0;1mSELECT * FROM `expense_types` WHERE (`expense_types`.`id` = 2) [0m
  [4;35;1mExpenseType Load (1.0ms)[0m   [0mSELECT * FROM `expense_types` WHERE (`expense_types`.`id` = 1) [0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT * FROM `expense_types` WHERE (`expense_types`.`id` = 2) [0m
Completed in 246ms (View: 69, DB: 65) | 200 OK [http://localhost/expense/2010/4]
  [4;35;1mSQL (1.0ms)[0m   [0mSET NAMES 'utf8'[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mSET SQL_AUTO_IS_NULL=0[0m


Processing ExpenseController#index (for 127.0.0.1 at 2010-04-26 23:02:17) [GET]
  Parameters: {"month"=>"3", "year"=>"2010"}
  [4;35;1mExpenseItem Load (0.0ms)[0m   [0mSELECT * FROM `expense_items` WHERE (date BETWEEN '2010-03-01' and '2010-03-31') [0m
Rendering template within layouts/expense
Rendering expense/index
  [4;36;1mExpenseItem Columns (10.0ms)[0m   [0;1mSHOW FIELDS FROM `expense_items`[0m
  [4;35;1mExpenseType Columns (318.0ms)[0m   [0mSHOW FIELDS FROM `expense_types`[0m
  [4;36;1mExpenseType Load (195.0ms)[0m   [0;1mSELECT * FROM `expense_types` WHERE (`expense_types`.`id` = 1) [0m
  [4;35;1mExpenseType Load (1.0ms)[0m   [0mSELECT * FROM `expense_types` WHERE (`expense_types`.`id` = 2) [0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT * FROM `expense_types` WHERE (`expense_types`.`id` = 1) [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM `expense_types` WHERE (`expense_types`.`id` = 1) [0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT * FROM `expense_types` WHERE (`expense_types`.`id` = 1) [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM `expense_types` WHERE (`expense_types`.`id` = 1) [0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT * FROM `expense_types` WHERE (`expense_types`.`id` = 1) [0m
Completed in 595ms (View: 52, DB: 525) | 200 OK [http://localhost/expense/2010/3]
  [4;35;1mSQL (0.0ms)[0m   [0mSET NAMES 'utf8'[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mSET SQL_AUTO_IS_NULL=0[0m


Processing ExpenseController#index (for 127.0.0.1 at 2010-04-26 23:02:29) [GET]
  Parameters: {"month"=>"2", "year"=>"2010"}
  [4;35;1mExpenseItem Load (1.0ms)[0m   [0mSELECT * FROM `expense_items` WHERE (date BETWEEN '2010-02-01' and '2010-02-28') [0m
Rendering template within layouts/expense
Rendering expense/index
Completed in 36ms (View: 11, DB: 1) | 200 OK [http://localhost/expense/2010/2]
  [4;36;1mSQL (1.0ms)[0m   [0;1mSET NAMES 'utf8'[0m
  [4;35;1mSQL (0.0ms)[0m   [0mSET SQL_AUTO_IS_NULL=0[0m


Processing ExpenseController#index (for 127.0.0.1 at 2010-04-26 23:02:31) [GET]
  Parameters: {"month"=>"3", "year"=>"2010"}
  [4;36;1mExpenseItem Load (1.0ms)[0m   [0;1mSELECT * FROM `expense_items` WHERE (date BETWEEN '2010-03-01' and '2010-03-31') [0m
Rendering template within layouts/expense
Rendering expense/index
  [4;35;1mExpenseItem Columns (8.0ms)[0m   [0mSHOW FIELDS FROM `expense_items`[0m
  [4;36;1mExpenseType Columns (6.0ms)[0m   [0;1mSHOW FIELDS FROM `expense_types`[0m
  [4;35;1mExpenseType Load (8.0ms)[0m   [0mSELECT * FROM `expense_types` WHERE (`expense_types`.`id` = 1) [0m
  [4;36;1mExpenseType Load (1.0ms)[0m   [0;1mSELECT * FROM `expense_types` WHERE (`expense_types`.`id` = 2) [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM `expense_types` WHERE (`expense_types`.`id` = 1) [0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT * FROM `expense_types` WHERE (`expense_types`.`id` = 1) [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM `expense_types` WHERE (`expense_types`.`id` = 1) [0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT * FROM `expense_types` WHERE (`expense_types`.`id` = 1) [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM `expense_types` WHERE (`expense_types`.`id` = 1) [0m
Completed in 105ms (View: 51, DB: 25) | 200 OK [http://localhost/expense/2010/3]
  [4;36;1mSQL (1.0ms)[0m   [0;1mSET NAMES 'utf8'[0m
  [4;35;1mSQL (0.0ms)[0m   [0mSET SQL_AUTO_IS_NULL=0[0m


Processing ExpenseController#index (for 127.0.0.1 at 2010-04-26 23:02:33) [GET]
  Parameters: {"month"=>"2", "year"=>"2010"}
  [4;36;1mExpenseItem Load (1.0ms)[0m   [0;1mSELECT * FROM `expense_items` WHERE (date BETWEEN '2010-02-01' and '2010-02-28') [0m
Rendering template within layouts/expense
Rendering expense/index
Completed in 30ms (View: 11, DB: 2) | 200 OK [http://localhost/expense/2010/2]
  [4;35;1mSQL (0.0ms)[0m   [0mSET NAMES 'utf8'[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mSET SQL_AUTO_IS_NULL=0[0m


Processing ExpenseController#index (for 127.0.0.1 at 2010-04-26 23:02:34) [GET]
  Parameters: {"month"=>"3", "year"=>"2010"}
  [4;35;1mExpenseItem Load (1.0ms)[0m   [0mSELECT * FROM `expense_items` WHERE (date BETWEEN '2010-03-01' and '2010-03-31') [0m
Rendering template within layouts/expense
Rendering expense/index
  [4;36;1mExpenseItem Columns (9.0ms)[0m   [0;1mSHOW FIELDS FROM `expense_items`[0m
  [4;35;1mExpenseType Columns (11.0ms)[0m   [0mSHOW FIELDS FROM `expense_types`[0m
  [4;36;1mExpenseType Load (35.0ms)[0m   [0;1mSELECT * FROM `expense_types` WHERE (`expense_types`.`id` = 1) [0m
  [4;35;1mExpenseType Load (0.0ms)[0m   [0mSELECT * FROM `expense_types` WHERE (`expense_types`.`id` = 2) [0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT * FROM `expense_types` WHERE (`expense_types`.`id` = 1) [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM `expense_types` WHERE (`expense_types`.`id` = 1) [0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT * FROM `expense_types` WHERE (`expense_types`.`id` = 1) [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM `expense_types` WHERE (`expense_types`.`id` = 1) [0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT * FROM `expense_types` WHERE (`expense_types`.`id` = 1) [0m
Completed in 122ms (View: 49, DB: 56) | 200 OK [http://localhost/expense/2010/3]
  [4;35;1mSQL (0.0ms)[0m   [0mSET NAMES 'utf8'[0m
  [4;36;1mSQL (2.0ms)[0m   [0;1mSET SQL_AUTO_IS_NULL=0[0m


Processing ExpenseController#index (for 127.0.0.1 at 2010-04-26 23:02:37) [GET]
  Parameters: {"month"=>"4", "year"=>"2010"}
  [4;35;1mExpenseItem Load (1.0ms)[0m   [0mSELECT * FROM `expense_items` WHERE (date BETWEEN '2010-04-01' and '2010-04-30') [0m
Rendering template within layouts/expense
Rendering expense/index
  [4;36;1mExpenseItem Columns (10.0ms)[0m   [0;1mSHOW FIELDS FROM `expense_items`[0m
  [4;35;1mExpenseType Columns (7.0ms)[0m   [0mSHOW FIELDS FROM `expense_types`[0m
  [4;36;1mExpenseType Load (10.0ms)[0m   [0;1mSELECT * FROM `expense_types` WHERE (`expense_types`.`id` = 2) [0m
  [4;35;1mExpenseType Load (1.0ms)[0m   [0mSELECT * FROM `expense_types` WHERE (`expense_types`.`id` = 1) [0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT * FROM `expense_types` WHERE (`expense_types`.`id` = 2) [0m
Completed in 96ms (View: 37, DB: 31) | 200 OK [http://localhost/expense/2010/4]
  [4;35;1mSQL (0.0ms)[0m   [0mSET NAMES 'utf8'[0m
  [4;36;1mSQL (1.0ms)[0m   [0;1mSET SQL_AUTO_IS_NULL=0[0m


Processing ExpenseController#index (for 127.0.0.1 at 2010-04-26 23:02:40) [GET]
  Parameters: {"month"=>"5", "year"=>"2010"}
  [4;35;1mExpenseItem Load (1.0ms)[0m   [0mSELECT * FROM `expense_items` WHERE (date BETWEEN '2010-05-01' and '2010-05-31') [0m
Rendering template within layouts/expense
Rendering expense/index
Completed in 24ms (View: 6, DB: 2) | 200 OK [http://localhost/expense/2010/5]
  [4;36;1mSQL (1.0ms)[0m   [0;1mSET NAMES 'utf8'[0m
  [4;35;1mSQL (2.0ms)[0m   [0mSET SQL_AUTO_IS_NULL=0[0m


Processing ExpenseController#index (for 127.0.0.1 at 2010-04-26 23:02:41) [GET]
  Parameters: {"month"=>"4", "year"=>"2010"}
  [4;36;1mExpenseItem Load (1.0ms)[0m   [0;1mSELECT * FROM `expense_items` WHERE (date BETWEEN '2010-04-01' and '2010-04-30') [0m
Rendering template within layouts/expense
Rendering expense/index
  [4;35;1mExpenseItem Columns (10.0ms)[0m   [0mSHOW FIELDS FROM `expense_items`[0m
  [4;36;1mExpenseType Columns (6.0ms)[0m   [0;1mSHOW FIELDS FROM `expense_types`[0m
  [4;35;1mExpenseType Load (14.0ms)[0m   [0mSELECT * FROM `expense_types` WHERE (`expense_types`.`id` = 2) [0m
  [4;36;1mExpenseType Load (1.0ms)[0m   [0;1mSELECT * FROM `expense_types` WHERE (`expense_types`.`id` = 1) [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM `expense_types` WHERE (`expense_types`.`id` = 2) [0m
Completed in 85ms (View: 36, DB: 35) | 200 OK [http://localhost/expense/2010/4]
  [4;36;1mSQL (1.0ms)[0m   [0;1mSET NAMES 'utf8'[0m
  [4;35;1mSQL (0.0ms)[0m   [0mSET SQL_AUTO_IS_NULL=0[0m


Processing ExpenseController#index (for 127.0.0.1 at 2010-04-26 23:07:32) [GET]
  Parameters: {"month"=>"4", "year"=>"2010"}
  [4;36;1mExpenseItem Load (0.0ms)[0m   [0;1mSELECT * FROM `expense_items` WHERE (date BETWEEN '2010-04-01' and '2010-04-30') [0m
Rendering template within layouts/expense
Rendering expense/index
  [4;35;1mExpenseItem Columns (9.0ms)[0m   [0mSHOW FIELDS FROM `expense_items`[0m
  [4;36;1mExpenseType Columns (7.0ms)[0m   [0;1mSHOW FIELDS FROM `expense_types`[0m
  [4;35;1mExpenseType Load (9.0ms)[0m   [0mSELECT * FROM `expense_types` WHERE (`expense_types`.`id` = 2) [0m
  [4;36;1mExpenseType Load (1.0ms)[0m   [0;1mSELECT * FROM `expense_types` WHERE (`expense_types`.`id` = 1) [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM `expense_types` WHERE (`expense_types`.`id` = 2) [0m
Completed in 161ms (View: 37, DB: 27) | 200 OK [http://localhost/expense/2010/4]
  [4;36;1mSQL (0.0ms)[0m   [0;1mSET NAMES 'utf8'[0m
  [4;35;1mSQL (0.0ms)[0m   [0mSET SQL_AUTO_IS_NULL=0[0m


Processing ExpenseController#index (for 127.0.0.1 at 2010-04-26 23:07:36) [GET]
  Parameters: {"month"=>"5", "year"=>"2010"}
  [4;36;1mExpenseItem Load (0.0ms)[0m   [0;1mSELECT * FROM `expense_items` WHERE (date BETWEEN '2010-05-01' and '2010-05-31') [0m
Rendering template within layouts/expense
Rendering expense/index
Completed in 43ms (View: 7, DB: 0) | 200 OK [http://localhost/expense/2010/5]
  [4;35;1mSQL (1.0ms)[0m   [0mSET NAMES 'utf8'[0m
  [4;36;1mSQL (1.0ms)[0m   [0;1mSET SQL_AUTO_IS_NULL=0[0m


Processing ExpenseController#index (for 127.0.0.1 at 2010-04-26 23:07:37) [GET]
  Parameters: {"month"=>"4", "year"=>"2010"}
  [4;35;1mExpenseItem Load (1.0ms)[0m   [0mSELECT * FROM `expense_items` WHERE (date BETWEEN '2010-04-01' and '2010-04-30') [0m
Rendering template within layouts/expense
Rendering expense/index
  [4;36;1mExpenseItem Columns (10.0ms)[0m   [0;1mSHOW FIELDS FROM `expense_items`[0m
  [4;35;1mExpenseType Columns (9.0ms)[0m   [0mSHOW FIELDS FROM `expense_types`[0m
  [4;36;1mExpenseType Load (12.0ms)[0m   [0;1mSELECT * FROM `expense_types` WHERE (`expense_types`.`id` = 2) [0m
  [4;35;1mExpenseType Load (1.0ms)[0m   [0mSELECT * FROM `expense_types` WHERE (`expense_types`.`id` = 1) [0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT * FROM `expense_types` WHERE (`expense_types`.`id` = 2) [0m
Completed in 86ms (View: 35, DB: 35) | 200 OK [http://localhost/expense/2010/4]
  [4;35;1mSQL (1.0ms)[0m   [0mSET NAMES 'utf8'[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mSET SQL_AUTO_IS_NULL=0[0m


Processing ExpenseController#index (for 127.0.0.1 at 2010-04-26 23:07:38) [GET]
  Parameters: {"month"=>"3", "year"=>"2010"}
  [4;35;1mExpenseItem Load (0.0ms)[0m   [0mSELECT * FROM `expense_items` WHERE (date BETWEEN '2010-03-01' and '2010-03-31') [0m
Rendering template within layouts/expense
Rendering expense/index
  [4;36;1mExpenseItem Columns (9.0ms)[0m   [0;1mSHOW FIELDS FROM `expense_items`[0m
  [4;35;1mExpenseType Columns (9.0ms)[0m   [0mSHOW FIELDS FROM `expense_types`[0m
  [4;36;1mExpenseType Load (11.0ms)[0m   [0;1mSELECT * FROM `expense_types` WHERE (`expense_types`.`id` = 1) [0m
  [4;35;1mExpenseType Load (0.0ms)[0m   [0mSELECT * FROM `expense_types` WHERE (`expense_types`.`id` = 2) [0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT * FROM `expense_types` WHERE (`expense_types`.`id` = 1) [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM `expense_types` WHERE (`expense_types`.`id` = 1) [0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT * FROM `expense_types` WHERE (`expense_types`.`id` = 1) [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM `expense_types` WHERE (`expense_types`.`id` = 1) [0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT * FROM `expense_types` WHERE (`expense_types`.`id` = 1) [0m
Completed in 97ms (View: 50, DB: 30) | 200 OK [http://localhost/expense/2010/3]
  [4;35;1mSQL (0.0ms)[0m   [0mSET NAMES 'utf8'[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mSET SQL_AUTO_IS_NULL=0[0m


Processing ExpenseController#delete (for 127.0.0.1 at 2010-04-26 23:07:42) [GET]
  Parameters: {"id"=>"6"}

ActionView::MissingTemplate (Missing template expense/delete.erb in view path app/views):
  

Rendering rescues/layout (internal_server_error)
  [4;35;1mSQL (0.0ms)[0m   [0mSET NAMES 'utf8'[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mSET SQL_AUTO_IS_NULL=0[0m


Processing ExpenseController#index (for 127.0.0.1 at 2010-04-26 23:16:01) [GET]
  Parameters: {"month"=>"3", "year"=>"2010"}
  [4;35;1mExpenseItem Load (1.0ms)[0m   [0mSELECT * FROM `expense_items` WHERE (date BETWEEN '2010-03-01' and '2010-03-31') [0m
Rendering template within layouts/expense
Rendering expense/index
  [4;36;1mExpenseItem Columns (9.0ms)[0m   [0;1mSHOW FIELDS FROM `expense_items`[0m
  [4;35;1mExpenseType Columns (9.0ms)[0m   [0mSHOW FIELDS FROM `expense_types`[0m
  [4;36;1mExpenseType Load (12.0ms)[0m   [0;1mSELECT * FROM `expense_types` WHERE (`expense_types`.`id` = 1) [0m
  [4;35;1mExpenseType Load (1.0ms)[0m   [0mSELECT * FROM `expense_types` WHERE (`expense_types`.`id` = 2) [0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT * FROM `expense_types` WHERE (`expense_types`.`id` = 1) [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM `expense_types` WHERE (`expense_types`.`id` = 1) [0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT * FROM `expense_types` WHERE (`expense_types`.`id` = 1) [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM `expense_types` WHERE (`expense_types`.`id` = 1) [0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT * FROM `expense_types` WHERE (`expense_types`.`id` = 1) [0m
Completed in 153ms (View: 96, DB: 32) | 200 OK [http://localhost/expense/2010/3]
  [4;35;1mSQL (0.0ms)[0m   [0mSET NAMES 'utf8'[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mSET SQL_AUTO_IS_NULL=0[0m


Processing ExpenseController#index (for 127.0.0.1 at 2010-04-26 23:16:04) [GET]
  Parameters: {"month"=>"3", "year"=>"2010"}
  [4;35;1mExpenseItem Load (1.0ms)[0m   [0mSELECT * FROM `expense_items` WHERE (date BETWEEN '2010-03-01' and '2010-03-31') [0m
Rendering template within layouts/expense
Rendering expense/index
  [4;36;1mExpenseItem Columns (9.0ms)[0m   [0;1mSHOW FIELDS FROM `expense_items`[0m
  [4;35;1mExpenseType Columns (7.0ms)[0m   [0mSHOW FIELDS FROM `expense_types`[0m
  [4;36;1mExpenseType Load (8.0ms)[0m   [0;1mSELECT * FROM `expense_types` WHERE (`expense_types`.`id` = 1) [0m
  [4;35;1mExpenseType Load (1.0ms)[0m   [0mSELECT * FROM `expense_types` WHERE (`expense_types`.`id` = 2) [0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT * FROM `expense_types` WHERE (`expense_types`.`id` = 1) [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM `expense_types` WHERE (`expense_types`.`id` = 1) [0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT * FROM `expense_types` WHERE (`expense_types`.`id` = 1) [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM `expense_types` WHERE (`expense_types`.`id` = 1) [0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT * FROM `expense_types` WHERE (`expense_types`.`id` = 1) [0m
Completed in 126ms (View: 83, DB: 26) | 200 OK [http://localhost/expense/2010/3]
  [4;35;1mSQL (1.0ms)[0m   [0mSET NAMES 'utf8'[0m
  [4;36;1mSQL (1.0ms)[0m   [0;1mSET SQL_AUTO_IS_NULL=0[0m


Processing ExpenseController#index (for 127.0.0.1 at 2010-04-26 23:17:40) [GET]
  Parameters: {"month"=>"3", "year"=>"2010"}
  [4;35;1mExpenseItem Load (1.0ms)[0m   [0mSELECT * FROM `expense_items` WHERE (date BETWEEN '2010-03-01' and '2010-03-31') [0m
Rendering template within layouts/expense
Rendering expense/index
  [4;36;1mExpenseItem Columns (19.0ms)[0m   [0;1mSHOW FIELDS FROM `expense_items`[0m
  [4;35;1mExpenseType Columns (7.0ms)[0m   [0mSHOW FIELDS FROM `expense_types`[0m
  [4;36;1mExpenseType Load (9.0ms)[0m   [0;1mSELECT * FROM `expense_types` WHERE (`expense_types`.`id` = 1) [0m
  [4;35;1mExpenseType Load (1.0ms)[0m   [0mSELECT * FROM `expense_types` WHERE (`expense_types`.`id` = 2) [0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT * FROM `expense_types` WHERE (`expense_types`.`id` = 1) [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM `expense_types` WHERE (`expense_types`.`id` = 1) [0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT * FROM `expense_types` WHERE (`expense_types`.`id` = 1) [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM `expense_types` WHERE (`expense_types`.`id` = 1) [0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT * FROM `expense_types` WHERE (`expense_types`.`id` = 1) [0m
Completed in 143ms (View: 89, DB: 39) | 200 OK [http://localhost/expense/2010/3]
  [4;35;1mSQL (1.0ms)[0m   [0mSET NAMES 'utf8'[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mSET SQL_AUTO_IS_NULL=0[0m


Processing ExpenseController#delete (for 127.0.0.1 at 2010-04-26 23:17:43) [DELETE]
  Parameters: {"authenticity_token"=>"J3FyYk3jLIDiN5d3VYr/75BwIN44CV7ouawTcellGM8=", "id"=>"6"}
  [4;35;1mExpenseItem Columns (8.0ms)[0m   [0mSHOW FIELDS FROM `expense_items`[0m
  [4;36;1mExpenseItem Load (12.0ms)[0m   [0;1mSELECT * FROM `expense_items` WHERE (`expense_items`.`id` = 6) [0m
  [4;35;1mSQL (0.0ms)[0m   [0mBEGIN[0m
  [4;36;1mExpenseItem Destroy (48.0ms)[0m   [0;1mDELETE FROM `expense_items` WHERE `id` = 6[0m
  [4;35;1mSQL (65.0ms)[0m   [0mCOMMIT[0m
Redirected to http://localhost:3000/expense/2010/3
Completed in 171ms (DB: 134) | 302 Found [http://localhost/expense/delete/6]
  [4;36;1mSQL (1.0ms)[0m   [0;1mSET NAMES 'utf8'[0m
  [4;35;1mSQL (0.0ms)[0m   [0mSET SQL_AUTO_IS_NULL=0[0m


Processing ExpenseController#index (for 127.0.0.1 at 2010-04-26 23:17:43) [GET]
  Parameters: {"month"=>"3", "year"=>"2010"}
  [4;36;1mExpenseItem Load (1.0ms)[0m   [0;1mSELECT * FROM `expense_items` WHERE (date BETWEEN '2010-03-01' and '2010-03-31') [0m
Rendering template within layouts/expense
Rendering expense/index
  [4;35;1mExpenseItem Columns (11.0ms)[0m   [0mSHOW FIELDS FROM `expense_items`[0m
  [4;36;1mExpenseType Columns (6.0ms)[0m   [0;1mSHOW FIELDS FROM `expense_types`[0m
  [4;35;1mExpenseType Load (8.0ms)[0m   [0mSELECT * FROM `expense_types` WHERE (`expense_types`.`id` = 1) [0m
  [4;36;1mExpenseType Load (1.0ms)[0m   [0;1mSELECT * FROM `expense_types` WHERE (`expense_types`.`id` = 2) [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM `expense_types` WHERE (`expense_types`.`id` = 1) [0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT * FROM `expense_types` WHERE (`expense_types`.`id` = 1) [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM `expense_types` WHERE (`expense_types`.`id` = 1) [0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT * FROM `expense_types` WHERE (`expense_types`.`id` = 1) [0m
Completed in 118ms (View: 73, DB: 28) | 200 OK [http://localhost/expense/2010/3]
  [4;35;1mSQL (0.0ms)[0m   [0mSET NAMES 'utf8'[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mSET SQL_AUTO_IS_NULL=0[0m


Processing ExpenseController#delete (for 127.0.0.1 at 2010-04-26 23:17:52) [DELETE]
  Parameters: {"authenticity_token"=>"J3FyYk3jLIDiN5d3VYr/75BwIN44CV7ouawTcellGM8=", "id"=>"8"}
  [4;35;1mExpenseItem Columns (9.0ms)[0m   [0mSHOW FIELDS FROM `expense_items`[0m
  [4;36;1mExpenseItem Load (18.0ms)[0m   [0;1mSELECT * FROM `expense_items` WHERE (`expense_items`.`id` = 8) [0m
  [4;35;1mSQL (0.0ms)[0m   [0mBEGIN[0m
  [4;36;1mExpenseItem Destroy (0.0ms)[0m   [0;1mDELETE FROM `expense_items` WHERE `id` = 8[0m
  [4;35;1mSQL (97.0ms)[0m   [0mCOMMIT[0m
Redirected to http://localhost:3000/expense/2010/3
Completed in 153ms (DB: 124) | 302 Found [http://localhost/expense/delete/8]
  [4;36;1mSQL (0.0ms)[0m   [0;1mSET NAMES 'utf8'[0m
  [4;35;1mSQL (1.0ms)[0m   [0mSET SQL_AUTO_IS_NULL=0[0m


Processing ExpenseController#index (for 127.0.0.1 at 2010-04-26 23:17:53) [GET]
  Parameters: {"month"=>"3", "year"=>"2010"}
  [4;36;1mExpenseItem Load (1.0ms)[0m   [0;1mSELECT * FROM `expense_items` WHERE (date BETWEEN '2010-03-01' and '2010-03-31') [0m
Rendering template within layouts/expense
Rendering expense/index
  [4;35;1mExpenseItem Columns (8.0ms)[0m   [0mSHOW FIELDS FROM `expense_items`[0m
  [4;36;1mExpenseType Columns (7.0ms)[0m   [0;1mSHOW FIELDS FROM `expense_types`[0m
  [4;35;1mExpenseType Load (10.0ms)[0m   [0mSELECT * FROM `expense_types` WHERE (`expense_types`.`id` = 1) [0m
  [4;36;1mExpenseType Load (1.0ms)[0m   [0;1mSELECT * FROM `expense_types` WHERE (`expense_types`.`id` = 2) [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM `expense_types` WHERE (`expense_types`.`id` = 1) [0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT * FROM `expense_types` WHERE (`expense_types`.`id` = 1) [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM `expense_types` WHERE (`expense_types`.`id` = 1) [0m
Completed in 110ms (View: 66, DB: 28) | 200 OK [http://localhost/expense/2010/3]
  [4;36;1mSQL (1.0ms)[0m   [0;1mSET NAMES 'utf8'[0m
  [4;35;1mSQL (0.0ms)[0m   [0mSET SQL_AUTO_IS_NULL=0[0m


Processing ExpenseController#index (for 127.0.0.1 at 2010-04-26 23:18:12) [GET]
  Parameters: {"month"=>"3", "year"=>"2010"}
  [4;36;1mExpenseItem Load (1.0ms)[0m   [0;1mSELECT * FROM `expense_items` WHERE (date BETWEEN '2010-03-01' and '2010-03-31') [0m
Rendering template within layouts/expense
Rendering expense/index
  [4;35;1mExpenseItem Columns (8.0ms)[0m   [0mSHOW FIELDS FROM `expense_items`[0m
  [4;36;1mExpenseType Columns (6.0ms)[0m   [0;1mSHOW FIELDS FROM `expense_types`[0m
  [4;35;1mExpenseType Load (9.0ms)[0m   [0mSELECT * FROM `expense_types` WHERE (`expense_types`.`id` = 1) [0m
  [4;36;1mExpenseType Load (0.0ms)[0m   [0;1mSELECT * FROM `expense_types` WHERE (`expense_types`.`id` = 2) [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM `expense_types` WHERE (`expense_types`.`id` = 1) [0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT * FROM `expense_types` WHERE (`expense_types`.`id` = 1) [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM `expense_types` WHERE (`expense_types`.`id` = 1) [0m
Completed in 211ms (View: 168, DB: 25) | 200 OK [http://localhost/expense/2010/3]
  [4;36;1mSQL (0.0ms)[0m   [0;1mSET NAMES 'utf8'[0m
  [4;35;1mSQL (1.0ms)[0m   [0mSET SQL_AUTO_IS_NULL=0[0m


Processing ExpenseController#delete (for 127.0.0.1 at 2010-04-26 23:18:20) [POST]
  Parameters: {"authenticity_token"=>"J3FyYk3jLIDiN5d3VYr/75BwIN44CV7ouawTcellGM8=", "id"=>"9"}

ActionView::MissingTemplate (Missing template expense/delete.erb in view path app/views):
  

Rendering rescues/layout (internal_server_error)
  [4;36;1mSQL (0.0ms)[0m   [0;1mSET NAMES 'utf8'[0m
  [4;35;1mSQL (1.0ms)[0m   [0mSET SQL_AUTO_IS_NULL=0[0m


Processing ExpenseController#index (for 127.0.0.1 at 2010-04-26 23:18:22) [GET]
  Parameters: {"month"=>"3", "year"=>"2010"}
  [4;36;1mExpenseItem Load (2.0ms)[0m   [0;1mSELECT * FROM `expense_items` WHERE (date BETWEEN '2010-03-01' and '2010-03-31') [0m
Rendering template within layouts/expense
Rendering expense/index
  [4;35;1mExpenseItem Columns (8.0ms)[0m   [0mSHOW FIELDS FROM `expense_items`[0m
  [4;36;1mExpenseType Columns (7.0ms)[0m   [0;1mSHOW FIELDS FROM `expense_types`[0m
  [4;35;1mExpenseType Load (64.0ms)[0m   [0mSELECT * FROM `expense_types` WHERE (`expense_types`.`id` = 1) [0m
  [4;36;1mExpenseType Load (1.0ms)[0m   [0;1mSELECT * FROM `expense_types` WHERE (`expense_types`.`id` = 2) [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM `expense_types` WHERE (`expense_types`.`id` = 1) [0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT * FROM `expense_types` WHERE (`expense_types`.`id` = 1) [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM `expense_types` WHERE (`expense_types`.`id` = 1) [0m
Completed in 186ms (View: 75, DB: 83) | 200 OK [http://localhost/expense/2010/3]
  [4;36;1mSQL (1.0ms)[0m   [0;1mSET NAMES 'utf8'[0m
  [4;35;1mSQL (0.0ms)[0m   [0mSET SQL_AUTO_IS_NULL=0[0m


Processing ExpenseController#new (for 127.0.0.1 at 2010-04-26 23:22:08) [GET]
  [4;36;1mExpenseType Load (1.0ms)[0m   [0;1mSELECT * FROM `expense_types` [0m
  [4;35;1mExpenseType Columns (9.0ms)[0m   [0mSHOW FIELDS FROM `expense_types`[0m
Rendering template within layouts/expense
Rendering expense/new
Completed in 52ms (View: 23, DB: 11) | 200 OK [http://localhost/expense/new]
  [4;36;1mSQL (0.0ms)[0m   [0;1mSET NAMES 'utf8'[0m
  [4;35;1mSQL (0.0ms)[0m   [0mSET SQL_AUTO_IS_NULL=0[0m


Processing ExpenseController#index (for 127.0.0.1 at 2010-04-26 23:22:10) [GET]
  [4;36;1mExpenseItem Load (2.0ms)[0m   [0;1mSELECT * FROM `expense_items` WHERE (date BETWEEN '2010-04-01' and '2010-04-30') [0m
Rendering template within layouts/expense
Rendering expense/index
  [4;35;1mExpenseItem Columns (9.0ms)[0m   [0mSHOW FIELDS FROM `expense_items`[0m
  [4;36;1mExpenseType Columns (13.0ms)[0m   [0;1mSHOW FIELDS FROM `expense_types`[0m
  [4;35;1mExpenseType Load (11.0ms)[0m   [0mSELECT * FROM `expense_types` WHERE (`expense_types`.`id` = 2) [0m
  [4;36;1mExpenseType Load (0.0ms)[0m   [0;1mSELECT * FROM `expense_types` WHERE (`expense_types`.`id` = 1) [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM `expense_types` WHERE (`expense_types`.`id` = 2) [0m
Completed in 132ms (View: 71, DB: 35) | 200 OK [http://localhost/expense]
  [4;36;1mSQL (0.0ms)[0m   [0;1mSET NAMES 'utf8'[0m
  [4;35;1mSQL (0.0ms)[0m   [0mSET SQL_AUTO_IS_NULL=0[0m


Processing ExpenseController#index (for 127.0.0.1 at 2010-04-26 23:22:13) [GET]
  Parameters: {"month"=>"5", "year"=>"2010"}
  [4;36;1mExpenseItem Load (0.0ms)[0m   [0;1mSELECT * FROM `expense_items` WHERE (date BETWEEN '2010-05-01' and '2010-05-31') [0m
Rendering template within layouts/expense
Rendering expense/index
Completed in 43ms (View: 7, DB: 0) | 200 OK [http://localhost/expense/2010/5]
  [4;35;1mSQL (1.0ms)[0m   [0mSET NAMES 'utf8'[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mSET SQL_AUTO_IS_NULL=0[0m


Processing ExpenseController#index (for 127.0.0.1 at 2010-04-26 23:22:14) [GET]
  Parameters: {"month"=>"4", "year"=>"2010"}
  [4;35;1mExpenseItem Load (1.0ms)[0m   [0mSELECT * FROM `expense_items` WHERE (date BETWEEN '2010-04-01' and '2010-04-30') [0m
Rendering template within layouts/expense
Rendering expense/index
  [4;36;1mExpenseItem Columns (8.0ms)[0m   [0;1mSHOW FIELDS FROM `expense_items`[0m
  [4;35;1mExpenseType Columns (11.0ms)[0m   [0mSHOW FIELDS FROM `expense_types`[0m
  [4;36;1mExpenseType Load (11.0ms)[0m   [0;1mSELECT * FROM `expense_types` WHERE (`expense_types`.`id` = 2) [0m
  [4;35;1mExpenseType Load (0.0ms)[0m   [0mSELECT * FROM `expense_types` WHERE (`expense_types`.`id` = 1) [0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT * FROM `expense_types` WHERE (`expense_types`.`id` = 2) [0m
Completed in 100ms (View: 52, DB: 32) | 200 OK [http://localhost/expense/2010/4]
  [4;35;1mSQL (0.0ms)[0m   [0mSET NAMES 'utf8'[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mSET SQL_AUTO_IS_NULL=0[0m


Processing ExpenseController#index (for 127.0.0.1 at 2010-04-26 23:22:14) [GET]
  Parameters: {"month"=>"3", "year"=>"2010"}
  [4;35;1mExpenseItem Load (1.0ms)[0m   [0mSELECT * FROM `expense_items` WHERE (date BETWEEN '2010-03-01' and '2010-03-31') [0m
Rendering template within layouts/expense
Rendering expense/index
  [4;36;1mExpenseItem Columns (9.0ms)[0m   [0;1mSHOW FIELDS FROM `expense_items`[0m
  [4;35;1mExpenseType Columns (8.0ms)[0m   [0mSHOW FIELDS FROM `expense_types`[0m
  [4;36;1mExpenseType Load (12.0ms)[0m   [0;1mSELECT * FROM `expense_types` WHERE (`expense_types`.`id` = 1) [0m
  [4;35;1mExpenseType Load (1.0ms)[0m   [0mSELECT * FROM `expense_types` WHERE (`expense_types`.`id` = 2) [0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT * FROM `expense_types` WHERE (`expense_types`.`id` = 1) [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM `expense_types` WHERE (`expense_types`.`id` = 1) [0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT * FROM `expense_types` WHERE (`expense_types`.`id` = 1) [0m
Completed in 202ms (View: 154, DB: 31) | 200 OK [http://localhost/expense/2010/3]
  [4;35;1mSQL (1.0ms)[0m   [0mSET NAMES 'utf8'[0m
  [4;36;1mSQL (1.0ms)[0m   [0;1mSET SQL_AUTO_IS_NULL=0[0m


Processing ExpenseController#new (for 127.0.0.1 at 2010-04-26 23:22:15) [GET]
  [4;35;1mExpenseType Load (1.0ms)[0m   [0mSELECT * FROM `expense_types` [0m
  [4;36;1mExpenseType Columns (8.0ms)[0m   [0;1mSHOW FIELDS FROM `expense_types`[0m
Rendering template within layouts/expense
Rendering expense/new
Completed in 36ms (View: 10, DB: 11) | 200 OK [http://localhost/expense/new]
  [4;35;1mSQL (0.0ms)[0m   [0mSET NAMES 'utf8'[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mSET SQL_AUTO_IS_NULL=0[0m


Processing ExpenseController#index (for 127.0.0.1 at 2010-04-26 23:22:17) [GET]
  [4;35;1mExpenseItem Load (1.0ms)[0m   [0mSELECT * FROM `expense_items` WHERE (date BETWEEN '2010-04-01' and '2010-04-30') [0m
Rendering template within layouts/expense
Rendering expense/index
  [4;36;1mExpenseItem Columns (10.0ms)[0m   [0;1mSHOW FIELDS FROM `expense_items`[0m
  [4;35;1mExpenseType Columns (6.0ms)[0m   [0mSHOW FIELDS FROM `expense_types`[0m
  [4;36;1mExpenseType Load (12.0ms)[0m   [0;1mSELECT * FROM `expense_types` WHERE (`expense_types`.`id` = 2) [0m
  [4;35;1mExpenseType Load (1.0ms)[0m   [0mSELECT * FROM `expense_types` WHERE (`expense_types`.`id` = 1) [0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT * FROM `expense_types` WHERE (`expense_types`.`id` = 2) [0m
Completed in 98ms (View: 51, DB: 30) | 200 OK [http://localhost/expense]
  [4;35;1mSQL (0.0ms)[0m   [0mSET NAMES 'utf8'[0m
  [4;36;1mSQL (1.0ms)[0m   [0;1mSET SQL_AUTO_IS_NULL=0[0m


Processing ExpenseController#index (for 127.0.0.1 at 2010-04-26 23:24:10) [GET]
  [4;35;1mExpenseItem Load (1.0ms)[0m   [0mSELECT * FROM `expense_items` WHERE (date BETWEEN '2010-04-01' and '2010-04-30') [0m
Rendering template within layouts/expense
Rendering expense/index
  [4;36;1mExpenseItem Columns (11.0ms)[0m   [0;1mSHOW FIELDS FROM `expense_items`[0m
  [4;35;1mExpenseType Columns (9.0ms)[0m   [0mSHOW FIELDS FROM `expense_types`[0m
  [4;36;1mExpenseType Load (12.0ms)[0m   [0;1mSELECT * FROM `expense_types` WHERE (`expense_types`.`id` = 2) [0m
  [4;35;1mExpenseType Load (1.0ms)[0m   [0mSELECT * FROM `expense_types` WHERE (`expense_types`.`id` = 1) [0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT * FROM `expense_types` WHERE (`expense_types`.`id` = 2) [0m
Completed in 127ms (View: 74, DB: 35) | 200 OK [http://localhost/expense]
  [4;35;1mSQL (1.0ms)[0m   [0mSET NAMES 'utf8'[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mSET SQL_AUTO_IS_NULL=0[0m


Processing ExpenseController#edit (for 127.0.0.1 at 2010-04-26 23:24:15) [GET]
  Parameters: {"id"=>"7"}
  [4;35;1mExpenseItem Columns (9.0ms)[0m   [0mSHOW FIELDS FROM `expense_items`[0m
  [4;36;1mExpenseItem Load (12.0ms)[0m   [0;1mSELECT * FROM `expense_items` WHERE (`expense_items`.`id` = 7) [0m
  [4;35;1mExpenseType Load (1.0ms)[0m   [0mSELECT * FROM `expense_types` [0m
  [4;36;1mExpenseType Columns (9.0ms)[0m   [0;1mSHOW FIELDS FROM `expense_types`[0m
Rendering template within layouts/expense
Rendering expense/edit
ERROR: compiling _run_erb_app47views47expense47edit46html46erb RAISED compile error
d:/haipeng/ror/finance/app/views/expense/edit.html.erb:3: syntax error, unexpected ':', expecting ')'
...er.concat(( link_to "取消" :action => 'index' ).to_s); @ou...
                              ^
Function body:           def _run_erb_app47views47expense47edit46html46erb(local_assigns)
            old_output_buffer = output_buffer;;@output_buffer = '';  __in_erb_template=true ; @output_buffer.concat "<div>\n"
@output_buffer.concat "  <h2>\347\274\226\350\276\221\346\266\210\350\264\271\350\256\260\345\275\225</h2>\n"
@output_buffer.concat "  "; @output_buffer.concat(( link_to "取消" :action => 'index' ).to_s); @output_buffer.concat "\n"
@output_buffer.concat "  ";  form_for @expense_item, :url => { :action => :update, :id => @expense_item} do |form| ; @output_buffer.concat "\n"
@output_buffer.concat "    <p>\n"
@output_buffer.concat "      <label for=\"date\">\346\227\245\346\234\237</label><br/>\n"
@output_buffer.concat "      "; @output_buffer.concat(( form.text_field :date ).to_s); @output_buffer.concat "\n"
@output_buffer.concat "    </p>\n"
@output_buffer.concat "\n"
@output_buffer.concat "    <p>\n"
@output_buffer.concat "      <label for=\"type\">\347\261\273\345\236\213</label><br/>\n"
@output_buffer.concat "      "; @output_buffer.concat(( form.select :expense_type_id, @all_types ).to_s); @output_buffer.concat "\n"
@output_buffer.concat "    </p>\n"
@output_buffer.concat "\n"
@output_buffer.concat "    <p>\n"
@output_buffer.concat "      <label for=\"value\">\351\207\221\351\242\235</label><br/>\n"
@output_buffer.concat "      "; @output_buffer.concat(( form.text_field :value ).to_s); @output_buffer.concat "     \n"
@output_buffer.concat "    </p>\n"
@output_buffer.concat "\n"
@output_buffer.concat "    <p>\n"
@output_buffer.concat "      <label for=\"note\">\345\244\207\346\263\250</label><br/>\n"
@output_buffer.concat "      "; @output_buffer.concat(( form.text_area :note ).to_s); @output_buffer.concat "\n"
@output_buffer.concat "    </p>\n"
@output_buffer.concat "    "; @output_buffer.concat(( submit_tag ).to_s); @output_buffer.concat "\n"
@output_buffer.concat "  ";  end ; @output_buffer.concat "\n"
@output_buffer.concat "</div>\n"
@output_buffer
          ensure
            self.output_buffer = old_output_buffer
          end
Backtrace: d:/haipeng/ror/finance/app/views/expense/edit.html.erb:30:in `compile!'
d:/Ruby/lib/ruby/gems/1.8/gems/actionpack-2.3.5/lib/action_view/renderable.rb:61:in `compile'
d:/Ruby/lib/ruby/gems/1.8/gems/actionpack-2.3.5/lib/action_view/renderable.rb:28:in `render'
d:/Ruby/lib/ruby/gems/1.8/gems/actionpack-2.3.5/lib/action_view/template.rb:205:in `render_template'
d:/Ruby/lib/ruby/gems/1.8/gems/actionpack-2.3.5/lib/action_view/base.rb:265:in `render'
d:/Ruby/lib/ruby/gems/1.8/gems/actionpack-2.3.5/lib/action_view/base.rb:348:in `_render_with_layout'
d:/Ruby/lib/ruby/gems/1.8/gems/actionpack-2.3.5/lib/action_view/base.rb:262:in `render'
d:/Ruby/lib/ruby/gems/1.8/gems/actionpack-2.3.5/lib/action_controller/base.rb:1250:in `render_for_file'
d:/Ruby/lib/ruby/gems/1.8/gems/actionpack-2.3.5/lib/action_controller/base.rb:945:in `render_without_benchmark'
d:/Ruby/lib/ruby/gems/1.8/gems/actionpack-2.3.5/lib/action_controller/benchmarking.rb:51:in `render'
d:/Ruby/lib/ruby/gems/1.8/gems/activesupport-2.3.5/lib/active_support/core_ext/benchmark.rb:17:in `ms'
d:/Ruby/lib/ruby/gems/1.8/gems/activesupport-2.3.5/lib/active_support/core_ext/benchmark.rb:10:in `realtime'
d:/Ruby/lib/ruby/gems/1.8/gems/activesupport-2.3.5/lib/active_support/core_ext/benchmark.rb:17:in `ms'
d:/Ruby/lib/ruby/gems/1.8/gems/actionpack-2.3.5/lib/action_controller/benchmarking.rb:51:in `render'
d:/Ruby/lib/ruby/gems/1.8/gems/actionpack-2.3.5/lib/action_controller/base.rb:1326:in `default_render'
d:/Ruby/lib/ruby/gems/1.8/gems/actionpack-2.3.5/lib/action_controller/base.rb:1332:in `perform_action_without_filters'
d:/Ruby/lib/ruby/gems/1.8/gems/actionpack-2.3.5/lib/action_controller/filters.rb:617:in `call_filters'
d:/Ruby/lib/ruby/gems/1.8/gems/actionpack-2.3.5/lib/action_controller/filters.rb:610:in `perform_action_without_benchmark'
d:/Ruby/lib/ruby/gems/1.8/gems/actionpack-2.3.5/lib/action_controller/benchmarking.rb:68:in `perform_action_without_rescue'
d:/Ruby/lib/ruby/gems/1.8/gems/activesupport-2.3.5/lib/active_support/core_ext/benchmark.rb:17:in `ms'
d:/Ruby/lib/ruby/gems/1.8/gems/activesupport-2.3.5/lib/active_support/core_ext/benchmark.rb:10:in `realtime'
d:/Ruby/lib/ruby/gems/1.8/gems/activesupport-2.3.5/lib/active_support/core_ext/benchmark.rb:17:in `ms'
d:/Ruby/lib/ruby/gems/1.8/gems/actionpack-2.3.5/lib/action_controller/benchmarking.rb:68:in `perform_action_without_rescue'
d:/Ruby/lib/ruby/gems/1.8/gems/actionpack-2.3.5/lib/action_controller/rescue.rb:160:in `perform_action_without_flash'
d:/Ruby/lib/ruby/gems/1.8/gems/actionpack-2.3.5/lib/action_controller/flash.rb:146:in `perform_action'
d:/Ruby/lib/ruby/gems/1.8/gems/actionpack-2.3.5/lib/action_controller/base.rb:532:in `send'
d:/Ruby/lib/ruby/gems/1.8/gems/actionpack-2.3.5/lib/action_controller/base.rb:532:in `process_without_filters'
d:/Ruby/lib/ruby/gems/1.8/gems/actionpack-2.3.5/lib/action_controller/filters.rb:606:in `process'
d:/Ruby/lib/ruby/gems/1.8/gems/actionpack-2.3.5/lib/action_controller/base.rb:391:in `process'
d:/Ruby/lib/ruby/gems/1.8/gems/actionpack-2.3.5/lib/action_controller/base.rb:386:in `call'
d:/Ruby/lib/ruby/gems/1.8/gems/actionpack-2.3.5/lib/action_controller/routing/route_set.rb:437:in `call'
d:/Ruby/lib/ruby/gems/1.8/gems/actionpack-2.3.5/lib/action_controller/dispatcher.rb:87:in `dispatch'
d:/Ruby/lib/ruby/gems/1.8/gems/actionpack-2.3.5/lib/action_controller/dispatcher.rb:121:in `_call'
d:/Ruby/lib/ruby/gems/1.8/gems/actionpack-2.3.5/lib/action_controller/dispatcher.rb:130:in `build_middleware_stack'
d:/Ruby/lib/ruby/gems/1.8/gems/activerecord-2.3.5/lib/active_record/query_cache.rb:29:in `call'
d:/Ruby/lib/ruby/gems/1.8/gems/activerecord-2.3.5/lib/active_record/query_cache.rb:29:in `call'
d:/Ruby/lib/ruby/gems/1.8/gems/activerecord-2.3.5/lib/active_record/connection_adapters/abstract/query_cache.rb:34:in `cache'
d:/Ruby/lib/ruby/gems/1.8/gems/activerecord-2.3.5/lib/active_record/query_cache.rb:9:in `cache'
d:/Ruby/lib/ruby/gems/1.8/gems/activerecord-2.3.5/lib/active_record/query_cache.rb:28:in `call'
d:/Ruby/lib/ruby/gems/1.8/gems/activerecord-2.3.5/lib/active_record/connection_adapters/abstract/connection_pool.rb:361:in `call'
d:/Ruby/lib/ruby/gems/1.8/gems/actionpack-2.3.5/lib/action_controller/string_coercion.rb:25:in `call'
d:/Ruby/lib/ruby/gems/1.8/gems/rack-1.0.1/lib/rack/head.rb:9:in `call'
d:/Ruby/lib/ruby/gems/1.8/gems/rack-1.0.1/lib/rack/methodoverride.rb:24:in `call'
d:/Ruby/lib/ruby/gems/1.8/gems/actionpack-2.3.5/lib/action_controller/params_parser.rb:15:in `call'
d:/Ruby/lib/ruby/gems/1.8/gems/actionpack-2.3.5/lib/action_controller/session/cookie_store.rb:93:in `call'
d:/Ruby/lib/ruby/gems/1.8/gems/actionpack-2.3.5/lib/action_controller/failsafe.rb:26:in `call'
d:/Ruby/lib/ruby/gems/1.8/gems/rack-1.0.1/lib/rack/lock.rb:11:in `call'
d:/Ruby/lib/ruby/gems/1.8/gems/rack-1.0.1/lib/rack/lock.rb:11:in `synchronize'
d:/Ruby/lib/ruby/gems/1.8/gems/rack-1.0.1/lib/rack/lock.rb:11:in `call'
d:/Ruby/lib/ruby/gems/1.8/gems/actionpack-2.3.5/lib/action_controller/dispatcher.rb:114:in `call'
d:/Ruby/lib/ruby/gems/1.8/gems/actionpack-2.3.5/lib/action_controller/reloader.rb:34:in `run'
d:/Ruby/lib/ruby/gems/1.8/gems/actionpack-2.3.5/lib/action_controller/dispatcher.rb:108:in `call'
d:/Ruby/lib/ruby/gems/1.8/gems/rails-2.3.5/lib/rails/rack/static.rb:31:in `call'
d:/Ruby/lib/ruby/gems/1.8/gems/rack-1.0.1/lib/rack/urlmap.rb:46:in `call'
d:/Ruby/lib/ruby/gems/1.8/gems/rack-1.0.1/lib/rack/urlmap.rb:40:in `each'
d:/Ruby/lib/ruby/gems/1.8/gems/rack-1.0.1/lib/rack/urlmap.rb:40:in `call'
d:/Ruby/lib/ruby/gems/1.8/gems/rails-2.3.5/lib/rails/rack/log_tailer.rb:17:in `call'
d:/Ruby/lib/ruby/gems/1.8/gems/rack-1.0.1/lib/rack/content_length.rb:13:in `call'
d:/Ruby/lib/ruby/gems/1.8/gems/rack-1.0.1/lib/rack/chunked.rb:15:in `call'
d:/Ruby/lib/ruby/gems/1.8/gems/rack-1.0.1/lib/rack/handler/mongrel.rb:64:in `process'
d:/Ruby/lib/ruby/gems/1.8/gems/mongrel-1.1.5-x86-mswin32-60/lib/mongrel.rb:159:in `process_client'
d:/Ruby/lib/ruby/gems/1.8/gems/mongrel-1.1.5-x86-mswin32-60/lib/mongrel.rb:158:in `each'
d:/Ruby/lib/ruby/gems/1.8/gems/mongrel-1.1.5-x86-mswin32-60/lib/mongrel.rb:158:in `process_client'
d:/Ruby/lib/ruby/gems/1.8/gems/mongrel-1.1.5-x86-mswin32-60/lib/mongrel.rb:285:in `run'
d:/Ruby/lib/ruby/gems/1.8/gems/mongrel-1.1.5-x86-mswin32-60/lib/mongrel.rb:285:in `initialize'
d:/Ruby/lib/ruby/gems/1.8/gems/mongrel-1.1.5-x86-mswin32-60/lib/mongrel.rb:285:in `new'
d:/Ruby/lib/ruby/gems/1.8/gems/mongrel-1.1.5-x86-mswin32-60/lib/mongrel.rb:285:in `run'
d:/Ruby/lib/ruby/gems/1.8/gems/mongrel-1.1.5-x86-mswin32-60/lib/mongrel.rb:268:in `initialize'
d:/Ruby/lib/ruby/gems/1.8/gems/mongrel-1.1.5-x86-mswin32-60/lib/mongrel.rb:268:in `new'
d:/Ruby/lib/ruby/gems/1.8/gems/mongrel-1.1.5-x86-mswin32-60/lib/mongrel.rb:268:in `run'
d:/Ruby/lib/ruby/gems/1.8/gems/rack-1.0.1/lib/rack/handler/mongrel.rb:34:in `run'
d:/Ruby/lib/ruby/gems/1.8/gems/rails-2.3.5/lib/commands/server.rb:111
d:/Ruby/lib/ruby/site_ruby/1.8/rubygems/custom_require.rb:31:in `gem_original_require'
d:/Ruby/lib/ruby/site_ruby/1.8/rubygems/custom_require.rb:31:in `require'
script/server:3

ActionView::TemplateError (compile error
d:/haipeng/ror/finance/app/views/expense/edit.html.erb:3: syntax error, unexpected ':', expecting ')'
...er.concat(( link_to "取消" :action => 'index' ).to_s); @ou...
                              ^) on line #3 of app/views/expense/edit.html.erb:
1: <div>
2:   <h2>编辑消费记录</h2>
3:   <%= link_to "取消" :action => 'index' %>
4:   <% form_for @expense_item, :url => { :action => :update, :id => @expense_item} do |form| %>
5:     <p>
6:       <label for="date">日期</label><br/>

    app/views/expense/edit.html.erb:30:in `compile!'

Rendered rescues/_trace (115.0ms)
Rendered rescues/_request_and_response (0.0ms)
Rendering rescues/layout (internal_server_error)
  [4;35;1mSQL (0.0ms)[0m   [0mSET NAMES 'utf8'[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mSET SQL_AUTO_IS_NULL=0[0m


Processing ExpenseController#index (for 127.0.0.1 at 2010-04-26 23:24:28) [GET]
  [4;35;1mExpenseItem Load (2.0ms)[0m   [0mSELECT * FROM `expense_items` WHERE (date BETWEEN '2010-04-01' and '2010-04-30') [0m
Rendering template within layouts/expense
Rendering expense/index
  [4;36;1mExpenseItem Columns (9.0ms)[0m   [0;1mSHOW FIELDS FROM `expense_items`[0m
  [4;35;1mExpenseType Columns (7.0ms)[0m   [0mSHOW FIELDS FROM `expense_types`[0m
  [4;36;1mExpenseType Load (10.0ms)[0m   [0;1mSELECT * FROM `expense_types` WHERE (`expense_types`.`id` = 2) [0m
  [4;35;1mExpenseType Load (0.0ms)[0m   [0mSELECT * FROM `expense_types` WHERE (`expense_types`.`id` = 1) [0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT * FROM `expense_types` WHERE (`expense_types`.`id` = 2) [0m
Completed in 109ms (View: 58, DB: 28) | 200 OK [http://localhost/expense]
  [4;35;1mSQL (0.0ms)[0m   [0mSET NAMES 'utf8'[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mSET SQL_AUTO_IS_NULL=0[0m


Processing ExpenseController#edit (for 127.0.0.1 at 2010-04-26 23:24:30) [GET]
  Parameters: {"id"=>"7"}
  [4;35;1mExpenseItem Columns (8.0ms)[0m   [0mSHOW FIELDS FROM `expense_items`[0m
  [4;36;1mExpenseItem Load (10.0ms)[0m   [0;1mSELECT * FROM `expense_items` WHERE (`expense_items`.`id` = 7) [0m
  [4;35;1mExpenseType Load (1.0ms)[0m   [0mSELECT * FROM `expense_types` [0m
  [4;36;1mExpenseType Columns (7.0ms)[0m   [0;1mSHOW FIELDS FROM `expense_types`[0m
Rendering template within layouts/expense
Rendering expense/edit
Completed in 92ms (View: 29, DB: 26) | 200 OK [http://localhost/expense/edit/7]
  [4;35;1mSQL (0.0ms)[0m   [0mSET NAMES 'utf8'[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mSET SQL_AUTO_IS_NULL=0[0m


Processing ExpenseController#index (for 127.0.0.1 at 2010-04-26 23:24:33) [GET]
  [4;35;1mExpenseItem Load (1.0ms)[0m   [0mSELECT * FROM `expense_items` WHERE (date BETWEEN '2010-04-01' and '2010-04-30') [0m
Rendering template within layouts/expense
Rendering expense/index
  [4;36;1mExpenseItem Columns (8.0ms)[0m   [0;1mSHOW FIELDS FROM `expense_items`[0m
  [4;35;1mExpenseType Columns (7.0ms)[0m   [0mSHOW FIELDS FROM `expense_types`[0m
  [4;36;1mExpenseType Load (9.0ms)[0m   [0;1mSELECT * FROM `expense_types` WHERE (`expense_types`.`id` = 2) [0m
  [4;35;1mExpenseType Load (0.0ms)[0m   [0mSELECT * FROM `expense_types` WHERE (`expense_types`.`id` = 1) [0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT * FROM `expense_types` WHERE (`expense_types`.`id` = 2) [0m
Completed in 107ms (View: 53, DB: 25) | 200 OK [http://localhost/expense]
  [4;35;1mSQL (1.0ms)[0m   [0mSET NAMES 'utf8'[0m
  [4;36;1mSQL (1.0ms)[0m   [0;1mSET SQL_AUTO_IS_NULL=0[0m


Processing ExpenseController#index (for 127.0.0.1 at 2010-04-26 23:36:04) [GET]
  [4;35;1mExpenseItem Load (2.0ms)[0m   [0mSELECT * FROM `expense_items` WHERE (date BETWEEN '2010-04-01' and '2010-04-30') [0m
Rendering template within layouts/expense
Rendering expense/index
  [4;36;1mExpenseItem Columns (9.0ms)[0m   [0;1mSHOW FIELDS FROM `expense_items`[0m
  [4;35;1mExpenseType Columns (9.0ms)[0m   [0mSHOW FIELDS FROM `expense_types`[0m
  [4;36;1mExpenseType Load (9.0ms)[0m   [0;1mSELECT * FROM `expense_types` WHERE (`expense_types`.`id` = 2) [0m
  [4;35;1mExpenseType Load (2.0ms)[0m   [0mSELECT * FROM `expense_types` WHERE (`expense_types`.`id` = 1) [0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT * FROM `expense_types` WHERE (`expense_types`.`id` = 2) [0m
Completed in 16486ms (View: 16437, DB: 33) | 200 OK [http://localhost/expense]
  [4;35;1mSQL (0.0ms)[0m   [0mSET NAMES 'utf8'[0m
  [4;36;1mSQL (1.0ms)[0m   [0;1mSET SQL_AUTO_IS_NULL=0[0m


Processing ExpenseController#index (for 127.0.0.1 at 2010-04-26 23:36:28) [GET]
  Parameters: {"month"=>"5", "year"=>"2010"}
  [4;35;1mExpenseItem Load (1.0ms)[0m   [0mSELECT * FROM `expense_items` WHERE (date BETWEEN '2010-05-01' and '2010-05-31') [0m
Rendering template within layouts/expense
Rendering expense/index
Completed in 25ms (View: 6, DB: 2) | 200 OK [http://localhost/expense/2010/5]
  [4;36;1mSQL (0.0ms)[0m   [0;1mSET NAMES 'utf8'[0m
  [4;35;1mSQL (1.0ms)[0m   [0mSET SQL_AUTO_IS_NULL=0[0m


Processing ExpenseController#index (for 127.0.0.1 at 2010-04-26 23:36:31) [GET]
  Parameters: {"month"=>"4", "year"=>"2010"}
  [4;36;1mExpenseItem Load (1.0ms)[0m   [0;1mSELECT * FROM `expense_items` WHERE (date BETWEEN '2010-04-01' and '2010-04-30') [0m
Rendering template within layouts/expense
Rendering expense/index
  [4;35;1mExpenseItem Columns (9.0ms)[0m   [0mSHOW FIELDS FROM `expense_items`[0m
  [4;36;1mExpenseType Columns (6.0ms)[0m   [0;1mSHOW FIELDS FROM `expense_types`[0m
  [4;35;1mExpenseType Load (10.0ms)[0m   [0mSELECT * FROM `expense_types` WHERE (`expense_types`.`id` = 2) [0m
  [4;36;1mExpenseType Load (1.0ms)[0m   [0;1mSELECT * FROM `expense_types` WHERE (`expense_types`.`id` = 1) [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM `expense_types` WHERE (`expense_types`.`id` = 2) [0m
Completed in 94ms (View: 50, DB: 28) | 200 OK [http://localhost/expense/2010/4]
  [4;36;1mSQL (0.0ms)[0m   [0;1mSET NAMES 'utf8'[0m
  [4;35;1mSQL (0.0ms)[0m   [0mSET SQL_AUTO_IS_NULL=0[0m


Processing ExpenseController#index (for 127.0.0.1 at 2010-04-26 23:36:33) [GET]
  Parameters: {"month"=>"3", "year"=>"2010"}
  [4;36;1mExpenseItem Load (1.0ms)[0m   [0;1mSELECT * FROM `expense_items` WHERE (date BETWEEN '2010-03-01' and '2010-03-31') [0m
Rendering template within layouts/expense
Rendering expense/index
  [4;35;1mExpenseItem Columns (8.0ms)[0m   [0mSHOW FIELDS FROM `expense_items`[0m
  [4;36;1mExpenseType Columns (7.0ms)[0m   [0;1mSHOW FIELDS FROM `expense_types`[0m
  [4;35;1mExpenseType Load (8.0ms)[0m   [0mSELECT * FROM `expense_types` WHERE (`expense_types`.`id` = 1) [0m
  [4;36;1mExpenseType Load (1.0ms)[0m   [0;1mSELECT * FROM `expense_types` WHERE (`expense_types`.`id` = 2) [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM `expense_types` WHERE (`expense_types`.`id` = 1) [0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT * FROM `expense_types` WHERE (`expense_types`.`id` = 1) [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM `expense_types` WHERE (`expense_types`.`id` = 1) [0m
Completed in 195ms (View: 152, DB: 25) | 200 OK [http://localhost/expense/2010/3]
  [4;36;1mSQL (0.0ms)[0m   [0;1mSET NAMES 'utf8'[0m
  [4;35;1mSQL (0.0ms)[0m   [0mSET SQL_AUTO_IS_NULL=0[0m


Processing ExpenseController#new (for 127.0.0.1 at 2010-04-26 23:36:36) [GET]
  [4;36;1mExpenseType Load (1.0ms)[0m   [0;1mSELECT * FROM `expense_types` [0m
  [4;35;1mExpenseType Columns (8.0ms)[0m   [0mSHOW FIELDS FROM `expense_types`[0m
Rendering template within layouts/expense
Rendering expense/new
Completed in 39ms (View: 11, DB: 9) | 200 OK [http://localhost/expense/new]
  [4;36;1mSQL (0.0ms)[0m   [0;1mSET NAMES 'utf8'[0m
  [4;35;1mSQL (1.0ms)[0m   [0mSET SQL_AUTO_IS_NULL=0[0m


Processing ExpenseController#create (for 127.0.0.1 at 2010-04-26 23:37:01) [POST]
  Parameters: {"commit"=>"Save changes", "authenticity_token"=>"3iAMABe1mpXz0KytN5VYmJ6vKvFfGsWQxjnmAEVKy+8=", "expense_item"=>{"date"=>"2010-2-1", "value"=>"23.3", "note"=>"eat", "expense_type_id"=>"2"}}
  [4;36;1mExpenseItem Columns (8.0ms)[0m   [0;1mSHOW FIELDS FROM `expense_items`[0m
  [4;35;1mSQL (2.0ms)[0m   [0mBEGIN[0m
  [4;36;1mExpenseItem Create (2.0ms)[0m   [0;1mINSERT INTO `expense_items` (`updated_at`, `date`, `value`, `expense_type_id`, `note`, `created_at`) VALUES('2010-04-26 15:37:01', '2010-02-01', 23.3, 2, 'eat', '2010-04-26 15:37:01')[0m
  [4;35;1mSQL (120.0ms)[0m   [0mCOMMIT[0m
Redirected to http://localhost:3000/expense/2010/2
Completed in 174ms (DB: 133) | 302 Found [http://localhost/expense/create]
  [4;36;1mSQL (2.0ms)[0m   [0;1mSET NAMES 'utf8'[0m
  [4;35;1mSQL (1.0ms)[0m   [0mSET SQL_AUTO_IS_NULL=0[0m


Processing ExpenseController#index (for 127.0.0.1 at 2010-04-26 23:37:02) [GET]
  Parameters: {"month"=>"2", "year"=>"2010"}
  [4;36;1mExpenseItem Load (1.0ms)[0m   [0;1mSELECT * FROM `expense_items` WHERE (date BETWEEN '2010-02-01' and '2010-02-28') [0m
Rendering template within layouts/expense
Rendering expense/index
  [4;35;1mExpenseItem Columns (8.0ms)[0m   [0mSHOW FIELDS FROM `expense_items`[0m
  [4;36;1mExpenseType Columns (7.0ms)[0m   [0;1mSHOW FIELDS FROM `expense_types`[0m
  [4;35;1mExpenseType Load (10.0ms)[0m   [0mSELECT * FROM `expense_types` WHERE (`expense_types`.`id` = 2) [0m
Completed in 90ms (View: 44, DB: 29) | 200 OK [http://localhost/expense/2010/2]
  [4;36;1mSQL (0.0ms)[0m   [0;1mSET NAMES 'utf8'[0m
  [4;35;1mSQL (1.0ms)[0m   [0mSET SQL_AUTO_IS_NULL=0[0m


Processing ExpenseController#index (for 127.0.0.1 at 2010-04-26 23:37:11) [GET]
  Parameters: {"month"=>"3", "year"=>"2010"}
  [4;36;1mExpenseItem Load (1.0ms)[0m   [0;1mSELECT * FROM `expense_items` WHERE (date BETWEEN '2010-03-01' and '2010-03-31') [0m
Rendering template within layouts/expense
Rendering expense/index
  [4;35;1mExpenseItem Columns (8.0ms)[0m   [0mSHOW FIELDS FROM `expense_items`[0m
  [4;36;1mExpenseType Columns (7.0ms)[0m   [0;1mSHOW FIELDS FROM `expense_types`[0m
  [4;35;1mExpenseType Load (10.0ms)[0m   [0mSELECT * FROM `expense_types` WHERE (`expense_types`.`id` = 1) [0m
  [4;36;1mExpenseType Load (0.0ms)[0m   [0;1mSELECT * FROM `expense_types` WHERE (`expense_types`.`id` = 2) [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM `expense_types` WHERE (`expense_types`.`id` = 1) [0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT * FROM `expense_types` WHERE (`expense_types`.`id` = 1) [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM `expense_types` WHERE (`expense_types`.`id` = 1) [0m
Completed in 116ms (View: 71, DB: 27) | 200 OK [http://localhost/expense/2010/3]
  [4;36;1mSQL (1.0ms)[0m   [0;1mSET NAMES 'utf8'[0m
  [4;35;1mSQL (1.0ms)[0m   [0mSET SQL_AUTO_IS_NULL=0[0m


Processing ExpenseController#index (for 127.0.0.1 at 2010-04-26 23:37:14) [GET]
  Parameters: {"month"=>"2", "year"=>"2010"}
  [4;36;1mExpenseItem Load (1.0ms)[0m   [0;1mSELECT * FROM `expense_items` WHERE (date BETWEEN '2010-02-01' and '2010-02-28') [0m
Rendering template within layouts/expense
Rendering expense/index
  [4;35;1mExpenseItem Columns (10.0ms)[0m   [0mSHOW FIELDS FROM `expense_items`[0m
  [4;36;1mExpenseType Columns (20.0ms)[0m   [0;1mSHOW FIELDS FROM `expense_types`[0m
  [4;35;1mExpenseType Load (11.0ms)[0m   [0mSELECT * FROM `expense_types` WHERE (`expense_types`.`id` = 2) [0m
Completed in 105ms (View: 44, DB: 44) | 200 OK [http://localhost/expense/2010/2]
  [4;36;1mSQL (0.0ms)[0m   [0;1mSET NAMES 'utf8'[0m
  [4;35;1mSQL (0.0ms)[0m   [0mSET SQL_AUTO_IS_NULL=0[0m


Processing ExpenseController#edit (for 127.0.0.1 at 2010-04-26 23:37:18) [GET]
  Parameters: {"id"=>"11"}
  [4;36;1mExpenseItem Columns (8.0ms)[0m   [0;1mSHOW FIELDS FROM `expense_items`[0m
  [4;35;1mExpenseItem Load (11.0ms)[0m   [0mSELECT * FROM `expense_items` WHERE (`expense_items`.`id` = 11) [0m
  [4;36;1mExpenseType Load (2.0ms)[0m   [0;1mSELECT * FROM `expense_types` [0m
  [4;35;1mExpenseType Columns (6.0ms)[0m   [0mSHOW FIELDS FROM `expense_types`[0m
Rendering template within layouts/expense
Rendering expense/edit
Completed in 75ms (View: 16, DB: 27) | 200 OK [http://localhost/expense/edit/11]
  [4;36;1mSQL (1.0ms)[0m   [0;1mSET NAMES 'utf8'[0m
  [4;35;1mSQL (0.0ms)[0m   [0mSET SQL_AUTO_IS_NULL=0[0m


Processing ExpenseController#index (for 127.0.0.1 at 2010-04-26 23:37:21) [GET]
  [4;36;1mExpenseItem Load (1.0ms)[0m   [0;1mSELECT * FROM `expense_items` WHERE (date BETWEEN '2010-04-01' and '2010-04-30') [0m
Rendering template within layouts/expense
Rendering expense/index
  [4;35;1mExpenseItem Columns (9.0ms)[0m   [0mSHOW FIELDS FROM `expense_items`[0m
  [4;36;1mExpenseType Columns (7.0ms)[0m   [0;1mSHOW FIELDS FROM `expense_types`[0m
  [4;35;1mExpenseType Load (9.0ms)[0m   [0mSELECT * FROM `expense_types` WHERE (`expense_types`.`id` = 2) [0m
  [4;36;1mExpenseType Load (1.0ms)[0m   [0;1mSELECT * FROM `expense_types` WHERE (`expense_types`.`id` = 1) [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM `expense_types` WHERE (`expense_types`.`id` = 2) [0m
Completed in 99ms (View: 54, DB: 28) | 200 OK [http://localhost/expense]
  [4;36;1mSQL (0.0ms)[0m   [0;1mSET NAMES 'utf8'[0m
  [4;35;1mSQL (1.0ms)[0m   [0mSET SQL_AUTO_IS_NULL=0[0m


Processing ExpenseController#new (for 127.0.0.1 at 2010-04-26 23:37:40) [GET]
  [4;36;1mExpenseType Load (1.0ms)[0m   [0;1mSELECT * FROM `expense_types` [0m
  [4;35;1mExpenseType Columns (8.0ms)[0m   [0mSHOW FIELDS FROM `expense_types`[0m
Rendering template within layouts/expense
Rendering expense/new
Completed in 37ms (View: 11, DB: 10) | 200 OK [http://localhost/expense/new]
  [4;36;1mSQL (0.0ms)[0m   [0;1mSET NAMES 'utf8'[0m
  [4;35;1mSQL (0.0ms)[0m   [0mSET SQL_AUTO_IS_NULL=0[0m


Processing ExpenseController#create (for 127.0.0.1 at 2010-04-26 23:37:57) [POST]
  Parameters: {"commit"=>"Save changes", "authenticity_token"=>"3iAMABe1mpXz0KytN5VYmJ6vKvFfGsWQxjnmAEVKy+8=", "expense_item"=>{"date"=>"2010-3-20", "value"=>"19", "note"=>"taxi haha", "expense_type_id"=>"1"}}
  [4;36;1mExpenseItem Columns (8.0ms)[0m   [0;1mSHOW FIELDS FROM `expense_items`[0m
  [4;35;1mSQL (4.0ms)[0m   [0mBEGIN[0m
  [4;36;1mExpenseItem Create (0.0ms)[0m   [0;1mINSERT INTO `expense_items` (`updated_at`, `date`, `value`, `expense_type_id`, `note`, `created_at`) VALUES('2010-04-26 15:37:57', '2010-03-20', 19.0, 1, 'taxi haha', '2010-04-26 15:37:57')[0m
  [4;35;1mSQL (74.0ms)[0m   [0mCOMMIT[0m
Redirected to http://localhost:3000/expense/2010/3
Completed in 120ms (DB: 86) | 302 Found [http://localhost/expense/create]
  [4;36;1mSQL (0.0ms)[0m   [0;1mSET NAMES 'utf8'[0m
  [4;35;1mSQL (0.0ms)[0m   [0mSET SQL_AUTO_IS_NULL=0[0m


Processing ExpenseController#index (for 127.0.0.1 at 2010-04-26 23:37:58) [GET]
  Parameters: {"month"=>"3", "year"=>"2010"}
  [4;36;1mExpenseItem Load (1.0ms)[0m   [0;1mSELECT * FROM `expense_items` WHERE (date BETWEEN '2010-03-01' and '2010-03-31') [0m
Rendering template within layouts/expense
Rendering expense/index
  [4;35;1mExpenseItem Columns (9.0ms)[0m   [0mSHOW FIELDS FROM `expense_items`[0m
  [4;36;1mExpenseType Columns (8.0ms)[0m   [0;1mSHOW FIELDS FROM `expense_types`[0m
  [4;35;1mExpenseType Load (9.0ms)[0m   [0mSELECT * FROM `expense_types` WHERE (`expense_types`.`id` = 1) [0m
  [4;36;1mExpenseType Load (3.0ms)[0m   [0;1mSELECT * FROM `expense_types` WHERE (`expense_types`.`id` = 2) [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM `expense_types` WHERE (`expense_types`.`id` = 1) [0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT * FROM `expense_types` WHERE (`expense_types`.`id` = 1) [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM `expense_types` WHERE (`expense_types`.`id` = 1) [0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT * FROM `expense_types` WHERE (`expense_types`.`id` = 1) [0m
Completed in 124ms (View: 77, DB: 30) | 200 OK [http://localhost/expense/2010/3]
  [4;35;1mSQL (1.0ms)[0m   [0mSET NAMES 'utf8'[0m
  [4;36;1mSQL (1.0ms)[0m   [0;1mSET SQL_AUTO_IS_NULL=0[0m


Processing ExpenseController#edit (for 127.0.0.1 at 2010-04-26 23:44:56) [GET]
  Parameters: {"id"=>"1"}
  [4;35;1mExpenseItem Columns (9.0ms)[0m   [0mSHOW FIELDS FROM `expense_items`[0m
  [4;36;1mExpenseItem Load (10.0ms)[0m   [0;1mSELECT * FROM `expense_items` WHERE (`expense_items`.`id` = 1) [0m
  [4;35;1mExpenseType Load (1.0ms)[0m   [0mSELECT * FROM `expense_types` [0m
  [4;36;1mExpenseType Columns (6.0ms)[0m   [0;1mSHOW FIELDS FROM `expense_types`[0m
Rendering template within layouts/expense
Rendering expense/edit
Completed in 75ms (View: 15, DB: 28) | 200 OK [http://localhost/expense/edit/1]
  [4;35;1mSQL (0.0ms)[0m   [0mSET NAMES 'utf8'[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mSET SQL_AUTO_IS_NULL=0[0m


Processing ExpenseController#update (for 127.0.0.1 at 2010-04-26 23:45:02) [PUT]
  Parameters: {"commit"=>"Save changes", "authenticity_token"=>"3iAMABe1mpXz0KytN5VYmJ6vKvFfGsWQxjnmAEVKy+8=", "id"=>"1", "expense_item"=>{"date"=>"2010-03-22", "value"=>"22", "note"=>"出去吃饭", "expense_type_id"=>"1"}}

ActionView::MissingTemplate (Missing template expense/update.erb in view path app/views):
  

Rendering rescues/layout (internal_server_error)
  [4;35;1mSQL (0.0ms)[0m   [0mSET NAMES 'utf8'[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mSET SQL_AUTO_IS_NULL=0[0m


Processing ExpenseController#index (for 127.0.0.1 at 2010-04-26 23:46:07) [GET]
  Parameters: {"month"=>"3", "year"=>"2010"}
  [4;35;1mExpenseItem Load (1.0ms)[0m   [0mSELECT * FROM `expense_items` WHERE (date BETWEEN '2010-03-01' and '2010-03-31') [0m
Rendering template within layouts/expense
Rendering expense/index
  [4;36;1mExpenseItem Columns (9.0ms)[0m   [0;1mSHOW FIELDS FROM `expense_items`[0m
  [4;35;1mExpenseType Columns (8.0ms)[0m   [0mSHOW FIELDS FROM `expense_types`[0m
  [4;36;1mExpenseType Load (8.0ms)[0m   [0;1mSELECT * FROM `expense_types` WHERE (`expense_types`.`id` = 1) [0m
  [4;35;1mExpenseType Load (1.0ms)[0m   [0mSELECT * FROM `expense_types` WHERE (`expense_types`.`id` = 2) [0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT * FROM `expense_types` WHERE (`expense_types`.`id` = 1) [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM `expense_types` WHERE (`expense_types`.`id` = 1) [0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT * FROM `expense_types` WHERE (`expense_types`.`id` = 1) [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM `expense_types` WHERE (`expense_types`.`id` = 1) [0m
Completed in 164ms (View: 116, DB: 27) | 200 OK [http://localhost/expense/2010/3]
  [4;36;1mSQL (0.0ms)[0m   [0;1mSET NAMES 'utf8'[0m
  [4;35;1mSQL (0.0ms)[0m   [0mSET SQL_AUTO_IS_NULL=0[0m


Processing ExpenseController#edit (for 127.0.0.1 at 2010-04-26 23:46:10) [PUT]
  Parameters: {"authenticity_token"=>"3iAMABe1mpXz0KytN5VYmJ6vKvFfGsWQxjnmAEVKy+8=", "id"=>"1"}
  [4;36;1mExpenseItem Columns (8.0ms)[0m   [0;1mSHOW FIELDS FROM `expense_items`[0m
  [4;35;1mExpenseItem Load (11.0ms)[0m   [0mSELECT * FROM `expense_items` WHERE (`expense_items`.`id` = 1) [0m
  [4;36;1mExpenseType Load (1.0ms)[0m   [0;1mSELECT * FROM `expense_types` [0m
  [4;35;1mExpenseType Columns (7.0ms)[0m   [0mSHOW FIELDS FROM `expense_types`[0m
Rendering template within layouts/expense
Rendering expense/edit
Completed in 161ms (View: 18, DB: 27) | 200 OK [http://localhost/expense/edit/1]
  [4;36;1mSQL (1.0ms)[0m   [0;1mSET NAMES 'utf8'[0m
  [4;35;1mSQL (1.0ms)[0m   [0mSET SQL_AUTO_IS_NULL=0[0m


Processing ExpenseController#edit (for 127.0.0.1 at 2010-04-26 23:46:16) [PUT]
  Parameters: {"authenticity_token"=>"3iAMABe1mpXz0KytN5VYmJ6vKvFfGsWQxjnmAEVKy+8=", "id"=>"1"}
  [4;36;1mExpenseItem Columns (11.0ms)[0m   [0;1mSHOW FIELDS FROM `expense_items`[0m
  [4;35;1mExpenseItem Load (9.0ms)[0m   [0mSELECT * FROM `expense_items` WHERE (`expense_items`.`id` = 1) [0m
  [4;36;1mExpenseType Load (0.0ms)[0m   [0;1mSELECT * FROM `expense_types` [0m
  [4;35;1mExpenseType Columns (7.0ms)[0m   [0mSHOW FIELDS FROM `expense_types`[0m
Rendering template within layouts/expense
Rendering expense/edit
Completed in 78ms (View: 16, DB: 29) | 200 OK [http://localhost/expense/edit/1]
  [4;36;1mSQL (1.0ms)[0m   [0;1mSET NAMES 'utf8'[0m
  [4;35;1mSQL (0.0ms)[0m   [0mSET SQL_AUTO_IS_NULL=0[0m


Processing ExpenseController#update (for 127.0.0.1 at 2010-04-26 23:46:22) [PUT]
  Parameters: {"commit"=>"Save changes", "authenticity_token"=>"3iAMABe1mpXz0KytN5VYmJ6vKvFfGsWQxjnmAEVKy+8=", "id"=>"1", "expense_item"=>{"date"=>"2010-03-22", "value"=>"22", "note"=>"出去吃饭", "expense_type_id"=>"1"}}
  [4;36;1mExpenseItem Columns (8.0ms)[0m   [0;1mSHOW FIELDS FROM `expense_items`[0m
  [4;35;1mExpenseItem Load (10.0ms)[0m   [0mSELECT * FROM `expense_items` WHERE (`expense_items`.`id` = 1) [0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mBEGIN[0m
  [4;35;1mExpenseItem Update (46.0ms)[0m   [0mUPDATE `expense_items` SET `value` = 22.0, `updated_at` = '2010-04-26 15:46:22' WHERE `id` = 1[0m
  [4;36;1mSQL (48.0ms)[0m   [0;1mCOMMIT[0m
Redirected to http://localhost:3000/expense/2010/3
Completed in 143ms (DB: 113) | 302 Found [http://localhost/expense/update/1]
  [4;35;1mSQL (1.0ms)[0m   [0mSET NAMES 'utf8'[0m
  [4;36;1mSQL (1.0ms)[0m   [0;1mSET SQL_AUTO_IS_NULL=0[0m


Processing ExpenseController#index (for 127.0.0.1 at 2010-04-26 23:46:23) [GET]
  Parameters: {"month"=>"3", "year"=>"2010"}
  [4;35;1mExpenseItem Load (1.0ms)[0m   [0mSELECT * FROM `expense_items` WHERE (date BETWEEN '2010-03-01' and '2010-03-31') [0m
Rendering template within layouts/expense
Rendering expense/index
  [4;36;1mExpenseItem Columns (8.0ms)[0m   [0;1mSHOW FIELDS FROM `expense_items`[0m
  [4;35;1mExpenseType Columns (6.0ms)[0m   [0mSHOW FIELDS FROM `expense_types`[0m
  [4;36;1mExpenseType Load (8.0ms)[0m   [0;1mSELECT * FROM `expense_types` WHERE (`expense_types`.`id` = 1) [0m
  [4;35;1mExpenseType Load (0.0ms)[0m   [0mSELECT * FROM `expense_types` WHERE (`expense_types`.`id` = 2) [0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT * FROM `expense_types` WHERE (`expense_types`.`id` = 1) [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM `expense_types` WHERE (`expense_types`.`id` = 1) [0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT * FROM `expense_types` WHERE (`expense_types`.`id` = 1) [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM `expense_types` WHERE (`expense_types`.`id` = 1) [0m
Completed in 152ms (View: 111, DB: 25) | 200 OK [http://localhost/expense/2010/3]
  [4;36;1mSQL (1.0ms)[0m   [0;1mSET NAMES 'utf8'[0m
  [4;35;1mSQL (0.0ms)[0m   [0mSET SQL_AUTO_IS_NULL=0[0m


Processing ExpenseController#index (for 127.0.0.1 at 2010-04-26 23:46:36) [GET]
  Parameters: {"month"=>"3", "year"=>"2010"}
  [4;36;1mExpenseItem Load (1.0ms)[0m   [0;1mSELECT * FROM `expense_items` WHERE (date BETWEEN '2010-03-01' and '2010-03-31') [0m
Rendering template within layouts/expense
Rendering expense/index
  [4;35;1mExpenseItem Columns (9.0ms)[0m   [0mSHOW FIELDS FROM `expense_items`[0m
  [4;36;1mExpenseType Columns (6.0ms)[0m   [0;1mSHOW FIELDS FROM `expense_types`[0m
  [4;35;1mExpenseType Load (10.0ms)[0m   [0mSELECT * FROM `expense_types` WHERE (`expense_types`.`id` = 1) [0m
  [4;36;1mExpenseType Load (2.0ms)[0m   [0;1mSELECT * FROM `expense_types` WHERE (`expense_types`.`id` = 2) [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM `expense_types` WHERE (`expense_types`.`id` = 1) [0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT * FROM `expense_types` WHERE (`expense_types`.`id` = 1) [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM `expense_types` WHERE (`expense_types`.`id` = 1) [0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT * FROM `expense_types` WHERE (`expense_types`.`id` = 1) [0m
Completed in 152ms (View: 105, DB: 29) | 200 OK [http://localhost/expense/2010/3]
  [4;35;1mSQL (0.0ms)[0m   [0mSET NAMES 'utf8'[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mSET SQL_AUTO_IS_NULL=0[0m


Processing ExpenseController#edit (for 127.0.0.1 at 2010-04-26 23:46:40) [PUT]
  Parameters: {"authenticity_token"=>"3iAMABe1mpXz0KytN5VYmJ6vKvFfGsWQxjnmAEVKy+8=", "id"=>"4"}
  [4;35;1mExpenseItem Columns (8.0ms)[0m   [0mSHOW FIELDS FROM `expense_items`[0m
  [4;36;1mExpenseItem Load (10.0ms)[0m   [0;1mSELECT * FROM `expense_items` WHERE (`expense_items`.`id` = 4) [0m
  [4;35;1mExpenseType Load (0.0ms)[0m   [0mSELECT * FROM `expense_types` [0m
  [4;36;1mExpenseType Columns (7.0ms)[0m   [0;1mSHOW FIELDS FROM `expense_types`[0m
Rendering template within layouts/expense
Rendering expense/edit
Completed in 78ms (View: 16, DB: 25) | 200 OK [http://localhost/expense/edit/4]
  [4;35;1mSQL (1.0ms)[0m   [0mSET NAMES 'utf8'[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mSET SQL_AUTO_IS_NULL=0[0m


Processing ExpenseController#update (for 127.0.0.1 at 2010-04-26 23:46:47) [PUT]
  Parameters: {"commit"=>"Save changes", "authenticity_token"=>"3iAMABe1mpXz0KytN5VYmJ6vKvFfGsWQxjnmAEVKy+8=", "id"=>"4", "expense_item"=>{"date"=>"2010-03-02", "value"=>"25", "note"=>"aaaa", "expense_type_id"=>"2"}}
  [4;35;1mExpenseItem Columns (9.0ms)[0m   [0mSHOW FIELDS FROM `expense_items`[0m
  [4;36;1mExpenseItem Load (13.0ms)[0m   [0;1mSELECT * FROM `expense_items` WHERE (`expense_items`.`id` = 4) [0m
  [4;35;1mSQL (0.0ms)[0m   [0mBEGIN[0m
  [4;36;1mExpenseItem Update (1.0ms)[0m   [0;1mUPDATE `expense_items` SET `value` = 25.0, `updated_at` = '2010-04-26 15:46:47' WHERE `id` = 4[0m
  [4;35;1mSQL (107.0ms)[0m   [0mCOMMIT[0m
Redirected to http://localhost:3000/expense/2010/3
Completed in 158ms (DB: 131) | 302 Found [http://localhost/expense/update/4]
  [4;36;1mSQL (0.0ms)[0m   [0;1mSET NAMES 'utf8'[0m
  [4;35;1mSQL (0.0ms)[0m   [0mSET SQL_AUTO_IS_NULL=0[0m


Processing ExpenseController#index (for 127.0.0.1 at 2010-04-26 23:46:48) [GET]
  Parameters: {"month"=>"3", "year"=>"2010"}
  [4;36;1mExpenseItem Load (1.0ms)[0m   [0;1mSELECT * FROM `expense_items` WHERE (date BETWEEN '2010-03-01' and '2010-03-31') [0m
Rendering template within layouts/expense
Rendering expense/index
  [4;35;1mExpenseItem Columns (8.0ms)[0m   [0mSHOW FIELDS FROM `expense_items`[0m
  [4;36;1mExpenseType Columns (7.0ms)[0m   [0;1mSHOW FIELDS FROM `expense_types`[0m
  [4;35;1mExpenseType Load (8.0ms)[0m   [0mSELECT * FROM `expense_types` WHERE (`expense_types`.`id` = 1) [0m
  [4;36;1mExpenseType Load (1.0ms)[0m   [0;1mSELECT * FROM `expense_types` WHERE (`expense_types`.`id` = 2) [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM `expense_types` WHERE (`expense_types`.`id` = 1) [0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT * FROM `expense_types` WHERE (`expense_types`.`id` = 1) [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM `expense_types` WHERE (`expense_types`.`id` = 1) [0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT * FROM `expense_types` WHERE (`expense_types`.`id` = 1) [0m
Completed in 149ms (View: 107, DB: 25) | 200 OK [http://localhost/expense/2010/3]
  [4;35;1mSQL (0.0ms)[0m   [0mSET NAMES 'utf8'[0m
  [4;36;1mSQL (1.0ms)[0m   [0;1mSET SQL_AUTO_IS_NULL=0[0m


Processing ExpenseController#new (for 127.0.0.1 at 2010-04-26 23:47:00) [GET]
  [4;35;1mExpenseType Load (1.0ms)[0m   [0mSELECT * FROM `expense_types` [0m
  [4;36;1mExpenseType Columns (8.0ms)[0m   [0;1mSHOW FIELDS FROM `expense_types`[0m
Rendering template within layouts/expense
Rendering expense/new
Completed in 39ms (View: 11, DB: 10) | 200 OK [http://localhost/expense/new]
  [4;35;1mSQL (0.0ms)[0m   [0mSET NAMES 'utf8'[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mSET SQL_AUTO_IS_NULL=0[0m


Processing ExpenseController#create (for 127.0.0.1 at 2010-04-26 23:47:20) [POST]
  Parameters: {"commit"=>"Save changes", "authenticity_token"=>"3iAMABe1mpXz0KytN5VYmJ6vKvFfGsWQxjnmAEVKy+8=", "expense_item"=>{"date"=>"2010-2-3", "value"=>"19.9", "note"=>"go to company", "expense_type_id"=>"1"}}
  [4;35;1mExpenseItem Columns (8.0ms)[0m   [0mSHOW FIELDS FROM `expense_items`[0m
  [4;36;1mSQL (8.0ms)[0m   [0;1mBEGIN[0m
  [4;35;1mExpenseItem Create (0.0ms)[0m   [0mINSERT INTO `expense_items` (`updated_at`, `date`, `value`, `expense_type_id`, `note`, `created_at`) VALUES('2010-04-26 15:47:20', '2010-02-03', 19.9, 1, 'go to company', '2010-04-26 15:47:20')[0m
  [4;36;1mSQL (73.0ms)[0m   [0;1mCOMMIT[0m
Redirected to http://localhost:3000/expense/2010/2
Completed in 119ms (DB: 89) | 302 Found [http://localhost/expense/create]
  [4;35;1mSQL (0.0ms)[0m   [0mSET NAMES 'utf8'[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mSET SQL_AUTO_IS_NULL=0[0m


Processing ExpenseController#index (for 127.0.0.1 at 2010-04-26 23:47:21) [GET]
  Parameters: {"month"=>"2", "year"=>"2010"}
  [4;35;1mExpenseItem Load (1.0ms)[0m   [0mSELECT * FROM `expense_items` WHERE (date BETWEEN '2010-02-01' and '2010-02-28') [0m
Rendering template within layouts/expense
Rendering expense/index
  [4;36;1mExpenseItem Columns (8.0ms)[0m   [0;1mSHOW FIELDS FROM `expense_items`[0m
  [4;35;1mExpenseType Columns (6.0ms)[0m   [0mSHOW FIELDS FROM `expense_types`[0m
  [4;36;1mExpenseType Load (9.0ms)[0m   [0;1mSELECT * FROM `expense_types` WHERE (`expense_types`.`id` = 2) [0m
  [4;35;1mExpenseType Load (0.0ms)[0m   [0mSELECT * FROM `expense_types` WHERE (`expense_types`.`id` = 1) [0m
Completed in 100ms (View: 57, DB: 24) | 200 OK [http://localhost/expense/2010/2]
  [4;36;1mSQL (1.0ms)[0m   [0;1mSET NAMES 'utf8'[0m
  [4;35;1mSQL (0.0ms)[0m   [0mSET SQL_AUTO_IS_NULL=0[0m


Processing ExpenseController#edit (for 127.0.0.1 at 2010-04-26 23:50:04) [GET]
  Parameters: {"id"=>"7"}
  [4;36;1mExpenseItem Columns (10.0ms)[0m   [0;1mSHOW FIELDS FROM `expense_items`[0m
  [4;35;1mExpenseItem Load (22.0ms)[0m   [0mSELECT * FROM `expense_items` WHERE (`expense_items`.`id` = 7) [0m
  [4;36;1mExpenseType Load (1.0ms)[0m   [0;1mSELECT * FROM `expense_types` [0m
  [4;35;1mExpenseType Columns (6.0ms)[0m   [0mSHOW FIELDS FROM `expense_types`[0m
Rendering template within layouts/expense
Rendering expense/edit
Completed in 100ms (View: 29, DB: 40) | 200 OK [http://localhost/expense/edit/7]
  [4;36;1mSQL (0.0ms)[0m   [0;1mSET NAMES 'utf8'[0m
  [4;35;1mSQL (0.0ms)[0m   [0mSET SQL_AUTO_IS_NULL=0[0m


Processing ExpenseController#index (for 127.0.0.1 at 2010-04-26 23:50:10) [GET]
  [4;36;1mExpenseItem Load (1.0ms)[0m   [0;1mSELECT * FROM `expense_items` WHERE (date BETWEEN '2010-04-01' and '2010-04-30') [0m
Rendering template within layouts/expense
Rendering expense/index
  [4;35;1mExpenseItem Columns (9.0ms)[0m   [0mSHOW FIELDS FROM `expense_items`[0m
  [4;36;1mExpenseType Columns (8.0ms)[0m   [0;1mSHOW FIELDS FROM `expense_types`[0m
  [4;35;1mExpenseType Load (27.0ms)[0m   [0mSELECT * FROM `expense_types` WHERE (`expense_types`.`id` = 2) [0m
  [4;36;1mExpenseType Load (0.0ms)[0m   [0;1mSELECT * FROM `expense_types` WHERE (`expense_types`.`id` = 1) [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM `expense_types` WHERE (`expense_types`.`id` = 2) [0m
Completed in 235ms (View: 166, DB: 45) | 200 OK [http://localhost/expense]
  [4;36;1mSQL (0.0ms)[0m   [0;1mSET NAMES 'utf8'[0m
  [4;35;1mSQL (1.0ms)[0m   [0mSET SQL_AUTO_IS_NULL=0[0m


Processing ExpenseController#new (for 127.0.0.1 at 2010-04-26 23:50:12) [GET]
  [4;36;1mExpenseType Load (1.0ms)[0m   [0;1mSELECT * FROM `expense_types` [0m
  [4;35;1mExpenseType Columns (14.0ms)[0m   [0mSHOW FIELDS FROM `expense_types`[0m
Rendering template within layouts/expense
Rendering expense/new
Completed in 72ms (View: 23, DB: 16) | 200 OK [http://localhost/expense/new]
  [4;36;1mSQL (1.0ms)[0m   [0;1mSET NAMES 'utf8'[0m
  [4;35;1mSQL (0.0ms)[0m   [0mSET SQL_AUTO_IS_NULL=0[0m


Processing ExpenseController#index (for 127.0.0.1 at 2010-04-26 23:52:11) [GET]
  Parameters: {"month"=>"1", "year"=>"2010"}
  [4;36;1mExpenseItem Load (1.0ms)[0m   [0;1mSELECT * FROM `expense_items` WHERE (date BETWEEN '2010-01-01' and '2010-01-31') [0m
Rendering template within layouts/expense
Rendering expense/index
Completed in 27ms (View: 7, DB: 2) | 200 OK [http://localhost/expense/2010/1]
  [4;35;1mSQL (0.0ms)[0m   [0mSET NAMES 'utf8'[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mSET SQL_AUTO_IS_NULL=0[0m


Processing ExpenseController#index (for 127.0.0.1 at 2010-04-26 23:52:13) [GET]
  Parameters: {"month"=>"2", "year"=>"2010"}
  [4;35;1mExpenseItem Load (1.0ms)[0m   [0mSELECT * FROM `expense_items` WHERE (date BETWEEN '2010-02-01' and '2010-02-28') [0m
Rendering template within layouts/expense
Rendering expense/index
  [4;36;1mExpenseItem Columns (8.0ms)[0m   [0;1mSHOW FIELDS FROM `expense_items`[0m
  [4;35;1mExpenseType Columns (6.0ms)[0m   [0mSHOW FIELDS FROM `expense_types`[0m
  [4;36;1mExpenseType Load (8.0ms)[0m   [0;1mSELECT * FROM `expense_types` WHERE (`expense_types`.`id` = 2) [0m
  [4;35;1mExpenseType Load (0.0ms)[0m   [0mSELECT * FROM `expense_types` WHERE (`expense_types`.`id` = 1) [0m
Completed in 99ms (View: 56, DB: 23) | 200 OK [http://localhost/expense/2010/2]
  [4;36;1mSQL (1.0ms)[0m   [0;1mSET NAMES 'utf8'[0m
  [4;35;1mSQL (0.0ms)[0m   [0mSET SQL_AUTO_IS_NULL=0[0m


Processing ExpenseController#index (for 127.0.0.1 at 2010-04-26 23:52:15) [GET]
  Parameters: {"month"=>"3", "year"=>"2010"}
  [4;36;1mExpenseItem Load (1.0ms)[0m   [0;1mSELECT * FROM `expense_items` WHERE (date BETWEEN '2010-03-01' and '2010-03-31') [0m
Rendering template within layouts/expense
Rendering expense/index
  [4;35;1mExpenseItem Columns (8.0ms)[0m   [0mSHOW FIELDS FROM `expense_items`[0m
  [4;36;1mExpenseType Columns (6.0ms)[0m   [0;1mSHOW FIELDS FROM `expense_types`[0m
  [4;35;1mExpenseType Load (8.0ms)[0m   [0mSELECT * FROM `expense_types` WHERE (`expense_types`.`id` = 1) [0m
  [4;36;1mExpenseType Load (1.0ms)[0m   [0;1mSELECT * FROM `expense_types` WHERE (`expense_types`.`id` = 2) [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM `expense_types` WHERE (`expense_types`.`id` = 1) [0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT * FROM `expense_types` WHERE (`expense_types`.`id` = 1) [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM `expense_types` WHERE (`expense_types`.`id` = 1) [0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT * FROM `expense_types` WHERE (`expense_types`.`id` = 1) [0m
Completed in 145ms (View: 103, DB: 25) | 200 OK [http://localhost/expense/2010/3]
  [4;35;1mSQL (4.0ms)[0m   [0mSET NAMES 'utf8'[0m
  [4;36;1mSQL (1.0ms)[0m   [0;1mSET SQL_AUTO_IS_NULL=0[0m


Processing ExpenseController#delete (for 127.0.0.1 at 2010-04-26 23:52:32) [DELETE]
  Parameters: {"authenticity_token"=>"3iAMABe1mpXz0KytN5VYmJ6vKvFfGsWQxjnmAEVKy+8=", "id"=>"9"}
  [4;35;1mExpenseItem Columns (13.0ms)[0m   [0mSHOW FIELDS FROM `expense_items`[0m
  [4;36;1mExpenseItem Load (24.0ms)[0m   [0;1mSELECT * FROM `expense_items` WHERE (`expense_items`.`id` = 9) [0m
  [4;35;1mSQL (0.0ms)[0m   [0mBEGIN[0m
  [4;36;1mExpenseItem Destroy (35.0ms)[0m   [0;1mDELETE FROM `expense_items` WHERE `id` = 9[0m
  [4;35;1mSQL (92.0ms)[0m   [0mCOMMIT[0m
Redirected to http://localhost:3000/expense/2010/3
Completed in 214ms (DB: 169) | 302 Found [http://localhost/expense/delete/9]
  [4;36;1mSQL (1.0ms)[0m   [0;1mSET NAMES 'utf8'[0m
  [4;35;1mSQL (1.0ms)[0m   [0mSET SQL_AUTO_IS_NULL=0[0m


Processing ExpenseController#index (for 127.0.0.1 at 2010-04-26 23:52:33) [GET]
  Parameters: {"month"=>"3", "year"=>"2010"}
  [4;36;1mExpenseItem Load (1.0ms)[0m   [0;1mSELECT * FROM `expense_items` WHERE (date BETWEEN '2010-03-01' and '2010-03-31') [0m
Rendering template within layouts/expense
Rendering expense/index
  [4;35;1mExpenseItem Columns (10.0ms)[0m   [0mSHOW FIELDS FROM `expense_items`[0m
  [4;36;1mExpenseType Columns (9.0ms)[0m   [0;1mSHOW FIELDS FROM `expense_types`[0m
  [4;35;1mExpenseType Load (6.0ms)[0m   [0mSELECT * FROM `expense_types` WHERE (`expense_types`.`id` = 1) [0m
  [4;36;1mExpenseType Load (0.0ms)[0m   [0;1mSELECT * FROM `expense_types` WHERE (`expense_types`.`id` = 2) [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM `expense_types` WHERE (`expense_types`.`id` = 1) [0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT * FROM `expense_types` WHERE (`expense_types`.`id` = 1) [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM `expense_types` WHERE (`expense_types`.`id` = 1) [0m
Completed in 218ms (View: 171, DB: 28) | 200 OK [http://localhost/expense/2010/3]
  [4;36;1mSQL (51.0ms)[0m   [0;1mSET NAMES 'utf8'[0m
  [4;35;1mSQL (46.0ms)[0m   [0mSET SQL_AUTO_IS_NULL=0[0m


Processing ExpenseController#index (for 127.0.0.1 at 2010-04-27 22:06:37) [GET]
  [4;36;1mExpenseItem Load (377.0ms)[0m   [0;1mSELECT * FROM `expense_items` WHERE (date BETWEEN '2010-04-01' and '2010-04-30') [0m
Rendering template within layouts/expense
Rendering expense/index
  [4;35;1mExpenseItem Columns (2110.1ms)[0m   [0mSHOW FIELDS FROM `expense_items`[0m
  [4;36;1mExpenseType Columns (32.0ms)[0m   [0;1mSHOW FIELDS FROM `expense_types`[0m
  [4;35;1mExpenseType Load (79.0ms)[0m   [0mSELECT * FROM `expense_types` WHERE (`expense_types`.`id` = 2) [0m
  [4;36;1mExpenseType Load (1.0ms)[0m   [0;1mSELECT * FROM `expense_types` WHERE (`expense_types`.`id` = 1) [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM `expense_types` WHERE (`expense_types`.`id` = 2) [0m
Completed in 6427ms (View: 3597, DB: 2696) | 200 OK [http://localhost/expense]
  [4;36;1mSQL (0.0ms)[0m   [0;1mSET NAMES 'utf8'[0m
  [4;35;1mSQL (0.0ms)[0m   [0mSET SQL_AUTO_IS_NULL=0[0m


Processing ExpenseController#new (for 127.0.0.1 at 2010-04-27 22:06:48) [GET]
  [4;36;1mExpenseType Load (0.0ms)[0m   [0;1mSELECT * FROM `expense_types` [0m
  [4;35;1mExpenseType Columns (60.0ms)[0m   [0mSHOW FIELDS FROM `expense_types`[0m
Rendering template within layouts/expense
Rendering expense/new
Completed in 151ms (View: 79, DB: 60) | 200 OK [http://localhost/expense/new]
  [4;36;1mSQL (1.0ms)[0m   [0;1mSET NAMES 'utf8'[0m
  [4;35;1mSQL (0.0ms)[0m   [0mSET SQL_AUTO_IS_NULL=0[0m


Processing ExpenseController#create (for 127.0.0.1 at 2010-04-27 22:07:04) [POST]
  Parameters: {"commit"=>"创建", "authenticity_token"=>"4+3d73Y2uHTKUihsUwDWmIK7h8fVAFVZzinRkVtqDRk=", "expense_item"=>{"date"=>"2010-4-5", "value"=>"0", "note"=>"taxi", "expense_type_id"=>"1"}}
  [4;36;1mExpenseItem Columns (4.0ms)[0m   [0;1mSHOW FIELDS FROM `expense_items`[0m
  [4;35;1mSQL (4.0ms)[0m   [0mBEGIN[0m
  [4;36;1mSQL (1.0ms)[0m   [0;1mROLLBACK[0m

ActiveRecord::RecordInvalid (Validation failed: Value must be greater than 0):
  app/controllers/expense_controller.rb:19:in `create'

Rendered rescues/_trace (55.0ms)
Rendered rescues/_request_and_response (4.0ms)
Rendering rescues/layout (unprocessable_entity)
  [4;35;1mSQL (1.0ms)[0m   [0mSET NAMES 'utf8'[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mSET SQL_AUTO_IS_NULL=0[0m


Processing ExpenseController#new (for 127.0.0.1 at 2010-04-27 22:16:08) [GET]
  [4;35;1mExpenseType Load (0.0ms)[0m   [0mSELECT * FROM `expense_types` [0m
  [4;36;1mExpenseType Columns (4.0ms)[0m   [0;1mSHOW FIELDS FROM `expense_types`[0m
Rendering template within layouts/expense
Rendering expense/new
Completed in 27ms (View: 12, DB: 5) | 200 OK [http://localhost/expense/new]
  [4;35;1mSQL (0.0ms)[0m   [0mSET NAMES 'utf8'[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mSET SQL_AUTO_IS_NULL=0[0m


Processing ExpenseController#create (for 127.0.0.1 at 2010-04-27 22:16:23) [POST]
  Parameters: {"commit"=>"创建", "authenticity_token"=>"4+3d73Y2uHTKUihsUwDWmIK7h8fVAFVZzinRkVtqDRk=", "expense_item"=>{"date"=>"2010-4-5", "value"=>"0.0", "note"=>"ddd", "expense_type_id"=>"1"}}
  [4;35;1mSQL (370.0ms)[0m   [0mSHOW TABLES[0m
  [4;36;1mExpenseItem Columns (168.0ms)[0m   [0;1mSHOW FIELDS FROM `expense_items`[0m
  [4;35;1mSQL (4.0ms)[0m   [0mSHOW TABLES[0m
  [4;36;1mExpenseItem Columns (7.0ms)[0m   [0;1mSHOW FIELDS FROM `expense_items`[0m

NoMethodError (undefined method `validates' for #<Class:0xabf70e0>):
  app/models/expense_item.rb:3
  app/controllers/expense_controller.rb:18:in `create'

Rendered rescues/_trace (56.0ms)
Rendered rescues/_request_and_response (1.0ms)
Rendering rescues/layout (internal_server_error)
  [4;35;1mSQL (1.0ms)[0m   [0mSET NAMES 'utf8'[0m
  [4;36;1mSQL (1.0ms)[0m   [0;1mSET SQL_AUTO_IS_NULL=0[0m


Processing ExpenseController#new (for 127.0.0.1 at 2010-04-27 22:16:56) [GET]
  [4;35;1mExpenseType Load (0.0ms)[0m   [0mSELECT * FROM `expense_types` [0m
  [4;36;1mExpenseType Columns (4.0ms)[0m   [0;1mSHOW FIELDS FROM `expense_types`[0m
Rendering template within layouts/expense
Rendering expense/new
Completed in 22ms (View: 6, DB: 6) | 200 OK [http://localhost/expense/new]
  [4;35;1mSQL (0.0ms)[0m   [0mSET NAMES 'utf8'[0m
  [4;36;1mSQL (1.0ms)[0m   [0;1mSET SQL_AUTO_IS_NULL=0[0m


Processing ExpenseController#create (for 127.0.0.1 at 2010-04-27 22:17:00) [POST]
  Parameters: {"commit"=>"创建", "authenticity_token"=>"4+3d73Y2uHTKUihsUwDWmIK7h8fVAFVZzinRkVtqDRk=", "expense_item"=>{"date"=>"2010-4-5", "value"=>"0.0", "note"=>"ddd", "expense_type_id"=>"1"}}
  [4;35;1mExpenseItem Columns (5.0ms)[0m   [0mSHOW FIELDS FROM `expense_items`[0m
  [4;36;1mSQL (3.0ms)[0m   [0;1mBEGIN[0m
  [4;35;1mSQL (0.0ms)[0m   [0mROLLBACK[0m

ActiveRecord::RecordInvalid (Validation failed: Value 至少一分钱):
  app/controllers/expense_controller.rb:19:in `create'

Rendered rescues/_trace (51.0ms)
Rendered rescues/_request_and_response (0.0ms)
Rendering rescues/layout (unprocessable_entity)
  [4;36;1mSQL (0.0ms)[0m   [0;1mSET NAMES 'utf8'[0m
  [4;35;1mSQL (0.0ms)[0m   [0mSET SQL_AUTO_IS_NULL=0[0m


Processing ExpenseController#index (for 127.0.0.1 at 2010-04-27 22:32:31) [GET]
  [4;36;1mExpenseItem Load (1.0ms)[0m   [0;1mSELECT * FROM `expense_items` WHERE (date BETWEEN '2010-04-01' and '2010-04-30') [0m
Rendering template within layouts/expense
Rendering expense/index
  [4;35;1mExpenseItem Columns (5.0ms)[0m   [0mSHOW FIELDS FROM `expense_items`[0m
  [4;36;1mExpenseType Columns (3.0ms)[0m   [0;1mSHOW FIELDS FROM `expense_types`[0m
  [4;35;1mExpenseType Load (7.0ms)[0m   [0mSELECT * FROM `expense_types` WHERE (`expense_types`.`id` = 2) [0m
  [4;36;1mExpenseType Load (0.0ms)[0m   [0;1mSELECT * FROM `expense_types` WHERE (`expense_types`.`id` = 1) [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM `expense_types` WHERE (`expense_types`.`id` = 2) [0m
Completed in 69ms (View: 43, DB: 16) | 200 OK [http://localhost/expense]
  [4;36;1mSQL (0.0ms)[0m   [0;1mSET NAMES 'utf8'[0m
  [4;35;1mSQL (0.0ms)[0m   [0mSET SQL_AUTO_IS_NULL=0[0m


Processing ExpenseController#new (for 127.0.0.1 at 2010-04-27 22:32:34) [GET]
  [4;36;1mExpenseType Load (1.0ms)[0m   [0;1mSELECT * FROM `expense_types` [0m
  [4;35;1mExpenseType Columns (5.0ms)[0m   [0mSHOW FIELDS FROM `expense_types`[0m
Rendering template within layouts/expense
Rendering expense/new
Completed in 23ms (View: 6, DB: 6) | 200 OK [http://localhost/expense/new]
  [4;36;1mSQL (1.0ms)[0m   [0;1mSET NAMES 'utf8'[0m
  [4;35;1mSQL (0.0ms)[0m   [0mSET SQL_AUTO_IS_NULL=0[0m


Processing ExpenseController#create (for 127.0.0.1 at 2010-04-27 22:32:48) [POST]
  Parameters: {"commit"=>"创建", "authenticity_token"=>"fSItpkcgEqvdmx2/ni0vPzMlIA0yQA2nZzTz6lNrjn4=", "expense_item"=>{"date"=>"2010-4-5", "value"=>"0", "note"=>"ddd", "expense_type_id"=>"1"}}
  [4;36;1mExpenseItem Columns (4.0ms)[0m   [0;1mSHOW FIELDS FROM `expense_items`[0m
  [4;35;1mSQL (3.0ms)[0m   [0mBEGIN[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mROLLBACK[0m

ActiveRecord::RecordInvalid (Validation failed: Value 至少一分钱):
  app/controllers/expense_controller.rb:19:in `create'
  app/controllers/expense_controller.rb:18:in `create'

Rendered rescues/_trace (98.0ms)
Rendered rescues/_request_and_response (0.0ms)
Rendering rescues/layout (unprocessable_entity)
  [4;35;1mSQL (1.0ms)[0m   [0mSET NAMES 'utf8'[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mSET SQL_AUTO_IS_NULL=0[0m


Processing ExpenseController#create (for 127.0.0.1 at 2010-04-27 22:34:59) [POST]
  Parameters: {"commit"=>"创建", "authenticity_token"=>"fSItpkcgEqvdmx2/ni0vPzMlIA0yQA2nZzTz6lNrjn4=", "expense_item"=>{"date"=>"2010-4-5", "value"=>"0", "note"=>"dddddd", "expense_type_id"=>"1"}}
  [4;35;1mExpenseItem Columns (5.0ms)[0m   [0mSHOW FIELDS FROM `expense_items`[0m
  [4;36;1mSQL (3.0ms)[0m   [0;1mBEGIN[0m
  [4;35;1mSQL (0.0ms)[0m   [0mROLLBACK[0m
Rendering template within layouts/expense
Rendering expense/new

ActionView::TemplateError (You have a nil object when you didn't expect it!
You might have expected an instance of Array.
The error occurred while evaluating nil.inject) on line #13 of app/views/expense/new.html.erb:
10: 
11:     <p>
12:       <label for="type">类型</label><br/>
13:       <%= form.select :expense_type_id, @all_types %>
14:     </p>
15: 
16:     <p>

    app/views/expense/new.html.erb:13
    app/views/expense/new.html.erb:4
    app/controllers/expense_controller.rb:27:in `create'
    app/controllers/expense_controller.rb:19:in `create'

Rendered rescues/_trace (69.0ms)
Rendered rescues/_request_and_response (1.0ms)
Rendering rescues/layout (internal_server_error)
  [4;36;1mSQL (0.0ms)[0m   [0;1mSET NAMES 'utf8'[0m
  [4;35;1mSQL (0.0ms)[0m   [0mSET SQL_AUTO_IS_NULL=0[0m


Processing ExpenseController#create (for 127.0.0.1 at 2010-04-27 22:36:22) [POST]
  Parameters: {"commit"=>"创建", "authenticity_token"=>"fSItpkcgEqvdmx2/ni0vPzMlIA0yQA2nZzTz6lNrjn4=", "expense_item"=>{"date"=>"2010-4-5", "value"=>"0", "note"=>"ddddddd", "expense_type_id"=>"1"}}
  [4;36;1mExpenseItem Columns (6.0ms)[0m   [0;1mSHOW FIELDS FROM `expense_items`[0m
  [4;35;1mSQL (7.0ms)[0m   [0mBEGIN[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mROLLBACK[0m
  [4;35;1mExpenseType Load (1.0ms)[0m   [0mSELECT * FROM `expense_types` [0m
  [4;36;1mExpenseType Columns (5.0ms)[0m   [0;1mSHOW FIELDS FROM `expense_types`[0m
Rendering template within layouts/expense
Rendering expense/new
Completed in 46ms (View: 6, DB: 19) | 200 OK [http://localhost/expense/create]
  [4;35;1mSQL (0.0ms)[0m   [0mSET NAMES 'utf8'[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mSET SQL_AUTO_IS_NULL=0[0m


Processing ExpenseController#index (for 127.0.0.1 at 2010-04-27 22:39:28) [GET]
  [4;35;1mExpenseItem Load (1.0ms)[0m   [0mSELECT * FROM `expense_items` WHERE (date BETWEEN '2010-04-01' and '2010-04-30') [0m
Rendering template within layouts/expense
Rendering expense/index
  [4;36;1mExpenseItem Columns (4.0ms)[0m   [0;1mSHOW FIELDS FROM `expense_items`[0m
  [4;35;1mExpenseType Columns (4.0ms)[0m   [0mSHOW FIELDS FROM `expense_types`[0m
  [4;36;1mExpenseType Load (4.0ms)[0m   [0;1mSELECT * FROM `expense_types` WHERE (`expense_types`.`id` = 2) [0m
  [4;35;1mExpenseType Load (0.0ms)[0m   [0mSELECT * FROM `expense_types` WHERE (`expense_types`.`id` = 1) [0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT * FROM `expense_types` WHERE (`expense_types`.`id` = 2) [0m
Completed in 106ms (View: 83, DB: 13) | 200 OK [http://localhost/expense/]
  [4;35;1mSQL (0.0ms)[0m   [0mSET NAMES 'utf8'[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mSET SQL_AUTO_IS_NULL=0[0m


Processing ExpenseController#new (for 127.0.0.1 at 2010-04-27 22:39:32) [GET]
  [4;35;1mExpenseType Load (0.0ms)[0m   [0mSELECT * FROM `expense_types` [0m
  [4;36;1mExpenseType Columns (4.0ms)[0m   [0;1mSHOW FIELDS FROM `expense_types`[0m
Rendering template within layouts/expense
Rendering expense/new
Completed in 21ms (View: 5, DB: 4) | 200 OK [http://localhost/expense/new]
  [4;35;1mSQL (0.0ms)[0m   [0mSET NAMES 'utf8'[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mSET SQL_AUTO_IS_NULL=0[0m


Processing ExpenseController#create (for 127.0.0.1 at 2010-04-27 22:39:43) [POST]
  Parameters: {"commit"=>"创建", "authenticity_token"=>"fSItpkcgEqvdmx2/ni0vPzMlIA0yQA2nZzTz6lNrjn4=", "expense_item"=>{"date"=>"2010-4-5", "value"=>"0", "note"=>"ddd", "expense_type_id"=>"1"}}
  [4;35;1mExpenseItem Columns (4.0ms)[0m   [0mSHOW FIELDS FROM `expense_items`[0m
  [4;36;1mSQL (27.0ms)[0m   [0;1mBEGIN[0m
  [4;35;1mSQL (0.0ms)[0m   [0mROLLBACK[0m
  [4;36;1mExpenseType Load (0.0ms)[0m   [0;1mSELECT * FROM `expense_types` [0m
  [4;35;1mExpenseType Columns (3.0ms)[0m   [0mSHOW FIELDS FROM `expense_types`[0m
Rendering template within layouts/expense
Rendering expense/new
Completed in 60ms (View: 5, DB: 34) | 200 OK [http://localhost/expense/create]
  [4;36;1mSQL (1.0ms)[0m   [0;1mSET NAMES 'utf8'[0m
  [4;35;1mSQL (1.0ms)[0m   [0mSET SQL_AUTO_IS_NULL=0[0m


Processing ExpenseController#create (for 127.0.0.1 at 2010-04-27 22:43:06) [POST]
  Parameters: {"commit"=>"创建", "authenticity_token"=>"fSItpkcgEqvdmx2/ni0vPzMlIA0yQA2nZzTz6lNrjn4=", "expense_item"=>{"date"=>"2010-4-5", "value"=>"0", "note"=>"dfdd", "expense_type_id"=>"1"}}
  [4;36;1mExpenseItem Columns (4.0ms)[0m   [0;1mSHOW FIELDS FROM `expense_items`[0m

NameError (undefined local variable or method `newitem' for #<ExpenseController:0xadd00f0>):
  app/controllers/expense_controller.rb:21:in `create'
  app/controllers/expense_controller.rb:20:in `create'

Rendered rescues/_trace (46.0ms)
Rendered rescues/_request_and_response (1.0ms)
Rendering rescues/layout (internal_server_error)
  [4;35;1mSQL (1.0ms)[0m   [0mSET NAMES 'utf8'[0m
  [4;36;1mSQL (1.0ms)[0m   [0;1mSET SQL_AUTO_IS_NULL=0[0m


Processing ExpenseController#create (for 127.0.0.1 at 2010-04-27 22:43:44) [POST]
  Parameters: {"commit"=>"创建", "authenticity_token"=>"fSItpkcgEqvdmx2/ni0vPzMlIA0yQA2nZzTz6lNrjn4=", "expense_item"=>{"date"=>"2010-4-5", "value"=>"0", "note"=>"dfddd", "expense_type_id"=>"1"}}
  [4;35;1mExpenseItem Columns (5.0ms)[0m   [0mSHOW FIELDS FROM `expense_items`[0m
  [4;36;1mSQL (3.0ms)[0m   [0;1mBEGIN[0m
  [4;35;1mSQL (1.0ms)[0m   [0mROLLBACK[0m
  [4;36;1mExpenseType Load (0.0ms)[0m   [0;1mSELECT * FROM `expense_types` [0m
  [4;35;1mExpenseType Columns (3.0ms)[0m   [0mSHOW FIELDS FROM `expense_types`[0m
Rendering template within layouts/expense
Rendering expense/new
Completed in 79ms (View: 46, DB: 14) | 200 OK [http://localhost/expense/create]
  [4;36;1mSQL (0.0ms)[0m   [0;1mSET NAMES 'utf8'[0m
  [4;35;1mSQL (0.0ms)[0m   [0mSET SQL_AUTO_IS_NULL=0[0m


Processing ExpenseController#new (for 127.0.0.1 at 2010-04-27 22:56:21) [GET]
  [4;36;1mExpenseItem Columns (5.0ms)[0m   [0;1mSHOW FIELDS FROM `expense_items`[0m
  [4;35;1mExpenseType Load (0.0ms)[0m   [0mSELECT * FROM `expense_types` [0m
  [4;36;1mExpenseType Columns (3.0ms)[0m   [0;1mSHOW FIELDS FROM `expense_types`[0m
Rendering template within layouts/expense
Rendering expense/new

ActionView::TemplateError (undefined method `expense_items_path' for #<ActionView::Base:0xa237128>) on line #4 of app/views/expense/new.html.erb:
1: <div>
2:   <h2>添加新的花销记录</h2>
3:   <%= link_to "取消", :action => 'index' %>
4:   <% form_for (@expense_item) do |f| %>
5:     <%= f.error_messages %>
6:     <p>
7:       <%= f.label :date, '日期' %>

    app/views/expense/new.html.erb:4

Rendered rescues/_trace (59.0ms)
Rendered rescues/_request_and_response (0.0ms)
Rendering rescues/layout (internal_server_error)
  [4;35;1mSQL (0.0ms)[0m   [0mSET NAMES 'utf8'[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mSET SQL_AUTO_IS_NULL=0[0m


Processing ExpenseController#new (for 127.0.0.1 at 2010-04-27 22:57:48) [GET]
  [4;35;1mExpenseItem Columns (5.0ms)[0m   [0mSHOW FIELDS FROM `expense_items`[0m
  [4;36;1mExpenseType Load (0.0ms)[0m   [0;1mSELECT * FROM `expense_types` [0m
  [4;35;1mExpenseType Columns (3.0ms)[0m   [0mSHOW FIELDS FROM `expense_types`[0m
Rendering template within layouts/expense
Rendering expense/new
Completed in 40ms (View: 14, DB: 8) | 200 OK [http://localhost/expense/new]
  [4;36;1mSQL (0.0ms)[0m   [0;1mSET NAMES 'utf8'[0m
  [4;35;1mSQL (1.0ms)[0m   [0mSET SQL_AUTO_IS_NULL=0[0m


Processing ExpenseController#new (for 127.0.0.1 at 2010-04-27 22:58:01) [POST]
  Parameters: {"commit"=>"创建", "authenticity_token"=>"4+3d73Y2uHTKUihsUwDWmIK7h8fVAFVZzinRkVtqDRk=", "expense_item"=>{"date"=>"2010-4-5", "value"=>"0", "note"=>"dd", "expense_type_id"=>"1"}}
  [4;36;1mExpenseItem Columns (5.0ms)[0m   [0;1mSHOW FIELDS FROM `expense_items`[0m
  [4;35;1mExpenseType Load (0.0ms)[0m   [0mSELECT * FROM `expense_types` [0m
  [4;36;1mExpenseType Columns (3.0ms)[0m   [0;1mSHOW FIELDS FROM `expense_types`[0m
Rendering template within layouts/expense
Rendering expense/new
Completed in 36ms (View: 7, DB: 9) | 200 OK [http://localhost/expense/new]
  [4;35;1mSQL (1.0ms)[0m   [0mSET NAMES 'utf8'[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mSET SQL_AUTO_IS_NULL=0[0m


Processing ExpenseController#new (for 127.0.0.1 at 2010-04-27 22:58:27) [POST]
  Parameters: {"commit"=>"创建", "authenticity_token"=>"4+3d73Y2uHTKUihsUwDWmIK7h8fVAFVZzinRkVtqDRk=", "expense_item"=>{"date"=>"2010-4-5", "value"=>"0", "note"=>"d", "expense_type_id"=>"1"}}
  [4;35;1mExpenseItem Columns (5.0ms)[0m   [0mSHOW FIELDS FROM `expense_items`[0m
  [4;36;1mExpenseType Load (0.0ms)[0m   [0;1mSELECT * FROM `expense_types` [0m
  [4;35;1mExpenseType Columns (3.0ms)[0m   [0mSHOW FIELDS FROM `expense_types`[0m
Rendering template within layouts/expense
Rendering expense/new

ActionView::TemplateError (undefined method `expense_items_path' for #<ActionView::Base:0xabf5538>) on line #4 of app/views/expense/new.html.erb:
1: <div>
2:   <h2>添加新的花销记录</h2>
3:   <%= link_to "取消", :action => 'index' %>
4:   <% form_for @expense_item, { :action => 'create' } do |f| %>
5:     <%= f.error_messages %>
6:     <p>
7:       <%= f.label :date, '日期' %>

    app/views/expense/new.html.erb:4

Rendered rescues/_trace (115.0ms)
Rendered rescues/_request_and_response (1.0ms)
Rendering rescues/layout (internal_server_error)
  [4;36;1mSQL (0.0ms)[0m   [0;1mSET NAMES 'utf8'[0m
  [4;35;1mSQL (0.0ms)[0m   [0mSET SQL_AUTO_IS_NULL=0[0m


Processing ExpenseController#new (for 127.0.0.1 at 2010-04-27 22:59:09) [GET]
  [4;36;1mExpenseItem Columns (4.0ms)[0m   [0;1mSHOW FIELDS FROM `expense_items`[0m
  [4;35;1mExpenseType Load (0.0ms)[0m   [0mSELECT * FROM `expense_types` [0m
  [4;36;1mExpenseType Columns (3.0ms)[0m   [0;1mSHOW FIELDS FROM `expense_types`[0m
Rendering template within layouts/expense
Rendering expense/new
Completed in 41ms (View: 14, DB: 7) | 200 OK [http://localhost/expense/new]
  [4;35;1mSQL (0.0ms)[0m   [0mSET NAMES 'utf8'[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mSET SQL_AUTO_IS_NULL=0[0m


Processing ExpenseController#index (for 127.0.0.1 at 2010-04-27 22:59:55) [GET]
  [4;35;1mExpenseItem Load (1.0ms)[0m   [0mSELECT * FROM `expense_items` WHERE (date BETWEEN '2010-04-01' and '2010-04-30') [0m
Rendering template within layouts/expense
Rendering expense/index
  [4;36;1mExpenseItem Columns (5.0ms)[0m   [0;1mSHOW FIELDS FROM `expense_items`[0m
  [4;35;1mExpenseType Columns (3.0ms)[0m   [0mSHOW FIELDS FROM `expense_types`[0m
  [4;36;1mExpenseType Load (5.0ms)[0m   [0;1mSELECT * FROM `expense_types` WHERE (`expense_types`.`id` = 2) [0m
  [4;35;1mExpenseType Load (0.0ms)[0m   [0mSELECT * FROM `expense_types` WHERE (`expense_types`.`id` = 1) [0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT * FROM `expense_types` WHERE (`expense_types`.`id` = 2) [0m
Completed in 58ms (View: 33, DB: 14) | 200 OK [http://localhost/expense/]
  [4;35;1mSQL (1.0ms)[0m   [0mSET NAMES 'utf8'[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mSET SQL_AUTO_IS_NULL=0[0m


Processing ExpenseController#new (for 127.0.0.1 at 2010-04-27 23:00:00) [GET]
  [4;35;1mExpenseItem Columns (5.0ms)[0m   [0mSHOW FIELDS FROM `expense_items`[0m
  [4;36;1mExpenseType Load (1.0ms)[0m   [0;1mSELECT * FROM `expense_types` [0m
  [4;35;1mExpenseType Columns (3.0ms)[0m   [0mSHOW FIELDS FROM `expense_types`[0m
Rendering template within layouts/expense
Rendering expense/new
Completed in 41ms (View: 15, DB: 10) | 200 OK [http://localhost/expense/new]
  [4;36;1mSQL (1.0ms)[0m   [0;1mSET NAMES 'utf8'[0m
  [4;35;1mSQL (0.0ms)[0m   [0mSET SQL_AUTO_IS_NULL=0[0m


Processing ExpenseController#new (for 127.0.0.1 at 2010-04-27 23:00:08) [POST]
  Parameters: {"commit"=>"创建", "authenticity_token"=>"fSItpkcgEqvdmx2/ni0vPzMlIA0yQA2nZzTz6lNrjn4=", "expense_item"=>{"date"=>"2010-4-5", "value"=>"0", "note"=>"d", "expense_type_id"=>"1"}}
  [4;36;1mExpenseItem Columns (5.0ms)[0m   [0;1mSHOW FIELDS FROM `expense_items`[0m
  [4;35;1mExpenseType Load (1.0ms)[0m   [0mSELECT * FROM `expense_types` [0m
  [4;36;1mExpenseType Columns (4.0ms)[0m   [0;1mSHOW FIELDS FROM `expense_types`[0m
Rendering template within layouts/expense
Rendering expense/new
Completed in 35ms (View: 8, DB: 11) | 200 OK [http://localhost/expense/new]
  [4;35;1mSQL (0.0ms)[0m   [0mSET NAMES 'utf8'[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mSET SQL_AUTO_IS_NULL=0[0m


Processing ExpenseController#new (for 127.0.0.1 at 2010-04-27 23:01:17) [POST]
  Parameters: {"commit"=>"创建", "authenticity_token"=>"fSItpkcgEqvdmx2/ni0vPzMlIA0yQA2nZzTz6lNrjn4=", "expense_item"=>{"date"=>"2010-2-1", "value"=>"0", "note"=>"d", "expense_type_id"=>"1"}}
  [4;35;1mExpenseItem Columns (4.0ms)[0m   [0mSHOW FIELDS FROM `expense_items`[0m
  [4;36;1mExpenseType Load (1.0ms)[0m   [0;1mSELECT * FROM `expense_types` [0m
  [4;35;1mExpenseType Columns (4.0ms)[0m   [0mSHOW FIELDS FROM `expense_types`[0m
Rendering template within layouts/expense
Rendering expense/new
Completed in 41ms (View: 14, DB: 9) | 200 OK [http://localhost/expense/new]
  [4;36;1mSQL (1.0ms)[0m   [0;1mSET NAMES 'utf8'[0m
  [4;35;1mSQL (0.0ms)[0m   [0mSET SQL_AUTO_IS_NULL=0[0m


Processing ExpenseController#new (for 127.0.0.1 at 2010-04-27 23:01:37) [POST]
  Parameters: {"commit"=>"创建", "authenticity_token"=>"4+3d73Y2uHTKUihsUwDWmIK7h8fVAFVZzinRkVtqDRk=", "expense_item"=>{"date"=>"2010-4-1", "value"=>"0", "note"=>"d", "expense_type_id"=>"1"}}
  [4;36;1mExpenseItem Columns (4.0ms)[0m   [0;1mSHOW FIELDS FROM `expense_items`[0m
  [4;35;1mExpenseType Load (1.0ms)[0m   [0mSELECT * FROM `expense_types` [0m
  [4;36;1mExpenseType Columns (4.0ms)[0m   [0;1mSHOW FIELDS FROM `expense_types`[0m
Rendering template within layouts/expense
Rendering expense/new
Completed in 87ms (View: 14, DB: 10) | 200 OK [http://localhost/expense/new]
  [4;35;1mSQL (0.0ms)[0m   [0mSET NAMES 'utf8'[0m
  [4;36;1mSQL (1.0ms)[0m   [0;1mSET SQL_AUTO_IS_NULL=0[0m


Processing ExpenseController#create (for 127.0.0.1 at 2010-04-27 23:05:49) [POST]
  Parameters: {"commit"=>"创建", "authenticity_token"=>"fSItpkcgEqvdmx2/ni0vPzMlIA0yQA2nZzTz6lNrjn4=", "expense_item"=>{"date"=>"2010-4-5", "value"=>"0", "note"=>"d", "expense_type_id"=>"1"}}
  [4;35;1mExpenseItem Columns (5.0ms)[0m   [0mSHOW FIELDS FROM `expense_items`[0m
  [4;36;1mSQL (6.0ms)[0m   [0;1mBEGIN[0m
  [4;35;1mSQL (0.0ms)[0m   [0mROLLBACK[0m
  [4;36;1mExpenseType Load (0.0ms)[0m   [0;1mSELECT * FROM `expense_types` [0m
  [4;35;1mExpenseType Columns (4.0ms)[0m   [0mSHOW FIELDS FROM `expense_types`[0m
Rendering template within layouts/expense
Rendering expense/new
Completed in 61ms (View: 26, DB: 16) | 200 OK [http://localhost/expense/create]
  [4;36;1mSQL (1.0ms)[0m   [0;1mSET NAMES 'utf8'[0m
  [4;35;1mSQL (0.0ms)[0m   [0mSET SQL_AUTO_IS_NULL=0[0m


Processing ExpenseController#create (for 127.0.0.1 at 2010-04-27 23:06:35) [POST]
  Parameters: {"commit"=>"创建", "authenticity_token"=>"fSItpkcgEqvdmx2/ni0vPzMlIA0yQA2nZzTz6lNrjn4=", "expense_item"=>{"date"=>"2010-4-5", "value"=>"0.1", "note"=>"d", "expense_type_id"=>"1"}}
  [4;36;1mExpenseItem Columns (4.0ms)[0m   [0;1mSHOW FIELDS FROM `expense_items`[0m
  [4;35;1mSQL (3.0ms)[0m   [0mBEGIN[0m
  [4;36;1mExpenseItem Create (129.0ms)[0m   [0;1mINSERT INTO `expense_items` (`updated_at`, `date`, `value`, `expense_type_id`, `note`, `created_at`) VALUES('2010-04-27 15:06:35', '2010-04-05', 0.1, 1, 'd', '2010-04-27 15:06:35')[0m
  [4;35;1mSQL (113.0ms)[0m   [0mCOMMIT[0m
Redirected to http://localhost:3000/expense/2010/4
Completed in 266ms (DB: 250) | 302 Found [http://localhost/expense/create]
  [4;36;1mSQL (1.0ms)[0m   [0;1mSET NAMES 'utf8'[0m
  [4;35;1mSQL (1.0ms)[0m   [0mSET SQL_AUTO_IS_NULL=0[0m


Processing ExpenseController#index (for 127.0.0.1 at 2010-04-27 23:06:36) [GET]
  Parameters: {"month"=>"4", "year"=>"2010"}
  [4;36;1mExpenseItem Load (0.0ms)[0m   [0;1mSELECT * FROM `expense_items` WHERE (date BETWEEN '2010-04-01' and '2010-04-30') [0m
Rendering template within layouts/expense
Rendering expense/index
  [4;35;1mExpenseItem Columns (5.0ms)[0m   [0mSHOW FIELDS FROM `expense_items`[0m
  [4;36;1mExpenseType Columns (3.0ms)[0m   [0;1mSHOW FIELDS FROM `expense_types`[0m
  [4;35;1mExpenseType Load (5.0ms)[0m   [0mSELECT * FROM `expense_types` WHERE (`expense_types`.`id` = 2) [0m
  [4;36;1mExpenseType Load (1.0ms)[0m   [0;1mSELECT * FROM `expense_types` WHERE (`expense_types`.`id` = 1) [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM `expense_types` WHERE (`expense_types`.`id` = 2) [0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT * FROM `expense_types` WHERE (`expense_types`.`id` = 1) [0m
Completed in 64ms (View: 39, DB: 16) | 200 OK [http://localhost/expense/2010/4]
  [4;35;1mSQL (0.0ms)[0m   [0mSET NAMES 'utf8'[0m
  [4;36;1mSQL (1.0ms)[0m   [0;1mSET SQL_AUTO_IS_NULL=0[0m


Processing ExpenseController#edit (for 127.0.0.1 at 2010-04-27 23:07:28) [PUT]
  Parameters: {"authenticity_token"=>"fSItpkcgEqvdmx2/ni0vPzMlIA0yQA2nZzTz6lNrjn4=", "id"=>"14"}
  [4;35;1mExpenseItem Columns (4.0ms)[0m   [0mSHOW FIELDS FROM `expense_items`[0m
  [4;36;1mExpenseItem Load (5.0ms)[0m   [0;1mSELECT * FROM `expense_items` WHERE (`expense_items`.`id` = 14) [0m
  [4;35;1mExpenseType Load (0.0ms)[0m   [0mSELECT * FROM `expense_types` [0m
  [4;36;1mExpenseType Columns (3.0ms)[0m   [0;1mSHOW FIELDS FROM `expense_types`[0m
Rendering template within layouts/expense
Rendering expense/edit
Completed in 44ms (View: 14, DB: 13) | 200 OK [http://localhost/expense/edit/14]
  [4;35;1mSQL (0.0ms)[0m   [0mSET NAMES 'utf8'[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mSET SQL_AUTO_IS_NULL=0[0m


Processing ExpenseController#update (for 127.0.0.1 at 2010-04-27 23:07:34) [PUT]
  Parameters: {"commit"=>"更新", "authenticity_token"=>"fSItpkcgEqvdmx2/ni0vPzMlIA0yQA2nZzTz6lNrjn4=", "id"=>"14", "expense_item"=>{"date"=>"2010-04-05", "value"=>"0", "note"=>"d", "expense_type_id"=>"1"}}
  [4;35;1mExpenseItem Columns (5.0ms)[0m   [0mSHOW FIELDS FROM `expense_items`[0m
  [4;36;1mExpenseItem Load (6.0ms)[0m   [0;1mSELECT * FROM `expense_items` WHERE (`expense_items`.`id` = 14) [0m
  [4;35;1mSQL (0.0ms)[0m   [0mBEGIN[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mROLLBACK[0m
Rendering template within layouts/expense
Rendering expense/edit

ActionView::TemplateError (Called id for nil, which would mistakenly be 4 -- if you really wanted the id of nil, use object_id) on line #4 of app/views/expense/edit.html.erb:
1: <div>
2:   <h2>编辑消费记录</h2>
3:   <%= link_to "取消", :action => 'index' %>
4:   <% form_for @expense_item, :url => { :action => :update, :id => @expense_item} do |form| %>
5:     <p>
6:       <label for="date">日期</label><br/>
7:       <%= form.text_field :date %>

    app/views/expense/edit.html.erb:4
    app/controllers/expense_controller.rb:51:in `update'
    app/controllers/expense_controller.rb:43:in `update'

Rendered rescues/_trace (110.0ms)
Rendered rescues/_request_and_response (0.0ms)
Rendering rescues/layout (internal_server_error)
  [4;35;1mSQL (1.0ms)[0m   [0mSET NAMES 'utf8'[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mSET SQL_AUTO_IS_NULL=0[0m


Processing ExpenseController#update (for 127.0.0.1 at 2010-04-27 23:11:09) [PUT]
  Parameters: {"commit"=>"更新", "authenticity_token"=>"fSItpkcgEqvdmx2/ni0vPzMlIA0yQA2nZzTz6lNrjn4=", "id"=>"14", "expense_item"=>{"date"=>"2010-04-05", "value"=>"0", "note"=>"d", "expense_type_id"=>"1"}}
  [4;35;1mExpenseItem Columns (5.0ms)[0m   [0mSHOW FIELDS FROM `expense_items`[0m
  [4;36;1mExpenseItem Load (5.0ms)[0m   [0;1mSELECT * FROM `expense_items` WHERE (`expense_items`.`id` = 14) [0m
  [4;35;1mSQL (0.0ms)[0m   [0mBEGIN[0m
  [4;36;1mSQL (1.0ms)[0m   [0;1mROLLBACK[0m
Rendering template within layouts/expense
Rendering expense/edit

ActionView::TemplateError (Called id for nil, which would mistakenly be 4 -- if you really wanted the id of nil, use object_id) on line #4 of app/views/expense/edit.html.erb:
1: <div>
2:   <h2>编辑消费记录</h2>
3:   <%= link_to "取消", :action => 'index' %>
4:   <% form_for @expense_item, :url => { :action => :update, :id => @expense_item} do |f| %>
5:     <%= f.error_messages %>
6:     <p>
7:       <%= f.label :date, '日期' %>

    app/views/expense/edit.html.erb:4
    app/controllers/expense_controller.rb:51:in `update'
    app/controllers/expense_controller.rb:43:in `update'

Rendered rescues/_trace (67.0ms)
Rendered rescues/_request_and_response (1.0ms)
Rendering rescues/layout (internal_server_error)
  [4;35;1mSQL (0.0ms)[0m   [0mSET NAMES 'utf8'[0m
  [4;36;1mSQL (1.0ms)[0m   [0;1mSET SQL_AUTO_IS_NULL=0[0m


Processing ExpenseController#update (for 127.0.0.1 at 2010-04-27 23:13:25) [PUT]
  Parameters: {"commit"=>"更新", "authenticity_token"=>"fSItpkcgEqvdmx2/ni0vPzMlIA0yQA2nZzTz6lNrjn4=", "id"=>"14", "expense_item"=>{"date"=>"2010-04-05", "value"=>"0", "note"=>"d", "expense_type_id"=>"1"}}
  [4;35;1mExpenseItem Columns (6.0ms)[0m   [0mSHOW FIELDS FROM `expense_items`[0m
  [4;36;1mExpenseItem Load (5.0ms)[0m   [0;1mSELECT * FROM `expense_items` WHERE (`expense_items`.`id` = 14) [0m
  [4;35;1mSQL (1.0ms)[0m   [0mBEGIN[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mROLLBACK[0m
  [4;35;1mExpenseType Load (1.0ms)[0m   [0mSELECT * FROM `expense_types` [0m
  [4;36;1mExpenseType Columns (3.0ms)[0m   [0;1mSHOW FIELDS FROM `expense_types`[0m
Rendering template within layouts/expense
Rendering expense/edit
Completed in 104ms (View: 12, DB: 17) | 200 OK [http://localhost/expense/update/14]
  [4;35;1mSQL (1.0ms)[0m   [0mSET NAMES 'utf8'[0m
  [4;36;1mSQL (1.0ms)[0m   [0;1mSET SQL_AUTO_IS_NULL=0[0m


Processing ExpenseController#update (for 127.0.0.1 at 2010-04-27 23:13:47) [PUT]
  Parameters: {"commit"=>"更新", "authenticity_token"=>"fSItpkcgEqvdmx2/ni0vPzMlIA0yQA2nZzTz6lNrjn4=", "id"=>"14", "expense_item"=>{"date"=>"2010-04-05", "value"=>"0.2", "note"=>"dd", "expense_type_id"=>"1"}}
  [4;35;1mExpenseItem Columns (5.0ms)[0m   [0mSHOW FIELDS FROM `expense_items`[0m
  [4;36;1mExpenseItem Load (5.0ms)[0m   [0;1mSELECT * FROM `expense_items` WHERE (`expense_items`.`id` = 14) [0m
  [4;35;1mSQL (0.0ms)[0m   [0mBEGIN[0m
  [4;36;1mExpenseItem Update (78.0ms)[0m   [0;1mUPDATE `expense_items` SET `value` = 0.2, `note` = 'dd', `updated_at` = '2010-04-27 15:13:47' WHERE `id` = 14[0m
  [4;35;1mSQL (77.0ms)[0m   [0mCOMMIT[0m
Redirected to http://localhost:3000/expense/2010/4
Completed in 181ms (DB: 167) | 302 Found [http://localhost/expense/update/14]
  [4;36;1mSQL (0.0ms)[0m   [0;1mSET NAMES 'utf8'[0m
  [4;35;1mSQL (0.0ms)[0m   [0mSET SQL_AUTO_IS_NULL=0[0m


Processing ExpenseController#index (for 127.0.0.1 at 2010-04-27 23:13:48) [GET]
  Parameters: {"month"=>"4", "year"=>"2010"}
  [4;36;1mExpenseItem Load (0.0ms)[0m   [0;1mSELECT * FROM `expense_items` WHERE (date BETWEEN '2010-04-01' and '2010-04-30') [0m
Rendering template within layouts/expense
Rendering expense/index
  [4;35;1mExpenseItem Columns (6.0ms)[0m   [0mSHOW FIELDS FROM `expense_items`[0m
  [4;36;1mExpenseType Columns (4.0ms)[0m   [0;1mSHOW FIELDS FROM `expense_types`[0m
  [4;35;1mExpenseType Load (5.0ms)[0m   [0mSELECT * FROM `expense_types` WHERE (`expense_types`.`id` = 2) [0m
  [4;36;1mExpenseType Load (0.0ms)[0m   [0;1mSELECT * FROM `expense_types` WHERE (`expense_types`.`id` = 1) [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM `expense_types` WHERE (`expense_types`.`id` = 2) [0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT * FROM `expense_types` WHERE (`expense_types`.`id` = 1) [0m
Completed in 67ms (View: 40, DB: 15) | 200 OK [http://localhost/expense/2010/4]
  [4;35;1mSQL (0.0ms)[0m   [0mSET NAMES 'utf8'[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mSET SQL_AUTO_IS_NULL=0[0m


Processing ExpenseController#edit (for 127.0.0.1 at 2010-04-27 23:13:52) [PUT]
  Parameters: {"authenticity_token"=>"fSItpkcgEqvdmx2/ni0vPzMlIA0yQA2nZzTz6lNrjn4=", "id"=>"14"}
  [4;35;1mExpenseItem Columns (5.0ms)[0m   [0mSHOW FIELDS FROM `expense_items`[0m
  [4;36;1mExpenseItem Load (5.0ms)[0m   [0;1mSELECT * FROM `expense_items` WHERE (`expense_items`.`id` = 14) [0m
  [4;35;1mExpenseType Load (1.0ms)[0m   [0mSELECT * FROM `expense_types` [0m
  [4;36;1mExpenseType Columns (3.0ms)[0m   [0;1mSHOW FIELDS FROM `expense_types`[0m
Rendering template within layouts/expense
Rendering expense/edit
Completed in 43ms (View: 8, DB: 14) | 200 OK [http://localhost/expense/edit/14]
  [4;35;1mSQL (1.0ms)[0m   [0mSET NAMES 'utf8'[0m
  [4;36;1mSQL (1.0ms)[0m   [0;1mSET SQL_AUTO_IS_NULL=0[0m


Processing ExpenseController#index (for 127.0.0.1 at 2010-04-27 23:14:07) [GET]
  [4;35;1mExpenseItem Load (0.0ms)[0m   [0mSELECT * FROM `expense_items` WHERE (date BETWEEN '2010-04-01' and '2010-04-30') [0m
Rendering template within layouts/expense
Rendering expense/index
  [4;36;1mExpenseItem Columns (5.0ms)[0m   [0;1mSHOW FIELDS FROM `expense_items`[0m
  [4;35;1mExpenseType Columns (3.0ms)[0m   [0mSHOW FIELDS FROM `expense_types`[0m
  [4;36;1mExpenseType Load (5.0ms)[0m   [0;1mSELECT * FROM `expense_types` WHERE (`expense_types`.`id` = 2) [0m
  [4;35;1mExpenseType Load (1.0ms)[0m   [0mSELECT * FROM `expense_types` WHERE (`expense_types`.`id` = 1) [0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT * FROM `expense_types` WHERE (`expense_types`.`id` = 2) [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM `expense_types` WHERE (`expense_types`.`id` = 1) [0m
Completed in 64ms (View: 38, DB: 16) | 200 OK [http://localhost/expense]
  [4;36;1mSQL (0.0ms)[0m   [0;1mSET NAMES 'utf8'[0m
  [4;35;1mSQL (0.0ms)[0m   [0mSET SQL_AUTO_IS_NULL=0[0m


Processing ExpenseController#index (for 127.0.0.1 at 2010-04-27 23:14:14) [GET]
  Parameters: {"month"=>"5", "year"=>"2010"}
  [4;36;1mExpenseItem Load (1.0ms)[0m   [0;1mSELECT * FROM `expense_items` WHERE (date BETWEEN '2010-05-01' and '2010-05-31') [0m
Rendering template within layouts/expense
Rendering expense/index
Completed in 13ms (View: 4, DB: 1) | 200 OK [http://localhost/expense/2010/5]
  [4;35;1mSQL (0.0ms)[0m   [0mSET NAMES 'utf8'[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mSET SQL_AUTO_IS_NULL=0[0m


Processing ExpenseController#index (for 127.0.0.1 at 2010-04-27 23:14:17) [GET]
  Parameters: {"month"=>"4", "year"=>"2010"}
  [4;35;1mExpenseItem Load (0.0ms)[0m   [0mSELECT * FROM `expense_items` WHERE (date BETWEEN '2010-04-01' and '2010-04-30') [0m
Rendering template within layouts/expense
Rendering expense/index
  [4;36;1mExpenseItem Columns (4.0ms)[0m   [0;1mSHOW FIELDS FROM `expense_items`[0m
  [4;35;1mExpenseType Columns (3.0ms)[0m   [0mSHOW FIELDS FROM `expense_types`[0m
  [4;36;1mExpenseType Load (5.0ms)[0m   [0;1mSELECT * FROM `expense_types` WHERE (`expense_types`.`id` = 2) [0m
  [4;35;1mExpenseType Load (0.0ms)[0m   [0mSELECT * FROM `expense_types` WHERE (`expense_types`.`id` = 1) [0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT * FROM `expense_types` WHERE (`expense_types`.`id` = 2) [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM `expense_types` WHERE (`expense_types`.`id` = 1) [0m
Completed in 104ms (View: 82, DB: 12) | 200 OK [http://localhost/expense/2010/4]
  [4;36;1mSQL (0.0ms)[0m   [0;1mSET NAMES 'utf8'[0m
  [4;35;1mSQL (0.0ms)[0m   [0mSET SQL_AUTO_IS_NULL=0[0m


Processing ExpenseController#index (for 127.0.0.1 at 2010-04-27 23:14:19) [GET]
  Parameters: {"month"=>"3", "year"=>"2010"}
  [4;36;1mExpenseItem Load (0.0ms)[0m   [0;1mSELECT * FROM `expense_items` WHERE (date BETWEEN '2010-03-01' and '2010-03-31') [0m
Rendering template within layouts/expense
Rendering expense/index
  [4;35;1mExpenseItem Columns (4.0ms)[0m   [0mSHOW FIELDS FROM `expense_items`[0m
  [4;36;1mExpenseType Columns (3.0ms)[0m   [0;1mSHOW FIELDS FROM `expense_types`[0m
  [4;35;1mExpenseType Load (5.0ms)[0m   [0mSELECT * FROM `expense_types` WHERE (`expense_types`.`id` = 1) [0m
  [4;36;1mExpenseType Load (0.0ms)[0m   [0;1mSELECT * FROM `expense_types` WHERE (`expense_types`.`id` = 2) [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM `expense_types` WHERE (`expense_types`.`id` = 1) [0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT * FROM `expense_types` WHERE (`expense_types`.`id` = 1) [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM `expense_types` WHERE (`expense_types`.`id` = 1) [0m
Completed in 66ms (View: 45, DB: 12) | 200 OK [http://localhost/expense/2010/3]
  [4;36;1mSQL (1.0ms)[0m   [0;1mSET NAMES 'utf8'[0m
  [4;35;1mSQL (1.0ms)[0m   [0mSET SQL_AUTO_IS_NULL=0[0m


Processing ExpenseController#delete (for 127.0.0.1 at 2010-04-27 23:19:00) [DELETE]
  Parameters: {"authenticity_token"=>"fSItpkcgEqvdmx2/ni0vPzMlIA0yQA2nZzTz6lNrjn4=", "id"=>"5"}
  [4;36;1mExpenseItem Columns (5.0ms)[0m   [0;1mSHOW FIELDS FROM `expense_items`[0m
  [4;35;1mExpenseItem Load (5.0ms)[0m   [0mSELECT * FROM `expense_items` WHERE (`expense_items`.`id` = 5) [0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mBEGIN[0m
  [4;35;1mExpenseItem Destroy (1.0ms)[0m   [0mDELETE FROM `expense_items` WHERE `id` = 5[0m
  [4;36;1mSQL (108.0ms)[0m   [0;1mCOMMIT[0m
Redirected to http://localhost:3000/expense/2010/3
Completed in 135ms (DB: 121) | 302 Found [http://localhost/expense/delete/5]
  [4;35;1mSQL (0.0ms)[0m   [0mSET NAMES 'utf8'[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mSET SQL_AUTO_IS_NULL=0[0m


Processing ExpenseController#index (for 127.0.0.1 at 2010-04-27 23:19:01) [GET]
  Parameters: {"month"=>"3", "year"=>"2010"}
  [4;35;1mExpenseItem Load (1.0ms)[0m   [0mSELECT * FROM `expense_items` WHERE (date BETWEEN '2010-03-01' and '2010-03-31') [0m
Rendering template within layouts/expense
Rendering expense/index
  [4;36;1mExpenseItem Columns (4.0ms)[0m   [0;1mSHOW FIELDS FROM `expense_items`[0m
  [4;35;1mExpenseType Columns (4.0ms)[0m   [0mSHOW FIELDS FROM `expense_types`[0m
  [4;36;1mExpenseType Load (4.0ms)[0m   [0;1mSELECT * FROM `expense_types` WHERE (`expense_types`.`id` = 1) [0m
  [4;35;1mExpenseType Load (0.0ms)[0m   [0mSELECT * FROM `expense_types` WHERE (`expense_types`.`id` = 2) [0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT * FROM `expense_types` WHERE (`expense_types`.`id` = 1) [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM `expense_types` WHERE (`expense_types`.`id` = 1) [0m
Completed in 63ms (View: 40, DB: 13) | 200 OK [http://localhost/expense/2010/3]
  [4;36;1mSQL (0.0ms)[0m   [0;1mSET NAMES 'utf8'[0m
  [4;35;1mSQL (0.0ms)[0m   [0mSET SQL_AUTO_IS_NULL=0[0m


Processing ExpenseController#delete (for 127.0.0.1 at 2010-04-27 23:19:26) [DELETE]
  Parameters: {"authenticity_token"=>"fSItpkcgEqvdmx2/ni0vPzMlIA0yQA2nZzTz6lNrjn4=", "id"=>"10"}
  [4;36;1mExpenseItem Columns (5.0ms)[0m   [0;1mSHOW FIELDS FROM `expense_items`[0m
  [4;35;1mExpenseItem Load (5.0ms)[0m   [0mSELECT * FROM `expense_items` WHERE (`expense_items`.`id` = 10) [0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mBEGIN[0m
  [4;35;1mExpenseItem Destroy (0.0ms)[0m   [0mDELETE FROM `expense_items` WHERE `id` = 10[0m
  [4;36;1mSQL (65.0ms)[0m   [0;1mCOMMIT[0m
Redirected to http://localhost:3000/expense/2010/3
Completed in 92ms (DB: 75) | 302 Found [http://localhost/expense/delete/10]
  [4;35;1mSQL (1.0ms)[0m   [0mSET NAMES 'utf8'[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mSET SQL_AUTO_IS_NULL=0[0m


Processing ExpenseController#index (for 127.0.0.1 at 2010-04-27 23:19:27) [GET]
  Parameters: {"month"=>"3", "year"=>"2010"}
  [4;35;1mExpenseItem Load (1.0ms)[0m   [0mSELECT * FROM `expense_items` WHERE (date BETWEEN '2010-03-01' and '2010-03-31') [0m
Rendering template within layouts/expense
Rendering expense/index
  [4;36;1mExpenseItem Columns (5.0ms)[0m   [0;1mSHOW FIELDS FROM `expense_items`[0m
  [4;35;1mExpenseType Columns (4.0ms)[0m   [0mSHOW FIELDS FROM `expense_types`[0m
  [4;36;1mExpenseType Load (5.0ms)[0m   [0;1mSELECT * FROM `expense_types` WHERE (`expense_types`.`id` = 1) [0m
  [4;35;1mExpenseType Load (0.0ms)[0m   [0mSELECT * FROM `expense_types` WHERE (`expense_types`.`id` = 2) [0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT * FROM `expense_types` WHERE (`expense_types`.`id` = 1) [0m
Completed in 62ms (View: 35, DB: 16) | 200 OK [http://localhost/expense/2010/3]
  [4;36;1mSQL (1.0ms)[0m   [0;1mSET NAMES 'utf8'[0m
  [4;35;1mSQL (1.0ms)[0m   [0mSET SQL_AUTO_IS_NULL=0[0m


Processing ExpenseController#index (for 127.0.0.1 at 2010-04-28 21:50:29) [GET]
  [4;36;1mExpenseItem Load (286.0ms)[0m   [0;1mSELECT * FROM `expense_items` WHERE (date BETWEEN '2010-04-01' and '2010-04-30') [0m
Rendering template within layouts/expense
Rendering expense/index
  [4;35;1mExpenseItem Columns (363.0ms)[0m   [0mSHOW FIELDS FROM `expense_items`[0m
  [4;36;1mExpenseType Columns (28.0ms)[0m   [0;1mSHOW FIELDS FROM `expense_types`[0m
  [4;35;1mExpenseType Load (40.0ms)[0m   [0mSELECT * FROM `expense_types` WHERE (`expense_types`.`id` = 2) [0m
  [4;36;1mExpenseType Load (1.0ms)[0m   [0;1mSELECT * FROM `expense_types` WHERE (`expense_types`.`id` = 1) [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM `expense_types` WHERE (`expense_types`.`id` = 2) [0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT * FROM `expense_types` WHERE (`expense_types`.`id` = 1) [0m
Completed in 8132ms (View: 7166, DB: 720) | 200 OK [http://localhost/expense]
  [4;35;1mSQL (0.0ms)[0m   [0mSET NAMES 'utf8'[0m
  [4;36;1mSQL (1.0ms)[0m   [0;1mSET SQL_AUTO_IS_NULL=0[0m


Processing ExpenseController#index (for 127.0.0.1 at 2010-04-28 21:52:24) [GET]
  [4;35;1mExpenseItem Load (17.0ms)[0m   [0mSELECT * FROM `expense_items` WHERE (date BETWEEN '2010-04-01' and '2010-04-30') [0m
Rendering template within layouts/expense
Rendering expense/index
  [4;36;1mExpenseItem Columns (12.0ms)[0m   [0;1mSHOW FIELDS FROM `expense_items`[0m
  [4;35;1mExpenseType Columns (7.0ms)[0m   [0mSHOW FIELDS FROM `expense_types`[0m
  [4;36;1mExpenseType Load (10.0ms)[0m   [0;1mSELECT * FROM `expense_types` WHERE (`expense_types`.`id` = 2) [0m
  [4;35;1mExpenseType Load (0.0ms)[0m   [0mSELECT * FROM `expense_types` WHERE (`expense_types`.`id` = 1) [0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT * FROM `expense_types` WHERE (`expense_types`.`id` = 2) [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM `expense_types` WHERE (`expense_types`.`id` = 1) [0m
Completed in 261ms (View: 103, DB: 47) | 200 OK [http://localhost/expense]
  [4;36;1mSQL (0.0ms)[0m   [0;1mSET NAMES 'utf8'[0m
  [4;35;1mSQL (0.0ms)[0m   [0mSET SQL_AUTO_IS_NULL=0[0m


Processing ExpenseController#new_type (for 127.0.0.1 at 2010-04-28 21:52:26) [GET]
Rendering template within layouts/expense
Rendering expense/new_type
Completed in 27ms (View: 23, DB: 0) | 200 OK [http://localhost/expense/new_type]
  [4;36;1mSQL (0.0ms)[0m   [0;1mSET NAMES 'utf8'[0m
  [4;35;1mSQL (0.0ms)[0m   [0mSET SQL_AUTO_IS_NULL=0[0m


Processing ExpenseController#create_type (for 127.0.0.1 at 2010-04-28 21:52:34) [POST]
  Parameters: {"commit"=>"Save changes", "authenticity_token"=>"Zh+fvkCRgcJdtOAaZqYwfdA1q7u8E2VLz23S1HZATco=", "expense_type"=>{"description"=>"日用品"}}
  [4;36;1mExpenseType Columns (8.0ms)[0m   [0;1mSHOW FIELDS FROM `expense_types`[0m
  [4;35;1mSQL (8.0ms)[0m   [0mBEGIN[0m
  [4;36;1mExpenseType Create (81.0ms)[0m   [0;1mINSERT INTO `expense_types` (`updated_at`, `description`, `created_at`) VALUES('2010-04-28 13:52:34', '日用品', '2010-04-28 13:52:34')[0m
  [4;35;1mSQL (45.0ms)[0m   [0mCOMMIT[0m
Rendering template within layouts/expense
Rendering expense/create_type
Completed in 194ms (View: 17, DB: 142) | 200 OK [http://localhost/expense/create_type]
  [4;36;1mSQL (0.0ms)[0m   [0;1mSET NAMES 'utf8'[0m
  [4;35;1mSQL (1.0ms)[0m   [0mSET SQL_AUTO_IS_NULL=0[0m


Processing ApplicationController#index (for 127.0.0.1 at 2010-04-28 22:28:58) [GET]

SyntaxError (d:/haipeng/ror/finance/app/controllers/expense_controller.rb:122: syntax error, unexpected kEND, expecting $end):
  

Rendered rescues/_trace (266.0ms)
Rendered rescues/_request_and_response (4.0ms)
Rendering rescues/layout (internal_server_error)
  [4;36;1mSQL (1.0ms)[0m   [0;1mSET NAMES 'utf8'[0m
  [4;35;1mSQL (0.0ms)[0m   [0mSET SQL_AUTO_IS_NULL=0[0m


Processing ExpenseController#index (for 127.0.0.1 at 2010-04-28 22:29:36) [GET]
  [4;36;1mExpenseItem Load (2.0ms)[0m   [0;1mSELECT * FROM `expense_items` WHERE (date BETWEEN '2010-04-01' and '2010-04-30') [0m
Rendering template within layouts/expense
Rendering expense/index
  [4;35;1mExpenseItem Columns (10.0ms)[0m   [0mSHOW FIELDS FROM `expense_items`[0m
  [4;36;1mExpenseType Columns (8.0ms)[0m   [0;1mSHOW FIELDS FROM `expense_types`[0m
  [4;35;1mExpenseType Load (10.0ms)[0m   [0mSELECT * FROM `expense_types` WHERE (`expense_types`.`id` = 2) [0m
  [4;36;1mExpenseType Load (1.0ms)[0m   [0;1mSELECT * FROM `expense_types` WHERE (`expense_types`.`id` = 1) [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM `expense_types` WHERE (`expense_types`.`id` = 2) [0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT * FROM `expense_types` WHERE (`expense_types`.`id` = 1) [0m
Completed in 135ms (View: 83, DB: 32) | 200 OK [http://localhost/expense]
  [4;35;1mSQL (1.0ms)[0m   [0mSET NAMES 'utf8'[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mSET SQL_AUTO_IS_NULL=0[0m


Processing ExpenseController#new (for 127.0.0.1 at 2010-04-28 22:29:39) [GET]
  [4;35;1mExpenseItem Columns (10.0ms)[0m   [0mSHOW FIELDS FROM `expense_items`[0m
  [4;36;1mExpenseType Load (24.0ms)[0m   [0;1mSELECT * FROM `expense_types` [0m
  [4;35;1mExpenseType Columns (9.0ms)[0m   [0mSHOW FIELDS FROM `expense_types`[0m
Rendering template within layouts/expense
Rendering expense/new
Completed in 155ms (View: 68, DB: 44) | 200 OK [http://localhost/expense/new]
  [4;36;1mSQL (0.0ms)[0m   [0;1mSET NAMES 'utf8'[0m
  [4;35;1mSQL (0.0ms)[0m   [0mSET SQL_AUTO_IS_NULL=0[0m


Processing ExpenseController#index (for 127.0.0.1 at 2010-04-28 22:42:07) [GET]
  [4;36;1mExpenseItem Load (2.0ms)[0m   [0;1mSELECT * FROM `expense_items` WHERE (date BETWEEN '2010-04-01' and '2010-04-30') [0m
Rendering template within layouts/expense
Rendering expense/index
  [4;35;1mExpenseItem Columns (8.0ms)[0m   [0mSHOW FIELDS FROM `expense_items`[0m
  [4;36;1mExpenseType Columns (6.0ms)[0m   [0;1mSHOW FIELDS FROM `expense_types`[0m
  [4;35;1mExpenseType Load (9.0ms)[0m   [0mSELECT * FROM `expense_types` WHERE (`expense_types`.`id` = 2) [0m
  [4;36;1mExpenseType Load (0.0ms)[0m   [0;1mSELECT * FROM `expense_types` WHERE (`expense_types`.`id` = 1) [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM `expense_types` WHERE (`expense_types`.`id` = 2) [0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT * FROM `expense_types` WHERE (`expense_types`.`id` = 1) [0m
Completed in 117ms (View: 74, DB: 25) | 200 OK [http://localhost/expense]
  [4;35;1mSQL (1.0ms)[0m   [0mSET NAMES 'utf8'[0m
  [4;36;1mSQL (3.0ms)[0m   [0;1mSET SQL_AUTO_IS_NULL=0[0m


Processing ExpenseController#new_type (for 127.0.0.1 at 2010-04-28 22:42:09) [GET]
Rendering template within layouts/expense
Rendering expense/new_type

ActionView::TemplateError (Called id for nil, which would mistakenly be 4 -- if you really wanted the id of nil, use object_id) on line #3 of app/views/expense/new_type.html.erb:
1: <div>
2:   <h2>添加新的花销类型</h2>
3:   <% form_for @expense_type, :url => { :action => :create_type } do |f| %>
4:     <p>
5:     <%= f.label :description, '消费类型说明' %>
6:     <%= f.text_field :description %>

    app/views/expense/new_type.html.erb:3

Rendered rescues/_trace (128.0ms)
Rendered rescues/_request_and_response (0.0ms)
Rendering rescues/layout (internal_server_error)
  [4;35;1mSQL (0.0ms)[0m   [0mSET NAMES 'utf8'[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mSET SQL_AUTO_IS_NULL=0[0m


Processing ExpenseController#new_type (for 127.0.0.1 at 2010-04-28 22:42:47) [GET]
  [4;35;1mExpenseType Columns (9.0ms)[0m   [0mSHOW FIELDS FROM `expense_types`[0m
Rendering template within layouts/expense
Rendering expense/new_type
Completed in 37ms (View: 12, DB: 9) | 200 OK [http://localhost/expense/new_type]
  [4;36;1mSQL (0.0ms)[0m   [0;1mSET NAMES 'utf8'[0m
  [4;35;1mSQL (1.0ms)[0m   [0mSET SQL_AUTO_IS_NULL=0[0m


Processing ExpenseController#index (for 127.0.0.1 at 2010-04-28 22:56:46) [GET]
  [4;36;1mExpenseItem Load (1.0ms)[0m   [0;1mSELECT * FROM `expense_items` WHERE (date BETWEEN '2010-04-01' and '2010-04-30') [0m
Rendering template within layouts/expense
Rendering expense/index
  [4;35;1mExpenseItem Columns (8.0ms)[0m   [0mSHOW FIELDS FROM `expense_items`[0m
  [4;36;1mExpenseType Columns (7.0ms)[0m   [0;1mSHOW FIELDS FROM `expense_types`[0m
  [4;35;1mExpenseType Load (9.0ms)[0m   [0mSELECT * FROM `expense_types` WHERE (`expense_types`.`id` = 2) [0m
  [4;36;1mExpenseType Load (1.0ms)[0m   [0;1mSELECT * FROM `expense_types` WHERE (`expense_types`.`id` = 1) [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM `expense_types` WHERE (`expense_types`.`id` = 2) [0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT * FROM `expense_types` WHERE (`expense_types`.`id` = 1) [0m
Completed in 144ms (View: 99, DB: 27) | 200 OK [http://localhost/expense]
  [4;35;1mSQL (0.0ms)[0m   [0mSET NAMES 'utf8'[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mSET SQL_AUTO_IS_NULL=0[0m


Processing ExpenseController#batch_new (for 127.0.0.1 at 2010-04-28 22:56:49) [GET]
Rendering template within layouts/expense
Rendering expense/batch_new
ERROR: compiling _run_erb_app47views47expense47batch_new46html46erb RAISED compile error
d:/haipeng/ror/finance/app/views/expense/batch_new.html.erb:3: syntax error, unexpected kDO_BLOCK
...ion => 'batch_create' } |f| do ; @output_buffer.concat "\n"
                              ^
d:/haipeng/ror/finance/app/views/expense/batch_new.html.erb:30: syntax error, unexpected kEND
@output_buffer.concat(( end ).to_s); @output_buffer.concat "\n"
                           ^
Function body:           def _run_erb_app47views47expense47batch_new46html46erb(local_assigns)
            old_output_buffer = output_buffer;;@output_buffer = '';  __in_erb_template=true ; @output_buffer.concat "<div>\n"
@output_buffer.concat "  <h2>\346\211\271\351\207\217\346\267\273\345\212\240\346\266\210\350\264\271\350\256\260\345\275\225</h2>\n"
@output_buffer.concat "  ";  form_for :batch_expense_item, :url => { :action => 'batch_create' } |f| do ; @output_buffer.concat "\n"
@output_buffer.concat "    <p>\n"
@output_buffer.concat "    "; @output_buffer.concat(( f.label :date_from, '起始时间' ).to_s); @output_buffer.concat "\n"
@output_buffer.concat "    "; @output_buffer.concat(( f.text_field :date_from ).to_s); @output_buffer.concat "\n"
@output_buffer.concat "    </p>\n"
@output_buffer.concat "\n"
@output_buffer.concat "    <p>\n"
@output_buffer.concat "    "; @output_buffer.concat(( f.label :date_to, '结束时间' ).to_s); @output_buffer.concat "\n"
@output_buffer.concat "    "; @output_buffer.concat(( f.text_field :date_to ).to_s); @output_buffer.concat "\n"
@output_buffer.concat "    </p>\n"
@output_buffer.concat "\n"
@output_buffer.concat "    <p>\n"
@output_buffer.concat "    "; @output_buffer.concat(( f.label :expense_type_id, '类型' ).to_s); @output_buffer.concat "\n"
@output_buffer.concat "    "; @output_buffer.concat(( f.select :expense_type_id, @all_types ).to_s); @output_buffer.concat "\n"
@output_buffer.concat "    </p>\n"
@output_buffer.concat "\n"
@output_buffer.concat "    <p>\n"
@output_buffer.concat "    "; @output_buffer.concat(( f.label :value, '金额' ).to_s); @output_buffer.concat "\n"
@output_buffer.concat "    "; @output_buffer.concat(( f.text_field :value ).to_s); @output_buffer.concat "\n"
@output_buffer.concat "    </p>\n"
@output_buffer.concat "\n"
@output_buffer.concat "    <p>\n"
@output_buffer.concat "    "; @output_buffer.concat(( f.label :note, '备注' ).to_s); @output_buffer.concat "\n"
@output_buffer.concat "    "; @output_buffer.concat(( f.text_area :note ).to_s); @output_buffer.concat "\n"
@output_buffer.concat "    </p>\n"
@output_buffer.concat "\n"
@output_buffer.concat "    "; @output_buffer.concat(( submit_tag '提交' ).to_s); @output_buffer.concat "\n"
@output_buffer.concat(( end ).to_s); @output_buffer.concat "\n"
@output_buffer.concat "</div>\n"
@output_buffer
          ensure
            self.output_buffer = old_output_buffer
          end
Backtrace: d:/haipeng/ror/finance/app/views/expense/batch_new.html.erb:35:in `compile!'
d:/Ruby/lib/ruby/gems/1.8/gems/actionpack-2.3.5/lib/action_view/renderable.rb:61:in `compile'
d:/Ruby/lib/ruby/gems/1.8/gems/actionpack-2.3.5/lib/action_view/renderable.rb:28:in `render'
d:/Ruby/lib/ruby/gems/1.8/gems/actionpack-2.3.5/lib/action_view/template.rb:205:in `render_template'
d:/Ruby/lib/ruby/gems/1.8/gems/actionpack-2.3.5/lib/action_view/base.rb:265:in `render'
d:/Ruby/lib/ruby/gems/1.8/gems/actionpack-2.3.5/lib/action_view/base.rb:348:in `_render_with_layout'
d:/Ruby/lib/ruby/gems/1.8/gems/actionpack-2.3.5/lib/action_view/base.rb:262:in `render'
d:/Ruby/lib/ruby/gems/1.8/gems/actionpack-2.3.5/lib/action_controller/base.rb:1250:in `render_for_file'
d:/Ruby/lib/ruby/gems/1.8/gems/actionpack-2.3.5/lib/action_controller/base.rb:945:in `render_without_benchmark'
d:/Ruby/lib/ruby/gems/1.8/gems/actionpack-2.3.5/lib/action_controller/benchmarking.rb:51:in `render'
d:/Ruby/lib/ruby/gems/1.8/gems/activesupport-2.3.5/lib/active_support/core_ext/benchmark.rb:17:in `ms'
d:/Ruby/lib/ruby/gems/1.8/gems/activesupport-2.3.5/lib/active_support/core_ext/benchmark.rb:10:in `realtime'
d:/Ruby/lib/ruby/gems/1.8/gems/activesupport-2.3.5/lib/active_support/core_ext/benchmark.rb:17:in `ms'
d:/Ruby/lib/ruby/gems/1.8/gems/actionpack-2.3.5/lib/action_controller/benchmarking.rb:51:in `render'
d:/Ruby/lib/ruby/gems/1.8/gems/actionpack-2.3.5/lib/action_controller/base.rb:1326:in `default_render'
d:/Ruby/lib/ruby/gems/1.8/gems/actionpack-2.3.5/lib/action_controller/base.rb:1332:in `perform_action_without_filters'
d:/Ruby/lib/ruby/gems/1.8/gems/actionpack-2.3.5/lib/action_controller/filters.rb:617:in `call_filters'
d:/Ruby/lib/ruby/gems/1.8/gems/actionpack-2.3.5/lib/action_controller/filters.rb:610:in `perform_action_without_benchmark'
d:/Ruby/lib/ruby/gems/1.8/gems/actionpack-2.3.5/lib/action_controller/benchmarking.rb:68:in `perform_action_without_rescue'
d:/Ruby/lib/ruby/gems/1.8/gems/activesupport-2.3.5/lib/active_support/core_ext/benchmark.rb:17:in `ms'
d:/Ruby/lib/ruby/gems/1.8/gems/activesupport-2.3.5/lib/active_support/core_ext/benchmark.rb:10:in `realtime'
d:/Ruby/lib/ruby/gems/1.8/gems/activesupport-2.3.5/lib/active_support/core_ext/benchmark.rb:17:in `ms'
d:/Ruby/lib/ruby/gems/1.8/gems/actionpack-2.3.5/lib/action_controller/benchmarking.rb:68:in `perform_action_without_rescue'
d:/Ruby/lib/ruby/gems/1.8/gems/actionpack-2.3.5/lib/action_controller/rescue.rb:160:in `perform_action_without_flash'
d:/Ruby/lib/ruby/gems/1.8/gems/actionpack-2.3.5/lib/action_controller/flash.rb:146:in `perform_action'
d:/Ruby/lib/ruby/gems/1.8/gems/actionpack-2.3.5/lib/action_controller/base.rb:532:in `send'
d:/Ruby/lib/ruby/gems/1.8/gems/actionpack-2.3.5/lib/action_controller/base.rb:532:in `process_without_filters'
d:/Ruby/lib/ruby/gems/1.8/gems/actionpack-2.3.5/lib/action_controller/filters.rb:606:in `process'
d:/Ruby/lib/ruby/gems/1.8/gems/actionpack-2.3.5/lib/action_controller/base.rb:391:in `process'
d:/Ruby/lib/ruby/gems/1.8/gems/actionpack-2.3.5/lib/action_controller/base.rb:386:in `call'
d:/Ruby/lib/ruby/gems/1.8/gems/actionpack-2.3.5/lib/action_controller/routing/route_set.rb:437:in `call'
d:/Ruby/lib/ruby/gems/1.8/gems/actionpack-2.3.5/lib/action_controller/dispatcher.rb:87:in `dispatch'
d:/Ruby/lib/ruby/gems/1.8/gems/actionpack-2.3.5/lib/action_controller/dispatcher.rb:121:in `_call'
d:/Ruby/lib/ruby/gems/1.8/gems/actionpack-2.3.5/lib/action_controller/dispatcher.rb:130:in `build_middleware_stack'
d:/Ruby/lib/ruby/gems/1.8/gems/activerecord-2.3.5/lib/active_record/query_cache.rb:29:in `call'
d:/Ruby/lib/ruby/gems/1.8/gems/activerecord-2.3.5/lib/active_record/query_cache.rb:29:in `call'
d:/Ruby/lib/ruby/gems/1.8/gems/activerecord-2.3.5/lib/active_record/connection_adapters/abstract/query_cache.rb:34:in `cache'
d:/Ruby/lib/ruby/gems/1.8/gems/activerecord-2.3.5/lib/active_record/query_cache.rb:9:in `cache'
d:/Ruby/lib/ruby/gems/1.8/gems/activerecord-2.3.5/lib/active_record/query_cache.rb:28:in `call'
d:/Ruby/lib/ruby/gems/1.8/gems/activerecord-2.3.5/lib/active_record/connection_adapters/abstract/connection_pool.rb:361:in `call'
d:/Ruby/lib/ruby/gems/1.8/gems/actionpack-2.3.5/lib/action_controller/string_coercion.rb:25:in `call'
d:/Ruby/lib/ruby/gems/1.8/gems/rack-1.0.1/lib/rack/head.rb:9:in `call'
d:/Ruby/lib/ruby/gems/1.8/gems/rack-1.0.1/lib/rack/methodoverride.rb:24:in `call'
d:/Ruby/lib/ruby/gems/1.8/gems/actionpack-2.3.5/lib/action_controller/params_parser.rb:15:in `call'
d:/Ruby/lib/ruby/gems/1.8/gems/actionpack-2.3.5/lib/action_controller/session/cookie_store.rb:93:in `call'
d:/Ruby/lib/ruby/gems/1.8/gems/actionpack-2.3.5/lib/action_controller/failsafe.rb:26:in `call'
d:/Ruby/lib/ruby/gems/1.8/gems/rack-1.0.1/lib/rack/lock.rb:11:in `call'
d:/Ruby/lib/ruby/gems/1.8/gems/rack-1.0.1/lib/rack/lock.rb:11:in `synchronize'
d:/Ruby/lib/ruby/gems/1.8/gems/rack-1.0.1/lib/rack/lock.rb:11:in `call'
d:/Ruby/lib/ruby/gems/1.8/gems/actionpack-2.3.5/lib/action_controller/dispatcher.rb:114:in `call'
d:/Ruby/lib/ruby/gems/1.8/gems/actionpack-2.3.5/lib/action_controller/reloader.rb:34:in `run'
d:/Ruby/lib/ruby/gems/1.8/gems/actionpack-2.3.5/lib/action_controller/dispatcher.rb:108:in `call'
d:/Ruby/lib/ruby/gems/1.8/gems/rails-2.3.5/lib/rails/rack/static.rb:31:in `call'
d:/Ruby/lib/ruby/gems/1.8/gems/rack-1.0.1/lib/rack/urlmap.rb:46:in `call'
d:/Ruby/lib/ruby/gems/1.8/gems/rack-1.0.1/lib/rack/urlmap.rb:40:in `each'
d:/Ruby/lib/ruby/gems/1.8/gems/rack-1.0.1/lib/rack/urlmap.rb:40:in `call'
d:/Ruby/lib/ruby/gems/1.8/gems/rails-2.3.5/lib/rails/rack/log_tailer.rb:17:in `call'
d:/Ruby/lib/ruby/gems/1.8/gems/rack-1.0.1/lib/rack/content_length.rb:13:in `call'
d:/Ruby/lib/ruby/gems/1.8/gems/rack-1.0.1/lib/rack/chunked.rb:15:in `call'
d:/Ruby/lib/ruby/gems/1.8/gems/rack-1.0.1/lib/rack/handler/mongrel.rb:64:in `process'
d:/Ruby/lib/ruby/gems/1.8/gems/mongrel-1.1.5-x86-mswin32-60/lib/mongrel.rb:159:in `process_client'
d:/Ruby/lib/ruby/gems/1.8/gems/mongrel-1.1.5-x86-mswin32-60/lib/mongrel.rb:158:in `each'
d:/Ruby/lib/ruby/gems/1.8/gems/mongrel-1.1.5-x86-mswin32-60/lib/mongrel.rb:158:in `process_client'
d:/Ruby/lib/ruby/gems/1.8/gems/mongrel-1.1.5-x86-mswin32-60/lib/mongrel.rb:285:in `run'
d:/Ruby/lib/ruby/gems/1.8/gems/mongrel-1.1.5-x86-mswin32-60/lib/mongrel.rb:285:in `initialize'
d:/Ruby/lib/ruby/gems/1.8/gems/mongrel-1.1.5-x86-mswin32-60/lib/mongrel.rb:285:in `new'
d:/Ruby/lib/ruby/gems/1.8/gems/mongrel-1.1.5-x86-mswin32-60/lib/mongrel.rb:285:in `run'
d:/Ruby/lib/ruby/gems/1.8/gems/mongrel-1.1.5-x86-mswin32-60/lib/mongrel.rb:268:in `initialize'
d:/Ruby/lib/ruby/gems/1.8/gems/mongrel-1.1.5-x86-mswin32-60/lib/mongrel.rb:268:in `new'
d:/Ruby/lib/ruby/gems/1.8/gems/mongrel-1.1.5-x86-mswin32-60/lib/mongrel.rb:268:in `run'
d:/Ruby/lib/ruby/gems/1.8/gems/rack-1.0.1/lib/rack/handler/mongrel.rb:34:in `run'
d:/Ruby/lib/ruby/gems/1.8/gems/rails-2.3.5/lib/commands/server.rb:111
d:/Ruby/lib/ruby/site_ruby/1.8/rubygems/custom_require.rb:31:in `gem_original_require'
d:/Ruby/lib/ruby/site_ruby/1.8/rubygems/custom_require.rb:31:in `require'
script/server:3

ActionView::TemplateError (compile error
d:/haipeng/ror/finance/app/views/expense/batch_new.html.erb:3: syntax error, unexpected kDO_BLOCK
...ion => 'batch_create' } |f| do ; @output_buffer.concat "\n"
                              ^
d:/haipeng/ror/finance/app/views/expense/batch_new.html.erb:30: syntax error, unexpected kEND
@output_buffer.concat(( end ).to_s); @output_buffer.concat "\n"
                           ^) on line #3 of app/views/expense/batch_new.html.erb:
1: <div>
2:   <h2>批量添加消费记录</h2>
3:   <% form_for :batch_expense_item, :url => { :action => 'batch_create' } |f| do %>
4:     <p>
5:     <%= f.label :date_from, '起始时间' %>
6:     <%= f.text_field :date_from %>

    app/views/expense/batch_new.html.erb:35:in `compile!'

Rendered rescues/_trace (110.0ms)
Rendered rescues/_request_and_response (0.0ms)
Rendering rescues/layout (internal_server_error)
  [4;35;1mSQL (0.0ms)[0m   [0mSET NAMES 'utf8'[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mSET SQL_AUTO_IS_NULL=0[0m


Processing ExpenseController#batch_new (for 127.0.0.1 at 2010-04-28 22:57:40) [GET]
Rendering template within layouts/expense
Rendering expense/batch_new
ERROR: compiling _run_erb_app47views47expense47batch_new46html46erb RAISED compile error
d:/haipeng/ror/finance/app/views/expense/batch_new.html.erb:30: syntax error, unexpected kEND
@output_buffer.concat(( end ).to_s); @output_buffer.concat "\n"
                           ^
d:/haipeng/ror/finance/app/views/expense/batch_new.html.erb:33: syntax error, unexpected kENSURE, expecting kEND
d:/haipeng/ror/finance/app/views/expense/batch_new.html.erb:35: syntax error, unexpected $end, expecting kEND
Function body:           def _run_erb_app47views47expense47batch_new46html46erb(local_assigns)
            old_output_buffer = output_buffer;;@output_buffer = '';  __in_erb_template=true ; @output_buffer.concat "<div>\n"
@output_buffer.concat "  <h2>\346\211\271\351\207\217\346\267\273\345\212\240\346\266\210\350\264\271\350\256\260\345\275\225</h2>\n"
@output_buffer.concat "  ";  form_for :batch_expense_item, :url => { :action => 'batch_create' } do |f| ; @output_buffer.concat "\n"
@output_buffer.concat "    <p>\n"
@output_buffer.concat "    "; @output_buffer.concat(( f.label :date_from, '起始时间' ).to_s); @output_buffer.concat "\n"
@output_buffer.concat "    "; @output_buffer.concat(( f.text_field :date_from ).to_s); @output_buffer.concat "\n"
@output_buffer.concat "    </p>\n"
@output_buffer.concat "\n"
@output_buffer.concat "    <p>\n"
@output_buffer.concat "    "; @output_buffer.concat(( f.label :date_to, '结束时间' ).to_s); @output_buffer.concat "\n"
@output_buffer.concat "    "; @output_buffer.concat(( f.text_field :date_to ).to_s); @output_buffer.concat "\n"
@output_buffer.concat "    </p>\n"
@output_buffer.concat "\n"
@output_buffer.concat "    <p>\n"
@output_buffer.concat "    "; @output_buffer.concat(( f.label :expense_type_id, '类型' ).to_s); @output_buffer.concat "\n"
@output_buffer.concat "    "; @output_buffer.concat(( f.select :expense_type_id, @all_types ).to_s); @output_buffer.concat "\n"
@output_buffer.concat "    </p>\n"
@output_buffer.concat "\n"
@output_buffer.concat "    <p>\n"
@output_buffer.concat "    "; @output_buffer.concat(( f.label :value, '金额' ).to_s); @output_buffer.concat "\n"
@output_buffer.concat "    "; @output_buffer.concat(( f.text_field :value ).to_s); @output_buffer.concat "\n"
@output_buffer.concat "    </p>\n"
@output_buffer.concat "\n"
@output_buffer.concat "    <p>\n"
@output_buffer.concat "    "; @output_buffer.concat(( f.label :note, '备注' ).to_s); @output_buffer.concat "\n"
@output_buffer.concat "    "; @output_buffer.concat(( f.text_area :note ).to_s); @output_buffer.concat "\n"
@output_buffer.concat "    </p>\n"
@output_buffer.concat "\n"
@output_buffer.concat "    "; @output_buffer.concat(( submit_tag '提交' ).to_s); @output_buffer.concat "\n"
@output_buffer.concat(( end ).to_s); @output_buffer.concat "\n"
@output_buffer.concat "</div>\n"
@output_buffer
          ensure
            self.output_buffer = old_output_buffer
          end
Backtrace: d:/haipeng/ror/finance/app/views/expense/batch_new.html.erb:35:in `compile!'
d:/Ruby/lib/ruby/gems/1.8/gems/actionpack-2.3.5/lib/action_view/renderable.rb:61:in `compile'
d:/Ruby/lib/ruby/gems/1.8/gems/actionpack-2.3.5/lib/action_view/renderable.rb:28:in `render'
d:/Ruby/lib/ruby/gems/1.8/gems/actionpack-2.3.5/lib/action_view/template.rb:205:in `render_template'
d:/Ruby/lib/ruby/gems/1.8/gems/actionpack-2.3.5/lib/action_view/base.rb:265:in `render'
d:/Ruby/lib/ruby/gems/1.8/gems/actionpack-2.3.5/lib/action_view/base.rb:348:in `_render_with_layout'
d:/Ruby/lib/ruby/gems/1.8/gems/actionpack-2.3.5/lib/action_view/base.rb:262:in `render'
d:/Ruby/lib/ruby/gems/1.8/gems/actionpack-2.3.5/lib/action_controller/base.rb:1250:in `render_for_file'
d:/Ruby/lib/ruby/gems/1.8/gems/actionpack-2.3.5/lib/action_controller/base.rb:945:in `render_without_benchmark'
d:/Ruby/lib/ruby/gems/1.8/gems/actionpack-2.3.5/lib/action_controller/benchmarking.rb:51:in `render'
d:/Ruby/lib/ruby/gems/1.8/gems/activesupport-2.3.5/lib/active_support/core_ext/benchmark.rb:17:in `ms'
d:/Ruby/lib/ruby/gems/1.8/gems/activesupport-2.3.5/lib/active_support/core_ext/benchmark.rb:10:in `realtime'
d:/Ruby/lib/ruby/gems/1.8/gems/activesupport-2.3.5/lib/active_support/core_ext/benchmark.rb:17:in `ms'
d:/Ruby/lib/ruby/gems/1.8/gems/actionpack-2.3.5/lib/action_controller/benchmarking.rb:51:in `render'
d:/Ruby/lib/ruby/gems/1.8/gems/actionpack-2.3.5/lib/action_controller/base.rb:1326:in `default_render'
d:/Ruby/lib/ruby/gems/1.8/gems/actionpack-2.3.5/lib/action_controller/base.rb:1332:in `perform_action_without_filters'
d:/Ruby/lib/ruby/gems/1.8/gems/actionpack-2.3.5/lib/action_controller/filters.rb:617:in `call_filters'
d:/Ruby/lib/ruby/gems/1.8/gems/actionpack-2.3.5/lib/action_controller/filters.rb:610:in `perform_action_without_benchmark'
d:/Ruby/lib/ruby/gems/1.8/gems/actionpack-2.3.5/lib/action_controller/benchmarking.rb:68:in `perform_action_without_rescue'
d:/Ruby/lib/ruby/gems/1.8/gems/activesupport-2.3.5/lib/active_support/core_ext/benchmark.rb:17:in `ms'
d:/Ruby/lib/ruby/gems/1.8/gems/activesupport-2.3.5/lib/active_support/core_ext/benchmark.rb:10:in `realtime'
d:/Ruby/lib/ruby/gems/1.8/gems/activesupport-2.3.5/lib/active_support/core_ext/benchmark.rb:17:in `ms'
d:/Ruby/lib/ruby/gems/1.8/gems/actionpack-2.3.5/lib/action_controller/benchmarking.rb:68:in `perform_action_without_rescue'
d:/Ruby/lib/ruby/gems/1.8/gems/actionpack-2.3.5/lib/action_controller/rescue.rb:160:in `perform_action_without_flash'
d:/Ruby/lib/ruby/gems/1.8/gems/actionpack-2.3.5/lib/action_controller/flash.rb:146:in `perform_action'
d:/Ruby/lib/ruby/gems/1.8/gems/actionpack-2.3.5/lib/action_controller/base.rb:532:in `send'
d:/Ruby/lib/ruby/gems/1.8/gems/actionpack-2.3.5/lib/action_controller/base.rb:532:in `process_without_filters'
d:/Ruby/lib/ruby/gems/1.8/gems/actionpack-2.3.5/lib/action_controller/filters.rb:606:in `process'
d:/Ruby/lib/ruby/gems/1.8/gems/actionpack-2.3.5/lib/action_controller/base.rb:391:in `process'
d:/Ruby/lib/ruby/gems/1.8/gems/actionpack-2.3.5/lib/action_controller/base.rb:386:in `call'
d:/Ruby/lib/ruby/gems/1.8/gems/actionpack-2.3.5/lib/action_controller/routing/route_set.rb:437:in `call'
d:/Ruby/lib/ruby/gems/1.8/gems/actionpack-2.3.5/lib/action_controller/dispatcher.rb:87:in `dispatch'
d:/Ruby/lib/ruby/gems/1.8/gems/actionpack-2.3.5/lib/action_controller/dispatcher.rb:121:in `_call'
d:/Ruby/lib/ruby/gems/1.8/gems/actionpack-2.3.5/lib/action_controller/dispatcher.rb:130:in `build_middleware_stack'
d:/Ruby/lib/ruby/gems/1.8/gems/activerecord-2.3.5/lib/active_record/query_cache.rb:29:in `call'
d:/Ruby/lib/ruby/gems/1.8/gems/activerecord-2.3.5/lib/active_record/query_cache.rb:29:in `call'
d:/Ruby/lib/ruby/gems/1.8/gems/activerecord-2.3.5/lib/active_record/connection_adapters/abstract/query_cache.rb:34:in `cache'
d:/Ruby/lib/ruby/gems/1.8/gems/activerecord-2.3.5/lib/active_record/query_cache.rb:9:in `cache'
d:/Ruby/lib/ruby/gems/1.8/gems/activerecord-2.3.5/lib/active_record/query_cache.rb:28:in `call'
d:/Ruby/lib/ruby/gems/1.8/gems/activerecord-2.3.5/lib/active_record/connection_adapters/abstract/connection_pool.rb:361:in `call'
d:/Ruby/lib/ruby/gems/1.8/gems/actionpack-2.3.5/lib/action_controller/string_coercion.rb:25:in `call'
d:/Ruby/lib/ruby/gems/1.8/gems/rack-1.0.1/lib/rack/head.rb:9:in `call'
d:/Ruby/lib/ruby/gems/1.8/gems/rack-1.0.1/lib/rack/methodoverride.rb:24:in `call'
d:/Ruby/lib/ruby/gems/1.8/gems/actionpack-2.3.5/lib/action_controller/params_parser.rb:15:in `call'
d:/Ruby/lib/ruby/gems/1.8/gems/actionpack-2.3.5/lib/action_controller/session/cookie_store.rb:93:in `call'
d:/Ruby/lib/ruby/gems/1.8/gems/actionpack-2.3.5/lib/action_controller/failsafe.rb:26:in `call'
d:/Ruby/lib/ruby/gems/1.8/gems/rack-1.0.1/lib/rack/lock.rb:11:in `call'
d:/Ruby/lib/ruby/gems/1.8/gems/rack-1.0.1/lib/rack/lock.rb:11:in `synchronize'
d:/Ruby/lib/ruby/gems/1.8/gems/rack-1.0.1/lib/rack/lock.rb:11:in `call'
d:/Ruby/lib/ruby/gems/1.8/gems/actionpack-2.3.5/lib/action_controller/dispatcher.rb:114:in `call'
d:/Ruby/lib/ruby/gems/1.8/gems/actionpack-2.3.5/lib/action_controller/reloader.rb:34:in `run'
d:/Ruby/lib/ruby/gems/1.8/gems/actionpack-2.3.5/lib/action_controller/dispatcher.rb:108:in `call'
d:/Ruby/lib/ruby/gems/1.8/gems/rails-2.3.5/lib/rails/rack/static.rb:31:in `call'
d:/Ruby/lib/ruby/gems/1.8/gems/rack-1.0.1/lib/rack/urlmap.rb:46:in `call'
d:/Ruby/lib/ruby/gems/1.8/gems/rack-1.0.1/lib/rack/urlmap.rb:40:in `each'
d:/Ruby/lib/ruby/gems/1.8/gems/rack-1.0.1/lib/rack/urlmap.rb:40:in `call'
d:/Ruby/lib/ruby/gems/1.8/gems/rails-2.3.5/lib/rails/rack/log_tailer.rb:17:in `call'
d:/Ruby/lib/ruby/gems/1.8/gems/rack-1.0.1/lib/rack/content_length.rb:13:in `call'
d:/Ruby/lib/ruby/gems/1.8/gems/rack-1.0.1/lib/rack/chunked.rb:15:in `call'
d:/Ruby/lib/ruby/gems/1.8/gems/rack-1.0.1/lib/rack/handler/mongrel.rb:64:in `process'
d:/Ruby/lib/ruby/gems/1.8/gems/mongrel-1.1.5-x86-mswin32-60/lib/mongrel.rb:159:in `process_client'
d:/Ruby/lib/ruby/gems/1.8/gems/mongrel-1.1.5-x86-mswin32-60/lib/mongrel.rb:158:in `each'
d:/Ruby/lib/ruby/gems/1.8/gems/mongrel-1.1.5-x86-mswin32-60/lib/mongrel.rb:158:in `process_client'
d:/Ruby/lib/ruby/gems/1.8/gems/mongrel-1.1.5-x86-mswin32-60/lib/mongrel.rb:285:in `run'
d:/Ruby/lib/ruby/gems/1.8/gems/mongrel-1.1.5-x86-mswin32-60/lib/mongrel.rb:285:in `initialize'
d:/Ruby/lib/ruby/gems/1.8/gems/mongrel-1.1.5-x86-mswin32-60/lib/mongrel.rb:285:in `new'
d:/Ruby/lib/ruby/gems/1.8/gems/mongrel-1.1.5-x86-mswin32-60/lib/mongrel.rb:285:in `run'
d:/Ruby/lib/ruby/gems/1.8/gems/mongrel-1.1.5-x86-mswin32-60/lib/mongrel.rb:268:in `initialize'
d:/Ruby/lib/ruby/gems/1.8/gems/mongrel-1.1.5-x86-mswin32-60/lib/mongrel.rb:268:in `new'
d:/Ruby/lib/ruby/gems/1.8/gems/mongrel-1.1.5-x86-mswin32-60/lib/mongrel.rb:268:in `run'
d:/Ruby/lib/ruby/gems/1.8/gems/rack-1.0.1/lib/rack/handler/mongrel.rb:34:in `run'
d:/Ruby/lib/ruby/gems/1.8/gems/rails-2.3.5/lib/commands/server.rb:111
d:/Ruby/lib/ruby/site_ruby/1.8/rubygems/custom_require.rb:31:in `gem_original_require'
d:/Ruby/lib/ruby/site_ruby/1.8/rubygems/custom_require.rb:31:in `require'
script/server:3

ActionView::TemplateError (compile error
d:/haipeng/ror/finance/app/views/expense/batch_new.html.erb:30: syntax error, unexpected kEND
@output_buffer.concat(( end ).to_s); @output_buffer.concat "\n"
                           ^
d:/haipeng/ror/finance/app/views/expense/batch_new.html.erb:33: syntax error, unexpected kENSURE, expecting kEND
d:/haipeng/ror/finance/app/views/expense/batch_new.html.erb:35: syntax error, unexpected $end, expecting kEND) on line #30 of app/views/expense/batch_new.html.erb:
27:     </p>
28: 
29:     <%= submit_tag '提交' %>
30: <%= end %>
31: </div>

    app/views/expense/batch_new.html.erb:35:in `compile!'

Rendered rescues/_trace (192.0ms)
Rendered rescues/_request_and_response (1.0ms)
Rendering rescues/layout (internal_server_error)
  [4;35;1mSQL (0.0ms)[0m   [0mSET NAMES 'utf8'[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mSET SQL_AUTO_IS_NULL=0[0m


Processing ExpenseController#batch_new (for 127.0.0.1 at 2010-04-28 22:57:53) [GET]
Rendering template within layouts/expense
Rendering expense/batch_new

ActionView::TemplateError (You have a nil object when you didn't expect it!
You might have expected an instance of Array.
The error occurred while evaluating nil.inject) on line #16 of app/views/expense/batch_new.html.erb:
13: 
14:     <p>
15:     <%= f.label :expense_type_id, '类型' %>
16:     <%= f.select :expense_type_id, @all_types %>
17:     </p>
18: 
19:     <p>

    app/views/expense/batch_new.html.erb:16
    app/views/expense/batch_new.html.erb:3

Rendered rescues/_trace (123.0ms)
Rendered rescues/_request_and_response (0.0ms)
Rendering rescues/layout (internal_server_error)
  [4;35;1mSQL (1.0ms)[0m   [0mSET NAMES 'utf8'[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mSET SQL_AUTO_IS_NULL=0[0m


Processing ExpenseController#batch_new (for 127.0.0.1 at 2010-04-28 22:58:44) [GET]
  [4;35;1mExpenseType Load (1.0ms)[0m   [0mSELECT * FROM `expense_types` [0m
  [4;36;1mExpenseType Columns (7.0ms)[0m   [0;1mSHOW FIELDS FROM `expense_types`[0m
Rendering template within layouts/expense
Rendering expense/batch_new
Completed in 56ms (View: 27, DB: 9) | 200 OK [http://localhost/expense/batch_new]
  [4;35;1mSQL (1.0ms)[0m   [0mSET NAMES 'utf8'[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mSET SQL_AUTO_IS_NULL=0[0m


Processing ExpenseController#batch_new (for 127.0.0.1 at 2010-04-28 23:04:25) [GET]
  [4;35;1mExpenseType Load (1.0ms)[0m   [0mSELECT * FROM `expense_types` [0m
  [4;36;1mExpenseType Columns (9.0ms)[0m   [0;1mSHOW FIELDS FROM `expense_types`[0m
Rendering template within layouts/expense
Rendering expense/batch_new
Completed in 45ms (View: 14, DB: 11) | 200 OK [http://localhost/expense/batch_new]
  [4;35;1mSQL (0.0ms)[0m   [0mSET NAMES 'utf8'[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mSET SQL_AUTO_IS_NULL=0[0m


Processing ExpenseController#batch_create (for 127.0.0.1 at 2010-04-28 23:04:44) [POST]
  Parameters: {"commit"=>"提交", "authenticity_token"=>"Zh+fvkCRgcJdtOAaZqYwfdA1q7u8E2VLz23S1HZATco=", "batch_expense_item"=>{"date_to"=>"2010-4-5", "date_from"=>"2010-4-2", "value"=>"10.1", "note"=>"每天都打车", "expense_type_id"=>"1"}}

NameError (uninitialized constant ExpenseController::True):
  app/controllers/expense_controller.rb:98:in `batch_create'

Rendered rescues/_trace (90.0ms)
Rendered rescues/_request_and_response (1.0ms)
Rendering rescues/layout (internal_server_error)
  [4;35;1mSQL (0.0ms)[0m   [0mSET NAMES 'utf8'[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mSET SQL_AUTO_IS_NULL=0[0m


Processing ExpenseController#batch_new (for 127.0.0.1 at 2010-04-28 23:06:51) [GET]
  [4;35;1mExpenseType Load (1.0ms)[0m   [0mSELECT * FROM `expense_types` [0m
  [4;36;1mExpenseType Columns (8.0ms)[0m   [0;1mSHOW FIELDS FROM `expense_types`[0m
Rendering template within layouts/expense
Rendering expense/batch_new
Completed in 42ms (View: 15, DB: 9) | 200 OK [http://localhost/expense/batch_new]
  [4;35;1mSQL (0.0ms)[0m   [0mSET NAMES 'utf8'[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mSET SQL_AUTO_IS_NULL=0[0m


Processing ExpenseController#batch_create (for 127.0.0.1 at 2010-04-28 23:06:54) [POST]
  Parameters: {"commit"=>"提交", "authenticity_token"=>"Zh+fvkCRgcJdtOAaZqYwfdA1q7u8E2VLz23S1HZATco=", "batch_expense_item"=>{"date_to"=>"2010-4-5", "date_from"=>"2010-4-2", "value"=>"10.1", "note"=>"每天都打车", "expense_type_id"=>"1"}}

TypeError (can't dup NilClass):
  d:/Ruby/lib/ruby/1.8/date/format.rb:959:in `dup'
  d:/Ruby/lib/ruby/1.8/date/format.rb:959:in `_parse'
  d:/Ruby/lib/ruby/1.8/date.rb:974:in `parse'
  app/controllers/expense_controller.rb:99:in `batch_create'

Rendered rescues/_trace (95.0ms)
Rendered rescues/_request_and_response (1.0ms)
Rendering rescues/layout (internal_server_error)
  [4;35;1mSQL (0.0ms)[0m   [0mSET NAMES 'utf8'[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mSET SQL_AUTO_IS_NULL=0[0m


Processing ExpenseController#batch_new (for 127.0.0.1 at 2010-04-28 23:07:55) [GET]
  [4;35;1mExpenseType Load (1.0ms)[0m   [0mSELECT * FROM `expense_types` [0m
  [4;36;1mExpenseType Columns (8.0ms)[0m   [0;1mSHOW FIELDS FROM `expense_types`[0m
Rendering template within layouts/expense
Rendering expense/batch_new
Completed in 68ms (View: 30, DB: 9) | 200 OK [http://localhost/expense/batch_new]
  [4;35;1mSQL (3.0ms)[0m   [0mSET NAMES 'utf8'[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mSET SQL_AUTO_IS_NULL=0[0m


Processing ExpenseController#batch_create (for 127.0.0.1 at 2010-04-28 23:08:11) [POST]
  Parameters: {"commit"=>"提交", "authenticity_token"=>"Zh+fvkCRgcJdtOAaZqYwfdA1q7u8E2VLz23S1HZATco=", "expense_items"=>{"date_to"=>"2010-4-5", "date_from"=>"2010-4-2", "value"=>"10.1", "note"=>"每天都打车", "expense_type_id"=>"1"}}
  [4;35;1mExpenseItem Columns (9.0ms)[0m   [0mSHOW FIELDS FROM `expense_items`[0m

NoMethodError (undefined method `type=' for #<ExpenseItem:0xa2c7cf8>):
  app/controllers/expense_controller.rb:102:in `batch_create'
  app/controllers/expense_controller.rb:99:in `each'
  app/controllers/expense_controller.rb:99:in `batch_create'

Rendered rescues/_trace (175.0ms)
Rendered rescues/_request_and_response (1.0ms)
Rendering rescues/layout (internal_server_error)
  [4;36;1mSQL (1.0ms)[0m   [0;1mSET NAMES 'utf8'[0m
  [4;35;1mSQL (0.0ms)[0m   [0mSET SQL_AUTO_IS_NULL=0[0m


Processing ExpenseController#batch_new (for 127.0.0.1 at 2010-04-28 23:09:27) [GET]
  [4;36;1mExpenseType Load (1.0ms)[0m   [0;1mSELECT * FROM `expense_types` [0m
  [4;35;1mExpenseType Columns (8.0ms)[0m   [0mSHOW FIELDS FROM `expense_types`[0m
Rendering template within layouts/expense
Rendering expense/batch_new
Completed in 56ms (View: 26, DB: 10) | 200 OK [http://localhost/expense/batch_new]
  [4;36;1mSQL (0.0ms)[0m   [0;1mSET NAMES 'utf8'[0m
  [4;35;1mSQL (1.0ms)[0m   [0mSET SQL_AUTO_IS_NULL=0[0m


Processing ExpenseController#batch_create (for 127.0.0.1 at 2010-04-28 23:09:29) [POST]
  Parameters: {"commit"=>"提交", "authenticity_token"=>"Zh+fvkCRgcJdtOAaZqYwfdA1q7u8E2VLz23S1HZATco=", "expense_items"=>{"date_to"=>"2010-4-5", "date_from"=>"2010-4-2", "value"=>"10.1", "note"=>"每天都打车", "expense_type_id"=>"1"}}
  [4;36;1mExpenseItem Columns (9.0ms)[0m   [0;1mSHOW FIELDS FROM `expense_items`[0m
  [4;35;1mSQL (6.0ms)[0m   [0mBEGIN[0m
  [4;36;1mSQL (1.0ms)[0m   [0;1mROLLBACK[0m

ActiveRecord::RecordInvalid (Validation failed: Value is not a number, Value 至少一分钱):
  app/controllers/expense_controller.rb:105:in `batch_create'
  app/controllers/expense_controller.rb:99:in `each'
  app/controllers/expense_controller.rb:99:in `batch_create'

Rendered rescues/_trace (105.0ms)
Rendered rescues/_request_and_response (1.0ms)
Rendering rescues/layout (unprocessable_entity)
  [4;35;1mSQL (0.0ms)[0m   [0mSET NAMES 'utf8'[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mSET SQL_AUTO_IS_NULL=0[0m


Processing ExpenseController#batch_new (for 127.0.0.1 at 2010-04-28 23:11:55) [GET]
  [4;35;1mExpenseType Load (1.0ms)[0m   [0mSELECT * FROM `expense_types` [0m
  [4;36;1mExpenseType Columns (8.0ms)[0m   [0;1mSHOW FIELDS FROM `expense_types`[0m
Rendering template within layouts/expense
Rendering expense/batch_new
Completed in 42ms (View: 14, DB: 9) | 200 OK [http://localhost/expense/batch_new]
  [4;35;1mSQL (1.0ms)[0m   [0mSET NAMES 'utf8'[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mSET SQL_AUTO_IS_NULL=0[0m


Processing ExpenseController#batch_create (for 127.0.0.1 at 2010-04-28 23:11:58) [POST]
  Parameters: {"commit"=>"提交", "authenticity_token"=>"Zh+fvkCRgcJdtOAaZqYwfdA1q7u8E2VLz23S1HZATco=", "expense_items"=>{"date_to"=>"2010-4-5", "date_from"=>"2010-4-2", "value"=>"10.1", "note"=>"每天都打车", "expense_type_id"=>"1"}}
  [4;35;1mExpenseItem Columns (10.0ms)[0m   [0mSHOW FIELDS FROM `expense_items`[0m
  [4;36;1mSQL (12.0ms)[0m   [0;1mBEGIN[0m
  [4;35;1mExpenseItem Create (67.0ms)[0m   [0mINSERT INTO `expense_items` (`updated_at`, `date`, `value`, `expense_type_id`, `note`, `created_at`) VALUES('2010-04-28 15:11:58', '2010-04-02', 10.1, 1, '每天都打车', '2010-04-28 15:11:58')[0m
  [4;36;1mSQL (44.0ms)[0m   [0;1mCOMMIT[0m
  [4;35;1mSQL (0.0ms)[0m   [0mBEGIN[0m
  [4;36;1mExpenseItem Create (1.0ms)[0m   [0;1mINSERT INTO `expense_items` (`updated_at`, `date`, `value`, `expense_type_id`, `note`, `created_at`) VALUES('2010-04-28 15:11:59', '2010-04-03', 10.1, 1, '每天都打车', '2010-04-28 15:11:59')[0m
  [4;35;1mSQL (66.0ms)[0m   [0mCOMMIT[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mBEGIN[0m
  [4;35;1mExpenseItem Create (1.0ms)[0m   [0mINSERT INTO `expense_items` (`updated_at`, `date`, `value`, `expense_type_id`, `note`, `created_at`) VALUES('2010-04-28 15:11:59', '2010-04-04', 10.1, 1, '每天都打车', '2010-04-28 15:11:59')[0m
  [4;36;1mSQL (17.0ms)[0m   [0;1mCOMMIT[0m
  [4;35;1mSQL (1.0ms)[0m   [0mBEGIN[0m
  [4;36;1mExpenseItem Create (0.0ms)[0m   [0;1mINSERT INTO `expense_items` (`updated_at`, `date`, `value`, `expense_type_id`, `note`, `created_at`) VALUES('2010-04-28 15:11:59', '2010-04-05', 10.1, 1, '每天都打车', '2010-04-28 15:11:59')[0m
  [4;35;1mSQL (18.0ms)[0m   [0mCOMMIT[0m

NoMethodError (undefined method `redirect' for #<ExpenseController:0xa311120>):
  app/controllers/expense_controller.rb:111:in `batch_create'
  app/controllers/expense_controller.rb:109:in `batch_create'

Rendered rescues/_trace (196.0ms)
Rendered rescues/_request_and_response (1.0ms)
Rendering rescues/layout (internal_server_error)
  [4;36;1mSQL (1.0ms)[0m   [0;1mSET NAMES 'utf8'[0m
  [4;35;1mSQL (1.0ms)[0m   [0mSET SQL_AUTO_IS_NULL=0[0m


Processing ExpenseController#index (for 127.0.0.1 at 2010-04-28 23:12:45) [GET]
  [4;36;1mExpenseItem Load (1.0ms)[0m   [0;1mSELECT * FROM `expense_items` WHERE (date BETWEEN '2010-04-01' and '2010-04-30') [0m
Rendering template within layouts/expense
Rendering expense/index
  [4;35;1mExpenseItem Columns (8.0ms)[0m   [0mSHOW FIELDS FROM `expense_items`[0m
  [4;36;1mExpenseType Columns (6.0ms)[0m   [0;1mSHOW FIELDS FROM `expense_types`[0m
  [4;35;1mExpenseType Load (8.0ms)[0m   [0mSELECT * FROM `expense_types` WHERE (`expense_types`.`id` = 2) [0m
  [4;36;1mExpenseType Load (0.0ms)[0m   [0;1mSELECT * FROM `expense_types` WHERE (`expense_types`.`id` = 1) [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM `expense_types` WHERE (`expense_types`.`id` = 2) [0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT * FROM `expense_types` WHERE (`expense_types`.`id` = 1) [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM `expense_types` WHERE (`expense_types`.`id` = 1) [0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT * FROM `expense_types` WHERE (`expense_types`.`id` = 1) [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM `expense_types` WHERE (`expense_types`.`id` = 1) [0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT * FROM `expense_types` WHERE (`expense_types`.`id` = 1) [0m
Completed in 175ms (View: 134, DB: 25) | 200 OK [http://localhost/expense/]
  [4;35;1mSQL (0.0ms)[0m   [0mSET NAMES 'utf8'[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mSET SQL_AUTO_IS_NULL=0[0m


Processing ExpenseController#batch_new (for 127.0.0.1 at 2010-04-28 23:12:53) [GET]
  [4;35;1mExpenseType Load (0.0ms)[0m   [0mSELECT * FROM `expense_types` [0m
  [4;36;1mExpenseType Columns (8.0ms)[0m   [0;1mSHOW FIELDS FROM `expense_types`[0m
Rendering template within layouts/expense
Rendering expense/batch_new
Completed in 51ms (View: 13, DB: 8) | 200 OK [http://localhost/expense/batch_new]
  [4;35;1mSQL (1.0ms)[0m   [0mSET NAMES 'utf8'[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mSET SQL_AUTO_IS_NULL=0[0m


Processing ApplicationController#batch_create (for 127.0.0.1 at 2010-04-28 23:15:36) [POST]
  Parameters: {"commit"=>"提交", "authenticity_token"=>"Zh+fvkCRgcJdtOAaZqYwfdA1q7u8E2VLz23S1HZATco=", "expense_items"=>{"date_to"=>"2010-4-1", "date_from"=>"2010-3-2", "value"=>"11", "note"=>"每天吃一顿", "expense_type_id"=>"2"}}

SyntaxError (d:/haipeng/ror/finance/app/controllers/expense_controller.rb:114: syntax error, unexpected '}'
d:/haipeng/ror/finance/app/controllers/expense_controller.rb:119: syntax error, unexpected kEND, expecting '}'
d:/haipeng/ror/finance/app/controllers/expense_controller.rb:152: syntax error, unexpected kEND, expecting '}'):
  

Rendered rescues/_trace (164.0ms)
Rendered rescues/_request_and_response (1.0ms)
Rendering rescues/layout (internal_server_error)
  [4;35;1mSQL (0.0ms)[0m   [0mSET NAMES 'utf8'[0m
  [4;36;1mSQL (1.0ms)[0m   [0;1mSET SQL_AUTO_IS_NULL=0[0m


Processing ExpenseController#batch_new (for 127.0.0.1 at 2010-04-28 23:16:13) [GET]
  [4;35;1mExpenseType Load (1.0ms)[0m   [0mSELECT * FROM `expense_types` [0m
  [4;36;1mExpenseType Columns (10.0ms)[0m   [0;1mSHOW FIELDS FROM `expense_types`[0m
Rendering template within layouts/expense
Rendering expense/batch_new
Completed in 55ms (View: 15, DB: 12) | 200 OK [http://localhost/expense/batch_new]
  [4;35;1mSQL (0.0ms)[0m   [0mSET NAMES 'utf8'[0m
  [4;36;1mSQL (1.0ms)[0m   [0;1mSET SQL_AUTO_IS_NULL=0[0m


Processing ExpenseController#batch_create (for 127.0.0.1 at 2010-04-28 23:16:16) [POST]
  Parameters: {"commit"=>"提交", "authenticity_token"=>"Zh+fvkCRgcJdtOAaZqYwfdA1q7u8E2VLz23S1HZATco=", "expense_items"=>{"date_to"=>"2010-4-1", "date_from"=>"2010-3-2", "value"=>"11", "note"=>"每天吃一顿", "expense_type_id"=>"2"}}
  [4;35;1mExpenseItem Columns (9.0ms)[0m   [0mSHOW FIELDS FROM `expense_items`[0m
  [4;36;1mSQL (7.0ms)[0m   [0;1mBEGIN[0m
  [4;35;1mExpenseItem Create (19.0ms)[0m   [0mINSERT INTO `expense_items` (`updated_at`, `date`, `value`, `expense_type_id`, `note`, `created_at`) VALUES('2010-04-28 15:16:16', '2010-03-02', 11.0, 2, '每天吃一顿', '2010-04-28 15:16:16')[0m
  [4;36;1mSQL (93.0ms)[0m   [0;1mCOMMIT[0m
  [4;35;1mSQL (0.0ms)[0m   [0mBEGIN[0m
  [4;36;1mExpenseItem Create (0.0ms)[0m   [0;1mINSERT INTO `expense_items` (`updated_at`, `date`, `value`, `expense_type_id`, `note`, `created_at`) VALUES('2010-04-28 15:16:16', '2010-03-03', 11.0, 2, '每天吃一顿', '2010-04-28 15:16:16')[0m
  [4;35;1mSQL (30.0ms)[0m   [0mCOMMIT[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mBEGIN[0m
  [4;35;1mExpenseItem Create (1.0ms)[0m   [0mINSERT INTO `expense_items` (`updated_at`, `date`, `value`, `expense_type_id`, `note`, `created_at`) VALUES('2010-04-28 15:16:16', '2010-03-04', 11.0, 2, '每天吃一顿', '2010-04-28 15:16:16')[0m
  [4;36;1mSQL (18.0ms)[0m   [0;1mCOMMIT[0m
  [4;35;1mSQL (1.0ms)[0m   [0mBEGIN[0m
  [4;36;1mExpenseItem Create (0.0ms)[0m   [0;1mINSERT INTO `expense_items` (`updated_at`, `date`, `value`, `expense_type_id`, `note`, `created_at`) VALUES('2010-04-28 15:16:16', '2010-03-05', 11.0, 2, '每天吃一顿', '2010-04-28 15:16:16')[0m
  [4;35;1mSQL (26.0ms)[0m   [0mCOMMIT[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mBEGIN[0m
  [4;35;1mExpenseItem Create (1.0ms)[0m   [0mINSERT INTO `expense_items` (`updated_at`, `date`, `value`, `expense_type_id`, `note`, `created_at`) VALUES('2010-04-28 15:16:16', '2010-03-06', 11.0, 2, '每天吃一顿', '2010-04-28 15:16:16')[0m
  [4;36;1mSQL (17.0ms)[0m   [0;1mCOMMIT[0m
  [4;35;1mSQL (0.0ms)[0m   [0mBEGIN[0m
  [4;36;1mExpenseItem Create (0.0ms)[0m   [0;1mINSERT INTO `expense_items` (`updated_at`, `date`, `value`, `expense_type_id`, `note`, `created_at`) VALUES('2010-04-28 15:16:16', '2010-03-07', 11.0, 2, '每天吃一顿', '2010-04-28 15:16:16')[0m
  [4;35;1mSQL (18.0ms)[0m   [0mCOMMIT[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mBEGIN[0m
  [4;35;1mExpenseItem Create (0.0ms)[0m   [0mINSERT INTO `expense_items` (`updated_at`, `date`, `value`, `expense_type_id`, `note`, `created_at`) VALUES('2010-04-28 15:16:16', '2010-03-08', 11.0, 2, '每天吃一顿', '2010-04-28 15:16:16')[0m
  [4;36;1mSQL (18.0ms)[0m   [0;1mCOMMIT[0m
  [4;35;1mSQL (0.0ms)[0m   [0mBEGIN[0m
  [4;36;1mExpenseItem Create (1.0ms)[0m   [0;1mINSERT INTO `expense_items` (`updated_at`, `date`, `value`, `expense_type_id`, `note`, `created_at`) VALUES('2010-04-28 15:16:16', '2010-03-09', 11.0, 2, '每天吃一顿', '2010-04-28 15:16:16')[0m
  [4;35;1mSQL (17.0ms)[0m   [0mCOMMIT[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mBEGIN[0m
  [4;35;1mExpenseItem Create (0.0ms)[0m   [0mINSERT INTO `expense_items` (`updated_at`, `date`, `value`, `expense_type_id`, `note`, `created_at`) VALUES('2010-04-28 15:16:16', '2010-03-10', 11.0, 2, '每天吃一顿', '2010-04-28 15:16:16')[0m
  [4;36;1mSQL (18.0ms)[0m   [0;1mCOMMIT[0m
  [4;35;1mSQL (0.0ms)[0m   [0mBEGIN[0m
  [4;36;1mExpenseItem Create (0.0ms)[0m   [0;1mINSERT INTO `expense_items` (`updated_at`, `date`, `value`, `expense_type_id`, `note`, `created_at`) VALUES('2010-04-28 15:16:16', '2010-03-11', 11.0, 2, '每天吃一顿', '2010-04-28 15:16:16')[0m
  [4;35;1mSQL (27.0ms)[0m   [0mCOMMIT[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mBEGIN[0m
  [4;35;1mExpenseItem Create (44.0ms)[0m   [0mINSERT INTO `expense_items` (`updated_at`, `date`, `value`, `expense_type_id`, `note`, `created_at`) VALUES('2010-04-28 15:16:16', '2010-03-12', 11.0, 2, '每天吃一顿', '2010-04-28 15:16:16')[0m
  [4;36;1mSQL (31.0ms)[0m   [0;1mCOMMIT[0m
  [4;35;1mSQL (0.0ms)[0m   [0mBEGIN[0m
  [4;36;1mExpenseItem Create (0.0ms)[0m   [0;1mINSERT INTO `expense_items` (`updated_at`, `date`, `value`, `expense_type_id`, `note`, `created_at`) VALUES('2010-04-28 15:16:17', '2010-03-13', 11.0, 2, '每天吃一顿', '2010-04-28 15:16:17')[0m
  [4;35;1mSQL (18.0ms)[0m   [0mCOMMIT[0m
  [4;36;1mSQL (1.0ms)[0m   [0;1mBEGIN[0m
  [4;35;1mExpenseItem Create (1.0ms)[0m   [0mINSERT INTO `expense_items` (`updated_at`, `date`, `value`, `expense_type_id`, `note`, `created_at`) VALUES('2010-04-28 15:16:17', '2010-03-14', 11.0, 2, '每天吃一顿', '2010-04-28 15:16:17')[0m
  [4;36;1mSQL (18.0ms)[0m   [0;1mCOMMIT[0m
  [4;35;1mSQL (1.0ms)[0m   [0mBEGIN[0m
  [4;36;1mExpenseItem Create (1.0ms)[0m   [0;1mINSERT INTO `expense_items` (`updated_at`, `date`, `value`, `expense_type_id`, `note`, `created_at`) VALUES('2010-04-28 15:16:17', '2010-03-15', 11.0, 2, '每天吃一顿', '2010-04-28 15:16:17')[0m
  [4;35;1mSQL (18.0ms)[0m   [0mCOMMIT[0m
  [4;36;1mSQL (1.0ms)[0m   [0;1mBEGIN[0m
  [4;35;1mExpenseItem Create (1.0ms)[0m   [0mINSERT INTO `expense_items` (`updated_at`, `date`, `value`, `expense_type_id`, `note`, `created_at`) VALUES('2010-04-28 15:16:17', '2010-03-16', 11.0, 2, '每天吃一顿', '2010-04-28 15:16:17')[0m
  [4;36;1mSQL (18.0ms)[0m   [0;1mCOMMIT[0m
  [4;35;1mSQL (1.0ms)[0m   [0mBEGIN[0m
  [4;36;1mExpenseItem Create (1.0ms)[0m   [0;1mINSERT INTO `expense_items` (`updated_at`, `date`, `value`, `expense_type_id`, `note`, `created_at`) VALUES('2010-04-28 15:16:17', '2010-03-17', 11.0, 2, '每天吃一顿', '2010-04-28 15:16:17')[0m
  [4;35;1mSQL (26.0ms)[0m   [0mCOMMIT[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mBEGIN[0m
  [4;35;1mExpenseItem Create (0.0ms)[0m   [0mINSERT INTO `expense_items` (`updated_at`, `date`, `value`, `expense_type_id`, `note`, `created_at`) VALUES('2010-04-28 15:16:17', '2010-03-18', 11.0, 2, '每天吃一顿', '2010-04-28 15:16:17')[0m
  [4;36;1mSQL (18.0ms)[0m   [0;1mCOMMIT[0m
  [4;35;1mSQL (0.0ms)[0m   [0mBEGIN[0m
  [4;36;1mExpenseItem Create (0.0ms)[0m   [0;1mINSERT INTO `expense_items` (`updated_at`, `date`, `value`, `expense_type_id`, `note`, `created_at`) VALUES('2010-04-28 15:16:17', '2010-03-19', 11.0, 2, '每天吃一顿', '2010-04-28 15:16:17')[0m
  [4;35;1mSQL (18.0ms)[0m   [0mCOMMIT[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mBEGIN[0m
  [4;35;1mExpenseItem Create (0.0ms)[0m   [0mINSERT INTO `expense_items` (`updated_at`, `date`, `value`, `expense_type_id`, `note`, `created_at`) VALUES('2010-04-28 15:16:17', '2010-03-20', 11.0, 2, '每天吃一顿', '2010-04-28 15:16:17')[0m
  [4;36;1mSQL (18.0ms)[0m   [0;1mCOMMIT[0m
  [4;35;1mSQL (0.0ms)[0m   [0mBEGIN[0m
  [4;36;1mExpenseItem Create (1.0ms)[0m   [0;1mINSERT INTO `expense_items` (`updated_at`, `date`, `value`, `expense_type_id`, `note`, `created_at`) VALUES('2010-04-28 15:16:17', '2010-03-21', 11.0, 2, '每天吃一顿', '2010-04-28 15:16:17')[0m
  [4;35;1mSQL (23.0ms)[0m   [0mCOMMIT[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mBEGIN[0m
  [4;35;1mExpenseItem Create (1.0ms)[0m   [0mINSERT INTO `expense_items` (`updated_at`, `date`, `value`, `expense_type_id`, `note`, `created_at`) VALUES('2010-04-28 15:16:17', '2010-03-22', 11.0, 2, '每天吃一顿', '2010-04-28 15:16:17')[0m
  [4;36;1mSQL (24.0ms)[0m   [0;1mCOMMIT[0m
  [4;35;1mSQL (0.0ms)[0m   [0mBEGIN[0m
  [4;36;1mExpenseItem Create (0.0ms)[0m   [0;1mINSERT INTO `expense_items` (`updated_at`, `date`, `value`, `expense_type_id`, `note`, `created_at`) VALUES('2010-04-28 15:16:17', '2010-03-23', 11.0, 2, '每天吃一顿', '2010-04-28 15:16:17')[0m
  [4;35;1mSQL (43.0ms)[0m   [0mCOMMIT[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mBEGIN[0m
  [4;35;1mExpenseItem Create (0.0ms)[0m   [0mINSERT INTO `expense_items` (`updated_at`, `date`, `value`, `expense_type_id`, `note`, `created_at`) VALUES('2010-04-28 15:16:17', '2010-03-24', 11.0, 2, '每天吃一顿', '2010-04-28 15:16:17')[0m
  [4;36;1mSQL (18.0ms)[0m   [0;1mCOMMIT[0m
  [4;35;1mSQL (1.0ms)[0m   [0mBEGIN[0m
  [4;36;1mExpenseItem Create (1.0ms)[0m   [0;1mINSERT INTO `expense_items` (`updated_at`, `date`, `value`, `expense_type_id`, `note`, `created_at`) VALUES('2010-04-28 15:16:17', '2010-03-25', 11.0, 2, '每天吃一顿', '2010-04-28 15:16:17')[0m
  [4;35;1mSQL (18.0ms)[0m   [0mCOMMIT[0m
  [4;36;1mSQL (1.0ms)[0m   [0;1mBEGIN[0m
  [4;35;1mExpenseItem Create (1.0ms)[0m   [0mINSERT INTO `expense_items` (`updated_at`, `date`, `value`, `expense_type_id`, `note`, `created_at`) VALUES('2010-04-28 15:16:17', '2010-03-26', 11.0, 2, '每天吃一顿', '2010-04-28 15:16:17')[0m
  [4;36;1mSQL (18.0ms)[0m   [0;1mCOMMIT[0m
  [4;35;1mSQL (0.0ms)[0m   [0mBEGIN[0m
  [4;36;1mExpenseItem Create (1.0ms)[0m   [0;1mINSERT INTO `expense_items` (`updated_at`, `date`, `value`, `expense_type_id`, `note`, `created_at`) VALUES('2010-04-28 15:16:17', '2010-03-27', 11.0, 2, '每天吃一顿', '2010-04-28 15:16:17')[0m
  [4;35;1mSQL (18.0ms)[0m   [0mCOMMIT[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mBEGIN[0m
  [4;35;1mExpenseItem Create (0.0ms)[0m   [0mINSERT INTO `expense_items` (`updated_at`, `date`, `value`, `expense_type_id`, `note`, `created_at`) VALUES('2010-04-28 15:16:17', '2010-03-28', 11.0, 2, '每天吃一顿', '2010-04-28 15:16:17')[0m
  [4;36;1mSQL (25.0ms)[0m   [0;1mCOMMIT[0m
  [4;35;1mSQL (0.0ms)[0m   [0mBEGIN[0m
  [4;36;1mExpenseItem Create (0.0ms)[0m   [0;1mINSERT INTO `expense_items` (`updated_at`, `date`, `value`, `expense_type_id`, `note`, `created_at`) VALUES('2010-04-28 15:16:17', '2010-03-29', 11.0, 2, '每天吃一顿', '2010-04-28 15:16:17')[0m
  [4;35;1mSQL (18.0ms)[0m   [0mCOMMIT[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mBEGIN[0m
  [4;35;1mExpenseItem Create (1.0ms)[0m   [0mINSERT INTO `expense_items` (`updated_at`, `date`, `value`, `expense_type_id`, `note`, `created_at`) VALUES('2010-04-28 15:16:17', '2010-03-30', 11.0, 2, '每天吃一顿', '2010-04-28 15:16:17')[0m
  [4;36;1mSQL (18.0ms)[0m   [0;1mCOMMIT[0m
  [4;35;1mSQL (0.0ms)[0m   [0mBEGIN[0m
  [4;36;1mExpenseItem Create (1.0ms)[0m   [0;1mINSERT INTO `expense_items` (`updated_at`, `date`, `value`, `expense_type_id`, `note`, `created_at`) VALUES('2010-04-28 15:16:17', '2010-03-31', 11.0, 2, '每天吃一顿', '2010-04-28 15:16:17')[0m
  [4;35;1mSQL (17.0ms)[0m   [0mCOMMIT[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mBEGIN[0m
  [4;35;1mExpenseItem Create (1.0ms)[0m   [0mINSERT INTO `expense_items` (`updated_at`, `date`, `value`, `expense_type_id`, `note`, `created_at`) VALUES('2010-04-28 15:16:17', '2010-04-01', 11.0, 2, '每天吃一顿', '2010-04-28 15:16:17')[0m
  [4;36;1mSQL (17.0ms)[0m   [0;1mCOMMIT[0m
Redirected to http://localhost:3000/expense/2010/3
Completed in 1063ms (DB: 824) | 302 Found [http://localhost/expense/batch_create]
  [4;35;1mSQL (1.0ms)[0m   [0mSET NAMES 'utf8'[0m
  [4;36;1mSQL (1.0ms)[0m   [0;1mSET SQL_AUTO_IS_NULL=0[0m


Processing ExpenseController#index (for 127.0.0.1 at 2010-04-28 23:16:17) [GET]
  Parameters: {"month"=>"3", "year"=>"2010"}
  [4;35;1mExpenseItem Load (2.0ms)[0m   [0mSELECT * FROM `expense_items` WHERE (date BETWEEN '2010-03-01' and '2010-03-31') [0m
Rendering template within layouts/expense
Rendering expense/index
  [4;36;1mExpenseItem Columns (8.0ms)[0m   [0;1mSHOW FIELDS FROM `expense_items`[0m
  [4;35;1mExpenseType Columns (7.0ms)[0m   [0mSHOW FIELDS FROM `expense_types`[0m
  [4;36;1mExpenseType Load (8.0ms)[0m   [0;1mSELECT * FROM `expense_types` WHERE (`expense_types`.`id` = 1) [0m
  [4;35;1mExpenseType Load (1.0ms)[0m   [0mSELECT * FROM `expense_types` WHERE (`expense_types`.`id` = 2) [0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT * FROM `expense_types` WHERE (`expense_types`.`id` = 1) [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM `expense_types` WHERE (`expense_types`.`id` = 2) [0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT * FROM `expense_types` WHERE (`expense_types`.`id` = 2) [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM `expense_types` WHERE (`expense_types`.`id` = 2) [0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT * FROM `expense_types` WHERE (`expense_types`.`id` = 2) [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM `expense_types` WHERE (`expense_types`.`id` = 2) [0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT * FROM `expense_types` WHERE (`expense_types`.`id` = 2) [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM `expense_types` WHERE (`expense_types`.`id` = 2) [0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT * FROM `expense_types` WHERE (`expense_types`.`id` = 2) [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM `expense_types` WHERE (`expense_types`.`id` = 2) [0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT * FROM `expense_types` WHERE (`expense_types`.`id` = 2) [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM `expense_types` WHERE (`expense_types`.`id` = 2) [0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT * FROM `expense_types` WHERE (`expense_types`.`id` = 2) [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM `expense_types` WHERE (`expense_types`.`id` = 2) [0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT * FROM `expense_types` WHERE (`expense_types`.`id` = 2) [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM `expense_types` WHERE (`expense_types`.`id` = 2) [0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT * FROM `expense_types` WHERE (`expense_types`.`id` = 2) [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM `expense_types` WHERE (`expense_types`.`id` = 2) [0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT * FROM `expense_types` WHERE (`expense_types`.`id` = 2) [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM `expense_types` WHERE (`expense_types`.`id` = 2) [0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT * FROM `expense_types` WHERE (`expense_types`.`id` = 2) [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM `expense_types` WHERE (`expense_types`.`id` = 2) [0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT * FROM `expense_types` WHERE (`expense_types`.`id` = 2) [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM `expense_types` WHERE (`expense_types`.`id` = 2) [0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT * FROM `expense_types` WHERE (`expense_types`.`id` = 2) [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM `expense_types` WHERE (`expense_types`.`id` = 2) [0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT * FROM `expense_types` WHERE (`expense_types`.`id` = 2) [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM `expense_types` WHERE (`expense_types`.`id` = 2) [0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT * FROM `expense_types` WHERE (`expense_types`.`id` = 2) [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM `expense_types` WHERE (`expense_types`.`id` = 2) [0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT * FROM `expense_types` WHERE (`expense_types`.`id` = 2) [0m
Completed in 547ms (View: 503, DB: 28) | 200 OK [http://localhost/expense/2010/3]
  [4;35;1mSQL (1.0ms)[0m   [0mSET NAMES 'utf8'[0m
  [4;36;1mSQL (1.0ms)[0m   [0;1mSET SQL_AUTO_IS_NULL=0[0m


Processing ExpenseController#index (for 127.0.0.1 at 2010-04-28 23:16:26) [GET]
  Parameters: {"month"=>"4", "year"=>"2010"}
  [4;35;1mExpenseItem Load (1.0ms)[0m   [0mSELECT * FROM `expense_items` WHERE (date BETWEEN '2010-04-01' and '2010-04-30') [0m
Rendering template within layouts/expense
Rendering expense/index
  [4;36;1mExpenseItem Columns (8.0ms)[0m   [0;1mSHOW FIELDS FROM `expense_items`[0m
  [4;35;1mExpenseType Columns (8.0ms)[0m   [0mSHOW FIELDS FROM `expense_types`[0m
  [4;36;1mExpenseType Load (14.0ms)[0m   [0;1mSELECT * FROM `expense_types` WHERE (`expense_types`.`id` = 2) [0m
  [4;35;1mExpenseType Load (1.0ms)[0m   [0mSELECT * FROM `expense_types` WHERE (`expense_types`.`id` = 1) [0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT * FROM `expense_types` WHERE (`expense_types`.`id` = 2) [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM `expense_types` WHERE (`expense_types`.`id` = 1) [0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT * FROM `expense_types` WHERE (`expense_types`.`id` = 1) [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM `expense_types` WHERE (`expense_types`.`id` = 1) [0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT * FROM `expense_types` WHERE (`expense_types`.`id` = 1) [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM `expense_types` WHERE (`expense_types`.`id` = 1) [0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT * FROM `expense_types` WHERE (`expense_types`.`id` = 2) [0m
Completed in 262ms (View: 211, DB: 34) | 200 OK [http://localhost/expense/2010/4]
  [4;35;1mSQL (1.0ms)[0m   [0mSET NAMES 'utf8'[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mSET SQL_AUTO_IS_NULL=0[0m


Processing ExpenseController#index (for 127.0.0.1 at 2010-04-28 23:16:32) [GET]
  Parameters: {"month"=>"3", "year"=>"2010"}
  [4;35;1mExpenseItem Load (1.0ms)[0m   [0mSELECT * FROM `expense_items` WHERE (date BETWEEN '2010-03-01' and '2010-03-31') [0m
Rendering template within layouts/expense
Rendering expense/index
  [4;36;1mExpenseItem Columns (8.0ms)[0m   [0;1mSHOW FIELDS FROM `expense_items`[0m
  [4;35;1mExpenseType Columns (6.0ms)[0m   [0mSHOW FIELDS FROM `expense_types`[0m
  [4;36;1mExpenseType Load (12.0ms)[0m   [0;1mSELECT * FROM `expense_types` WHERE (`expense_types`.`id` = 1) [0m
  [4;35;1mExpenseType Load (0.0ms)[0m   [0mSELECT * FROM `expense_types` WHERE (`expense_types`.`id` = 2) [0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT * FROM `expense_types` WHERE (`expense_types`.`id` = 1) [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM `expense_types` WHERE (`expense_types`.`id` = 2) [0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT * FROM `expense_types` WHERE (`expense_types`.`id` = 2) [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM `expense_types` WHERE (`expense_types`.`id` = 2) [0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT * FROM `expense_types` WHERE (`expense_types`.`id` = 2) [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM `expense_types` WHERE (`expense_types`.`id` = 2) [0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT * FROM `expense_types` WHERE (`expense_types`.`id` = 2) [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM `expense_types` WHERE (`expense_types`.`id` = 2) [0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT * FROM `expense_types` WHERE (`expense_types`.`id` = 2) [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM `expense_types` WHERE (`expense_types`.`id` = 2) [0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT * FROM `expense_types` WHERE (`expense_types`.`id` = 2) [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM `expense_types` WHERE (`expense_types`.`id` = 2) [0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT * FROM `expense_types` WHERE (`expense_types`.`id` = 2) [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM `expense_types` WHERE (`expense_types`.`id` = 2) [0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT * FROM `expense_types` WHERE (`expense_types`.`id` = 2) [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM `expense_types` WHERE (`expense_types`.`id` = 2) [0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT * FROM `expense_types` WHERE (`expense_types`.`id` = 2) [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM `expense_types` WHERE (`expense_types`.`id` = 2) [0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT * FROM `expense_types` WHERE (`expense_types`.`id` = 2) [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM `expense_types` WHERE (`expense_types`.`id` = 2) [0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT * FROM `expense_types` WHERE (`expense_types`.`id` = 2) [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM `expense_types` WHERE (`expense_types`.`id` = 2) [0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT * FROM `expense_types` WHERE (`expense_types`.`id` = 2) [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM `expense_types` WHERE (`expense_types`.`id` = 2) [0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT * FROM `expense_types` WHERE (`expense_types`.`id` = 2) [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM `expense_types` WHERE (`expense_types`.`id` = 2) [0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT * FROM `expense_types` WHERE (`expense_types`.`id` = 2) [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM `expense_types` WHERE (`expense_types`.`id` = 2) [0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT * FROM `expense_types` WHERE (`expense_types`.`id` = 2) [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM `expense_types` WHERE (`expense_types`.`id` = 2) [0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT * FROM `expense_types` WHERE (`expense_types`.`id` = 2) [0m
Completed in 554ms (View: 507, DB: 28) | 200 OK [http://localhost/expense/2010/3]
  [4;35;1mSQL (3.0ms)[0m   [0mSET NAMES 'utf8'[0m
  [4;36;1mSQL (2.0ms)[0m   [0;1mSET SQL_AUTO_IS_NULL=0[0m


Processing ExpenseController#delete (for 127.0.0.1 at 2010-04-28 23:16:59) [DELETE]
  Parameters: {"authenticity_token"=>"Zh+fvkCRgcJdtOAaZqYwfdA1q7u8E2VLz23S1HZATco=", "id"=>"25"}
  [4;35;1mExpenseItem Columns (12.0ms)[0m   [0mSHOW FIELDS FROM `expense_items`[0m
  [4;36;1mExpenseItem Load (13.0ms)[0m   [0;1mSELECT * FROM `expense_items` WHERE (`expense_items`.`id` = 25) [0m
  [4;35;1mSQL (0.0ms)[0m   [0mBEGIN[0m
  [4;36;1mExpenseItem Destroy (47.0ms)[0m   [0;1mDELETE FROM `expense_items` WHERE `id` = 25[0m
  [4;35;1mSQL (42.0ms)[0m   [0mCOMMIT[0m
Redirected to http://localhost:3000/expense/2010/3
Completed in 150ms (DB: 119) | 302 Found [http://localhost/expense/delete/25]
  [4;36;1mSQL (0.0ms)[0m   [0;1mSET NAMES 'utf8'[0m
  [4;35;1mSQL (1.0ms)[0m   [0mSET SQL_AUTO_IS_NULL=0[0m


Processing ExpenseController#index (for 127.0.0.1 at 2010-04-28 23:16:59) [GET]
  Parameters: {"month"=>"3", "year"=>"2010"}
  [4;36;1mExpenseItem Load (2.0ms)[0m   [0;1mSELECT * FROM `expense_items` WHERE (date BETWEEN '2010-03-01' and '2010-03-31') [0m
Rendering template within layouts/expense
Rendering expense/index
  [4;35;1mExpenseItem Columns (10.0ms)[0m   [0mSHOW FIELDS FROM `expense_items`[0m
  [4;36;1mExpenseType Columns (9.0ms)[0m   [0;1mSHOW FIELDS FROM `expense_types`[0m
  [4;35;1mExpenseType Load (10.0ms)[0m   [0mSELECT * FROM `expense_types` WHERE (`expense_types`.`id` = 1) [0m
  [4;36;1mExpenseType Load (1.0ms)[0m   [0;1mSELECT * FROM `expense_types` WHERE (`expense_types`.`id` = 2) [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM `expense_types` WHERE (`expense_types`.`id` = 1) [0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT * FROM `expense_types` WHERE (`expense_types`.`id` = 2) [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM `expense_types` WHERE (`expense_types`.`id` = 2) [0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT * FROM `expense_types` WHERE (`expense_types`.`id` = 2) [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM `expense_types` WHERE (`expense_types`.`id` = 2) [0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT * FROM `expense_types` WHERE (`expense_types`.`id` = 2) [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM `expense_types` WHERE (`expense_types`.`id` = 2) [0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT * FROM `expense_types` WHERE (`expense_types`.`id` = 2) [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM `expense_types` WHERE (`expense_types`.`id` = 2) [0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT * FROM `expense_types` WHERE (`expense_types`.`id` = 2) [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM `expense_types` WHERE (`expense_types`.`id` = 2) [0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT * FROM `expense_types` WHERE (`expense_types`.`id` = 2) [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM `expense_types` WHERE (`expense_types`.`id` = 2) [0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT * FROM `expense_types` WHERE (`expense_types`.`id` = 2) [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM `expense_types` WHERE (`expense_types`.`id` = 2) [0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT * FROM `expense_types` WHERE (`expense_types`.`id` = 2) [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM `expense_types` WHERE (`expense_types`.`id` = 2) [0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT * FROM `expense_types` WHERE (`expense_types`.`id` = 2) [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM `expense_types` WHERE (`expense_types`.`id` = 2) [0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT * FROM `expense_types` WHERE (`expense_types`.`id` = 2) [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM `expense_types` WHERE (`expense_types`.`id` = 2) [0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT * FROM `expense_types` WHERE (`expense_types`.`id` = 2) [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM `expense_types` WHERE (`expense_types`.`id` = 2) [0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT * FROM `expense_types` WHERE (`expense_types`.`id` = 2) [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM `expense_types` WHERE (`expense_types`.`id` = 2) [0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT * FROM `expense_types` WHERE (`expense_types`.`id` = 2) [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM `expense_types` WHERE (`expense_types`.`id` = 2) [0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT * FROM `expense_types` WHERE (`expense_types`.`id` = 2) [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM `expense_types` WHERE (`expense_types`.`id` = 2) [0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT * FROM `expense_types` WHERE (`expense_types`.`id` = 2) [0m
Completed in 563ms (View: 513, DB: 33) | 200 OK [http://localhost/expense/2010/3]
  [4;35;1mSQL (3.0ms)[0m   [0mSET NAMES 'utf8'[0m
  [4;36;1mSQL (2.0ms)[0m   [0;1mSET SQL_AUTO_IS_NULL=0[0m


Processing ExpenseController#edit (for 127.0.0.1 at 2010-04-28 23:17:16) [PUT]
  Parameters: {"authenticity_token"=>"Zh+fvkCRgcJdtOAaZqYwfdA1q7u8E2VLz23S1HZATco=", "id"=>"39"}
  [4;35;1mExpenseItem Columns (9.0ms)[0m   [0mSHOW FIELDS FROM `expense_items`[0m
  [4;36;1mExpenseItem Load (26.0ms)[0m   [0;1mSELECT * FROM `expense_items` WHERE (`expense_items`.`id` = 39) [0m
  [4;35;1mExpenseType Load (0.0ms)[0m   [0mSELECT * FROM `expense_types` [0m
  [4;36;1mExpenseType Columns (7.0ms)[0m   [0;1mSHOW FIELDS FROM `expense_types`[0m
Rendering template within layouts/expense
Rendering expense/edit
Completed in 143ms (View: 62, DB: 47) | 200 OK [http://localhost/expense/edit/39]
  [4;35;1mSQL (0.0ms)[0m   [0mSET NAMES 'utf8'[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mSET SQL_AUTO_IS_NULL=0[0m


Processing ExpenseController#update (for 127.0.0.1 at 2010-04-28 23:17:23) [PUT]
  Parameters: {"commit"=>"更新", "authenticity_token"=>"Zh+fvkCRgcJdtOAaZqYwfdA1q7u8E2VLz23S1HZATco=", "id"=>"39", "expense_item"=>{"date"=>"2010-03-22", "value"=>"11", "note"=>"每天吃一顿，今天很特别", "expense_type_id"=>"2"}}
  [4;35;1mExpenseItem Columns (10.0ms)[0m   [0mSHOW FIELDS FROM `expense_items`[0m
  [4;36;1mExpenseItem Load (11.0ms)[0m   [0;1mSELECT * FROM `expense_items` WHERE (`expense_items`.`id` = 39) [0m
  [4;35;1mSQL (0.0ms)[0m   [0mBEGIN[0m
  [4;36;1mExpenseItem Update (19.0ms)[0m   [0;1mUPDATE `expense_items` SET `note` = '每天吃一顿，今天很特别', `updated_at` = '2010-04-28 15:17:24' WHERE `id` = 39[0m
  [4;35;1mSQL (49.0ms)[0m   [0mCOMMIT[0m
Redirected to http://localhost:3000/expense/2010/3
Completed in 120ms (DB: 89) | 302 Found [http://localhost/expense/update/39]
  [4;36;1mSQL (1.0ms)[0m   [0;1mSET NAMES 'utf8'[0m
  [4;35;1mSQL (0.0ms)[0m   [0mSET SQL_AUTO_IS_NULL=0[0m


Processing ExpenseController#index (for 127.0.0.1 at 2010-04-28 23:17:24) [GET]
  Parameters: {"month"=>"3", "year"=>"2010"}
  [4;36;1mExpenseItem Load (2.0ms)[0m   [0;1mSELECT * FROM `expense_items` WHERE (date BETWEEN '2010-03-01' and '2010-03-31') [0m
Rendering template within layouts/expense
Rendering expense/index
  [4;35;1mExpenseItem Columns (8.0ms)[0m   [0mSHOW FIELDS FROM `expense_items`[0m
  [4;36;1mExpenseType Columns (6.0ms)[0m   [0;1mSHOW FIELDS FROM `expense_types`[0m
  [4;35;1mExpenseType Load (8.0ms)[0m   [0mSELECT * FROM `expense_types` WHERE (`expense_types`.`id` = 1) [0m
  [4;36;1mExpenseType Load (1.0ms)[0m   [0;1mSELECT * FROM `expense_types` WHERE (`expense_types`.`id` = 2) [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM `expense_types` WHERE (`expense_types`.`id` = 1) [0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT * FROM `expense_types` WHERE (`expense_types`.`id` = 2) [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM `expense_types` WHERE (`expense_types`.`id` = 2) [0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT * FROM `expense_types` WHERE (`expense_types`.`id` = 2) [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM `expense_types` WHERE (`expense_types`.`id` = 2) [0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT * FROM `expense_types` WHERE (`expense_types`.`id` = 2) [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM `expense_types` WHERE (`expense_types`.`id` = 2) [0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT * FROM `expense_types` WHERE (`expense_types`.`id` = 2) [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM `expense_types` WHERE (`expense_types`.`id` = 2) [0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT * FROM `expense_types` WHERE (`expense_types`.`id` = 2) [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM `expense_types` WHERE (`expense_types`.`id` = 2) [0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT * FROM `expense_types` WHERE (`expense_types`.`id` = 2) [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM `expense_types` WHERE (`expense_types`.`id` = 2) [0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT * FROM `expense_types` WHERE (`expense_types`.`id` = 2) [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM `expense_types` WHERE (`expense_types`.`id` = 2) [0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT * FROM `expense_types` WHERE (`expense_types`.`id` = 2) [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM `expense_types` WHERE (`expense_types`.`id` = 2) [0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT * FROM `expense_types` WHERE (`expense_types`.`id` = 2) [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM `expense_types` WHERE (`expense_types`.`id` = 2) [0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT * FROM `expense_types` WHERE (`expense_types`.`id` = 2) [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM `expense_types` WHERE (`expense_types`.`id` = 2) [0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT * FROM `expense_types` WHERE (`expense_types`.`id` = 2) [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM `expense_types` WHERE (`expense_types`.`id` = 2) [0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT * FROM `expense_types` WHERE (`expense_types`.`id` = 2) [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM `expense_types` WHERE (`expense_types`.`id` = 2) [0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT * FROM `expense_types` WHERE (`expense_types`.`id` = 2) [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM `expense_types` WHERE (`expense_types`.`id` = 2) [0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT * FROM `expense_types` WHERE (`expense_types`.`id` = 2) [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM `expense_types` WHERE (`expense_types`.`id` = 2) [0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT * FROM `expense_types` WHERE (`expense_types`.`id` = 2) [0m
Completed in 534ms (View: 490, DB: 26) | 200 OK [http://localhost/expense/2010/3]
  [4;35;1mSQL (1.0ms)[0m   [0mSET NAMES 'utf8'[0m
  [4;36;1mSQL (1.0ms)[0m   [0;1mSET SQL_AUTO_IS_NULL=0[0m


Processing ExpenseController#index (for 127.0.0.1 at 2010-04-28 23:18:35) [GET]
  Parameters: {"month"=>"2", "year"=>"2010"}
  [4;35;1mExpenseItem Load (1.0ms)[0m   [0mSELECT * FROM `expense_items` WHERE (date BETWEEN '2010-02-01' and '2010-02-28') [0m
Rendering template within layouts/expense
Rendering expense/index
  [4;36;1mExpenseItem Columns (11.0ms)[0m   [0;1mSHOW FIELDS FROM `expense_items`[0m
  [4;35;1mExpenseType Columns (29.0ms)[0m   [0mSHOW FIELDS FROM `expense_types`[0m
  [4;36;1mExpenseType Load (14.0ms)[0m   [0;1mSELECT * FROM `expense_types` WHERE (`expense_types`.`id` = 2) [0m
  [4;35;1mExpenseType Load (1.0ms)[0m   [0mSELECT * FROM `expense_types` WHERE (`expense_types`.`id` = 1) [0m
Completed in 137ms (View: 61, DB: 58) | 200 OK [http://localhost/expense/2010/2]
  [4;36;1mSQL (1.0ms)[0m   [0;1mSET NAMES 'utf8'[0m
  [4;35;1mSQL (1.0ms)[0m   [0mSET SQL_AUTO_IS_NULL=0[0m


Processing ExpenseController#index (for 127.0.0.1 at 2010-04-28 23:18:36) [GET]
  Parameters: {"month"=>"3", "year"=>"2010"}
  [4;36;1mExpenseItem Load (2.0ms)[0m   [0;1mSELECT * FROM `expense_items` WHERE (date BETWEEN '2010-03-01' and '2010-03-31') [0m
Rendering template within layouts/expense
Rendering expense/index
  [4;35;1mExpenseItem Columns (8.0ms)[0m   [0mSHOW FIELDS FROM `expense_items`[0m
  [4;36;1mExpenseType Columns (7.0ms)[0m   [0;1mSHOW FIELDS FROM `expense_types`[0m
  [4;35;1mExpenseType Load (9.0ms)[0m   [0mSELECT * FROM `expense_types` WHERE (`expense_types`.`id` = 1) [0m
  [4;36;1mExpenseType Load (0.0ms)[0m   [0;1mSELECT * FROM `expense_types` WHERE (`expense_types`.`id` = 2) [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM `expense_types` WHERE (`expense_types`.`id` = 1) [0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT * FROM `expense_types` WHERE (`expense_types`.`id` = 2) [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM `expense_types` WHERE (`expense_types`.`id` = 2) [0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT * FROM `expense_types` WHERE (`expense_types`.`id` = 2) [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM `expense_types` WHERE (`expense_types`.`id` = 2) [0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT * FROM `expense_types` WHERE (`expense_types`.`id` = 2) [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM `expense_types` WHERE (`expense_types`.`id` = 2) [0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT * FROM `expense_types` WHERE (`expense_types`.`id` = 2) [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM `expense_types` WHERE (`expense_types`.`id` = 2) [0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT * FROM `expense_types` WHERE (`expense_types`.`id` = 2) [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM `expense_types` WHERE (`expense_types`.`id` = 2) [0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT * FROM `expense_types` WHERE (`expense_types`.`id` = 2) [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM `expense_types` WHERE (`expense_types`.`id` = 2) [0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT * FROM `expense_types` WHERE (`expense_types`.`id` = 2) [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM `expense_types` WHERE (`expense_types`.`id` = 2) [0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT * FROM `expense_types` WHERE (`expense_types`.`id` = 2) [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM `expense_types` WHERE (`expense_types`.`id` = 2) [0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT * FROM `expense_types` WHERE (`expense_types`.`id` = 2) [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM `expense_types` WHERE (`expense_types`.`id` = 2) [0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT * FROM `expense_types` WHERE (`expense_types`.`id` = 2) [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM `expense_types` WHERE (`expense_types`.`id` = 2) [0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT * FROM `expense_types` WHERE (`expense_types`.`id` = 2) [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM `expense_types` WHERE (`expense_types`.`id` = 2) [0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT * FROM `expense_types` WHERE (`expense_types`.`id` = 2) [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM `expense_types` WHERE (`expense_types`.`id` = 2) [0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT * FROM `expense_types` WHERE (`expense_types`.`id` = 2) [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM `expense_types` WHERE (`expense_types`.`id` = 2) [0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT * FROM `expense_types` WHERE (`expense_types`.`id` = 2) [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM `expense_types` WHERE (`expense_types`.`id` = 2) [0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT * FROM `expense_types` WHERE (`expense_types`.`id` = 2) [0m
Completed in 550ms (View: 506, DB: 28) | 200 OK [http://localhost/expense/2010/3]
  [4;35;1mSQL (1.0ms)[0m   [0mSET NAMES 'utf8'[0m
  [4;36;1mSQL (1.0ms)[0m   [0;1mSET SQL_AUTO_IS_NULL=0[0m


Processing ExpenseController#index (for 127.0.0.1 at 2010-04-28 23:18:37) [GET]
  Parameters: {"month"=>"4", "year"=>"2010"}
  [4;35;1mExpenseItem Load (1.0ms)[0m   [0mSELECT * FROM `expense_items` WHERE (date BETWEEN '2010-04-01' and '2010-04-30') [0m
Rendering template within layouts/expense
Rendering expense/index
  [4;36;1mExpenseItem Columns (8.0ms)[0m   [0;1mSHOW FIELDS FROM `expense_items`[0m
  [4;35;1mExpenseType Columns (8.0ms)[0m   [0mSHOW FIELDS FROM `expense_types`[0m
  [4;36;1mExpenseType Load (13.0ms)[0m   [0;1mSELECT * FROM `expense_types` WHERE (`expense_types`.`id` = 2) [0m
  [4;35;1mExpenseType Load (1.0ms)[0m   [0mSELECT * FROM `expense_types` WHERE (`expense_types`.`id` = 1) [0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT * FROM `expense_types` WHERE (`expense_types`.`id` = 2) [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM `expense_types` WHERE (`expense_types`.`id` = 1) [0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT * FROM `expense_types` WHERE (`expense_types`.`id` = 1) [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM `expense_types` WHERE (`expense_types`.`id` = 1) [0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT * FROM `expense_types` WHERE (`expense_types`.`id` = 1) [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM `expense_types` WHERE (`expense_types`.`id` = 1) [0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT * FROM `expense_types` WHERE (`expense_types`.`id` = 2) [0m
Completed in 261ms (View: 211, DB: 33) | 200 OK [http://localhost/expense/2010/4]
  [4;36;1mSQL (167.0ms)[0m   [0;1mSET NAMES 'utf8'[0m
  [4;35;1mSQL (71.0ms)[0m   [0mSET SQL_AUTO_IS_NULL=0[0m


Processing ExpenseController#index (for 127.0.0.1 at 2010-04-30 15:34:20) [GET]
  [4;36;1mExpenseItem Load (600.0ms)[0m   [0;1mSELECT * FROM `expense_items` WHERE (date BETWEEN '2010-04-01' and '2010-04-30') [0m
Rendering template within layouts/expense
Rendering expense/index
  [4;35;1mExpenseItem Columns (244.0ms)[0m   [0mSHOW FIELDS FROM `expense_items`[0m
  [4;36;1mExpenseType Columns (18.0ms)[0m   [0;1mSHOW FIELDS FROM `expense_types`[0m
  [4;35;1mExpenseType Load (54.0ms)[0m   [0mSELECT * FROM `expense_types` WHERE (`expense_types`.`id` = 2) [0m
  [4;36;1mExpenseType Load (1.0ms)[0m   [0;1mSELECT * FROM `expense_types` WHERE (`expense_types`.`id` = 1) [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM `expense_types` WHERE (`expense_types`.`id` = 2) [0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT * FROM `expense_types` WHERE (`expense_types`.`id` = 1) [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM `expense_types` WHERE (`expense_types`.`id` = 1) [0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT * FROM `expense_types` WHERE (`expense_types`.`id` = 1) [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM `expense_types` WHERE (`expense_types`.`id` = 1) [0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT * FROM `expense_types` WHERE (`expense_types`.`id` = 1) [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM `expense_types` WHERE (`expense_types`.`id` = 2) [0m
Completed in 4404ms (View: 3261, DB: 1155) | 200 OK [http://localhost/expense]
  [4;36;1mSQL (0.0ms)[0m   [0;1mSET NAMES 'utf8'[0m
  [4;35;1mSQL (0.0ms)[0m   [0mSET SQL_AUTO_IS_NULL=0[0m
  [4;36;1mSQL (198.0ms)[0m   [0;1mSHOW TABLES[0m
  [4;35;1mSQL (46.0ms)[0m   [0mSELECT version FROM schema_migrations[0m
Migrating to CreateExpenseTypes (20100422124419)
Migrating to CreateExpenseItems (20100422125245)
Migrating to AddExpensetypeForeignKey (20100422125532)
Migrating to CreateExpenseTags (20100430075711)
  [4;36;1mSQL (563.0ms)[0m   [0;1mCREATE TABLE `expense_tags` (`id` int(11) DEFAULT NULL auto_increment PRIMARY KEY, `name` varchar(255), `created_at` datetime, `updated_at` datetime) ENGINE=InnoDB[0m
  [4;35;1mSQL (96.0ms)[0m   [0mCREATE TABLE `expense_items_expense_tags` (`expense_item_id` int(11), `expense_tag_id` int(11)) ENGINE=InnoDB[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mMysql::Error: Identifier name 'index_expense_items_expense_tags_on_expense_item_id_and_expense_tag_id' is too long: CREATE UNIQUE INDEX `index_expense_items_expense_tags_on_expense_item_id_and_expense_tag_id` ON `expense_items_expense_tags` (`expense_item_id`, `expense_tag_id`)[0m
  [4;36;1mSQL (1.0ms)[0m   [0;1mSET NAMES 'utf8'[0m
  [4;35;1mSQL (0.0ms)[0m   [0mSET SQL_AUTO_IS_NULL=0[0m
  [4;36;1mSQL (32.0ms)[0m   [0;1mSHOW TABLES[0m
  [4;35;1mSQL (0.0ms)[0m   [0mSELECT version FROM schema_migrations[0m
Migrating to CreateExpenseTypes (20100422124419)
Migrating to CreateExpenseItems (20100422125245)
Migrating to AddExpensetypeForeignKey (20100422125532)
Migrating to CreateExpenseTags (20100430075711)
  [4;36;1mSQL (0.0ms)[0m   [0;1mSET NAMES 'utf8'[0m
  [4;35;1mSQL (0.0ms)[0m   [0mSET SQL_AUTO_IS_NULL=0[0m
  [4;36;1mSQL (1.0ms)[0m   [0;1mSHOW TABLES[0m
  [4;35;1mSQL (0.0ms)[0m   [0mSELECT version FROM schema_migrations[0m
Migrating to CreateExpenseTypes (20100422124419)
Migrating to CreateExpenseItems (20100422125245)
Migrating to AddExpensetypeForeignKey (20100422125532)
Migrating to CreateExpenseTags (20100430075711)
  [4;36;1mSQL (0.0ms)[0m   [0;1mMysql::Error: Table 'expense_tags' already exists: CREATE TABLE `expense_tags` (`id` int(11) DEFAULT NULL auto_increment PRIMARY KEY, `name` varchar(255), `created_at` datetime, `updated_at` datetime) ENGINE=InnoDB[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mSET NAMES 'utf8'[0m
  [4;35;1mSQL (1.0ms)[0m   [0mSET SQL_AUTO_IS_NULL=0[0m
  [4;36;1mSQL (1.0ms)[0m   [0;1mSHOW TABLES[0m
  [4;35;1mSQL (0.0ms)[0m   [0mSELECT version FROM schema_migrations[0m
  [4;36;1mSQL (1.0ms)[0m   [0;1mSHOW TABLES[0m
  [4;35;1mSQL (1.0ms)[0m   [0mSELECT version FROM schema_migrations[0m
Migrating to CreateExpenseTypes (20100422124419)
Migrating to CreateExpenseItems (20100422125245)
Migrating to AddExpensetypeForeignKey (20100422125532)
  [4;36;1mSQL (2.0ms)[0m   [0;1mSHOW TABLES[0m
  [4;35;1mSQL (0.0ms)[0m   [0mSELECT version FROM schema_migrations[0m
  [4;36;1mSQL (2.0ms)[0m   [0;1mSHOW TABLES[0m
  [4;35;1mSQL (48.0ms)[0m   [0mSHOW FIELDS FROM `expense_items`[0m
  [4;36;1mSQL (26.0ms)[0m   [0;1mdescribe `expense_items`[0m
  [4;35;1mSQL (80.0ms)[0m   [0mSHOW KEYS FROM `expense_items`[0m
  [4;36;1mSQL (7.0ms)[0m   [0;1mSHOW FIELDS FROM `expense_items_expense_tags`[0m
  [4;35;1mSQL (16.0ms)[0m   [0mdescribe `expense_items_expense_tags`[0m
  [4;36;1mSQL (3.0ms)[0m   [0;1mSHOW KEYS FROM `expense_items_expense_tags`[0m
  [4;35;1mSQL (6.0ms)[0m   [0mSHOW FIELDS FROM `expense_tags`[0m
  [4;36;1mSQL (28.0ms)[0m   [0;1mdescribe `expense_tags`[0m
  [4;35;1mSQL (8.0ms)[0m   [0mSHOW KEYS FROM `expense_tags`[0m
  [4;36;1mSQL (3.0ms)[0m   [0;1mSHOW FIELDS FROM `expense_types`[0m
  [4;35;1mSQL (6.0ms)[0m   [0mdescribe `expense_types`[0m
  [4;36;1mSQL (4.0ms)[0m   [0;1mSHOW KEYS FROM `expense_types`[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mSET NAMES 'utf8'[0m
  [4;35;1mSQL (0.0ms)[0m   [0mSET SQL_AUTO_IS_NULL=0[0m
  [4;36;1mSQL (1.0ms)[0m   [0;1mSHOW TABLES[0m
  [4;35;1mSQL (0.0ms)[0m   [0mSELECT version FROM schema_migrations[0m
Migrating to CreateExpenseTypes (20100422124419)
Migrating to CreateExpenseItems (20100422125245)
Migrating to AddExpensetypeForeignKey (20100422125532)
Migrating to CreateExpenseTags (20100430075711)
  [4;36;1mSQL (80.0ms)[0m   [0;1mCREATE TABLE `expense_tags` (`id` int(11) DEFAULT NULL auto_increment PRIMARY KEY, `name` varchar(255), `created_at` datetime, `updated_at` datetime) ENGINE=InnoDB[0m
  [4;35;1mSQL (98.0ms)[0m   [0mINSERT INTO schema_migrations (version) VALUES ('20100430075711')[0m
Migrating to JoinItemTag (20100430084030)
  [4;36;1mSQL (157.0ms)[0m   [0;1mCREATE TABLE `expense_items_expense_tags` (`expense_item_id` int(11), `expense_tag_id` int(11)) ENGINE=InnoDB[0m
  [4;35;1mSQL (324.0ms)[0m   [0mCREATE UNIQUE INDEX `index_items_tags` ON `expense_items_expense_tags` (`expense_item_id`, `expense_tag_id`)[0m
  [4;36;1mSQL (176.0ms)[0m   [0;1mCREATE INDEX `index_tags` ON `expense_items_expense_tags` (`expense_item_id`)[0m
  [4;35;1mSQL (20.0ms)[0m   [0mINSERT INTO schema_migrations (version) VALUES ('20100430084030')[0m
  [4;36;1mSQL (3.0ms)[0m   [0;1mSHOW TABLES[0m
  [4;35;1mSQL (1.0ms)[0m   [0mSELECT version FROM schema_migrations[0m
  [4;36;1mSQL (1.0ms)[0m   [0;1mSHOW TABLES[0m
  [4;35;1mSQL (4.0ms)[0m   [0mSHOW FIELDS FROM `expense_items`[0m
  [4;36;1mSQL (8.0ms)[0m   [0;1mdescribe `expense_items`[0m
  [4;35;1mSQL (5.0ms)[0m   [0mSHOW KEYS FROM `expense_items`[0m
  [4;36;1mSQL (4.0ms)[0m   [0;1mSHOW FIELDS FROM `expense_items_expense_tags`[0m
  [4;35;1mSQL (7.0ms)[0m   [0mdescribe `expense_items_expense_tags`[0m
  [4;36;1mSQL (2.0ms)[0m   [0;1mSHOW KEYS FROM `expense_items_expense_tags`[0m
  [4;35;1mSQL (3.0ms)[0m   [0mSHOW FIELDS FROM `expense_tags`[0m
  [4;36;1mSQL (28.0ms)[0m   [0;1mdescribe `expense_tags`[0m
  [4;35;1mSQL (7.0ms)[0m   [0mSHOW KEYS FROM `expense_tags`[0m
  [4;36;1mSQL (3.0ms)[0m   [0;1mSHOW FIELDS FROM `expense_types`[0m
  [4;35;1mSQL (7.0ms)[0m   [0mdescribe `expense_types`[0m
  [4;36;1mSQL (4.0ms)[0m   [0;1mSHOW KEYS FROM `expense_types`[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mSET NAMES 'utf8'[0m
  [4;35;1mSQL (0.0ms)[0m   [0mSET SQL_AUTO_IS_NULL=0[0m
  [4;36;1mSQL (28.0ms)[0m   [0;1mSHOW TABLES[0m
  [4;35;1mSQL (0.0ms)[0m   [0mSELECT version FROM schema_migrations[0m
  [4;36;1mSQL (2.0ms)[0m   [0;1mSHOW TABLES[0m
  [4;35;1mSQL (0.0ms)[0m   [0mSELECT version FROM schema_migrations[0m
Migrating to JoinItemTag (20100430084030)
  [4;36;1mSQL (0.0ms)[0m   [0;1mMysql::Error: Unknown table 'expense_items_epense_tags': DROP TABLE `expense_items_epense_tags`[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mSET NAMES 'utf8'[0m
  [4;35;1mSQL (0.0ms)[0m   [0mSET SQL_AUTO_IS_NULL=0[0m
  [4;36;1mSQL (1.0ms)[0m   [0;1mSHOW TABLES[0m
  [4;35;1mSQL (0.0ms)[0m   [0mSELECT version FROM schema_migrations[0m
  [4;36;1mSQL (1.0ms)[0m   [0;1mSHOW TABLES[0m
  [4;35;1mSQL (0.0ms)[0m   [0mSELECT version FROM schema_migrations[0m
Migrating to JoinItemTag (20100430084030)
  [4;36;1mSQL (55.0ms)[0m   [0;1mDROP TABLE `expense_items_expense_tags`[0m
  [4;35;1mSQL (31.0ms)[0m   [0mDELETE FROM schema_migrations WHERE version = '20100430084030'[0m
Migrating to CreateExpenseTags (20100430075711)
  [4;36;1mSQL (21.0ms)[0m   [0;1mDROP TABLE `expense_tags`[0m
  [4;35;1mSQL (29.0ms)[0m   [0mDELETE FROM schema_migrations WHERE version = '20100430075711'[0m
  [4;36;1mSQL (1.0ms)[0m   [0;1mSHOW TABLES[0m
  [4;35;1mSQL (0.0ms)[0m   [0mSELECT version FROM schema_migrations[0m
  [4;36;1mSQL (1.0ms)[0m   [0;1mSHOW TABLES[0m
  [4;35;1mSQL (5.0ms)[0m   [0mSHOW FIELDS FROM `expense_items`[0m
  [4;36;1mSQL (12.0ms)[0m   [0;1mdescribe `expense_items`[0m
  [4;35;1mSQL (7.0ms)[0m   [0mSHOW KEYS FROM `expense_items`[0m
  [4;36;1mSQL (3.0ms)[0m   [0;1mSHOW FIELDS FROM `expense_types`[0m
  [4;35;1mSQL (10.0ms)[0m   [0mdescribe `expense_types`[0m
  [4;36;1mSQL (6.0ms)[0m   [0;1mSHOW KEYS FROM `expense_types`[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mSET NAMES 'utf8'[0m
  [4;35;1mSQL (0.0ms)[0m   [0mSET SQL_AUTO_IS_NULL=0[0m
  [4;36;1mSQL (8.0ms)[0m   [0;1mSHOW TABLES[0m
  [4;35;1mSQL (1.0ms)[0m   [0mSELECT version FROM schema_migrations[0m
Migrating to CreateExpenseTypes (20100422124419)
Migrating to CreateExpenseItems (20100422125245)
Migrating to AddExpensetypeForeignKey (20100422125532)
Migrating to CreateExpenseTags (20100430075711)
  [4;36;1mSQL (185.0ms)[0m   [0;1mCREATE TABLE `expense_tags` (`id` int(11) DEFAULT NULL auto_increment PRIMARY KEY, `name` varchar(255) NOT NULL, `created_at` datetime, `updated_at` datetime) ENGINE=InnoDB[0m
  [4;35;1mSQL (25.0ms)[0m   [0mINSERT INTO schema_migrations (version) VALUES ('20100430075711')[0m
Migrating to JoinItemTag (20100430084030)
  [4;36;1mSQL (175.0ms)[0m   [0;1mCREATE TABLE `expense_items_expense_tags` (`expense_item_id` int(11) NOT NULL, `expense_tag_id` int(11) NOT NULL) ENGINE=InnoDB[0m
  [4;35;1mSQL (237.0ms)[0m   [0mCREATE UNIQUE INDEX `index_items_tags` ON `expense_items_expense_tags` (`expense_item_id`, `expense_tag_id`)[0m
  [4;36;1mSQL (317.0ms)[0m   [0;1mCREATE INDEX `index_tags` ON `expense_items_expense_tags` (`expense_item_id`)[0m
  [4;35;1mSQL (26.0ms)[0m   [0mINSERT INTO schema_migrations (version) VALUES ('20100430084030')[0m
  [4;36;1mSQL (3.0ms)[0m   [0;1mSHOW TABLES[0m
  [4;35;1mSQL (0.0ms)[0m   [0mSELECT version FROM schema_migrations[0m
  [4;36;1mSQL (1.0ms)[0m   [0;1mSHOW TABLES[0m
  [4;35;1mSQL (4.0ms)[0m   [0mSHOW FIELDS FROM `expense_items`[0m
  [4;36;1mSQL (8.0ms)[0m   [0;1mdescribe `expense_items`[0m
  [4;35;1mSQL (5.0ms)[0m   [0mSHOW KEYS FROM `expense_items`[0m
  [4;36;1mSQL (4.0ms)[0m   [0;1mSHOW FIELDS FROM `expense_items_expense_tags`[0m
  [4;35;1mSQL (16.0ms)[0m   [0mdescribe `expense_items_expense_tags`[0m
  [4;36;1mSQL (2.0ms)[0m   [0;1mSHOW KEYS FROM `expense_items_expense_tags`[0m
  [4;35;1mSQL (3.0ms)[0m   [0mSHOW FIELDS FROM `expense_tags`[0m
  [4;36;1mSQL (8.0ms)[0m   [0;1mdescribe `expense_tags`[0m
  [4;35;1mSQL (5.0ms)[0m   [0mSHOW KEYS FROM `expense_tags`[0m
  [4;36;1mSQL (3.0ms)[0m   [0;1mSHOW FIELDS FROM `expense_types`[0m
  [4;35;1mSQL (7.0ms)[0m   [0mdescribe `expense_types`[0m
  [4;36;1mSQL (5.0ms)[0m   [0;1mSHOW KEYS FROM `expense_types`[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mSET NAMES 'utf8'[0m
  [4;35;1mSQL (0.0ms)[0m   [0mSET SQL_AUTO_IS_NULL=0[0m
  [4;36;1mSQL (1.0ms)[0m   [0;1mSHOW TABLES[0m
  [4;35;1mSQL (0.0ms)[0m   [0mSELECT version FROM schema_migrations[0m
  [4;36;1mSQL (1.0ms)[0m   [0;1mSHOW TABLES[0m
  [4;35;1mSQL (0.0ms)[0m   [0mSELECT version FROM schema_migrations[0m
Migrating to JoinItemTag (20100430084030)
  [4;36;1mSQL (41.0ms)[0m   [0;1mDROP TABLE `expense_items_expense_tags`[0m
  [4;35;1mSQL (55.0ms)[0m   [0mDELETE FROM schema_migrations WHERE version = '20100430084030'[0m
Migrating to CreateExpenseTags (20100430075711)
  [4;36;1mSQL (57.0ms)[0m   [0;1mDROP TABLE `expense_tags`[0m
  [4;35;1mSQL (20.0ms)[0m   [0mDELETE FROM schema_migrations WHERE version = '20100430075711'[0m
  [4;36;1mSQL (1.0ms)[0m   [0;1mSHOW TABLES[0m
  [4;35;1mSQL (0.0ms)[0m   [0mSELECT version FROM schema_migrations[0m
  [4;36;1mSQL (1.0ms)[0m   [0;1mSHOW TABLES[0m
  [4;35;1mSQL (5.0ms)[0m   [0mSHOW FIELDS FROM `expense_items`[0m
  [4;36;1mSQL (11.0ms)[0m   [0;1mdescribe `expense_items`[0m
  [4;35;1mSQL (5.0ms)[0m   [0mSHOW KEYS FROM `expense_items`[0m
  [4;36;1mSQL (3.0ms)[0m   [0;1mSHOW FIELDS FROM `expense_types`[0m
  [4;35;1mSQL (8.0ms)[0m   [0mdescribe `expense_types`[0m
  [4;36;1mSQL (5.0ms)[0m   [0;1mSHOW KEYS FROM `expense_types`[0m
  [4;36;1mSQL (1.0ms)[0m   [0;1mSET NAMES 'utf8'[0m
  [4;35;1mSQL (0.0ms)[0m   [0mSET SQL_AUTO_IS_NULL=0[0m
  [4;36;1mSQL (1.0ms)[0m   [0;1mSHOW TABLES[0m
  [4;35;1mSQL (0.0ms)[0m   [0mSELECT version FROM schema_migrations[0m
  [4;36;1mSQL (1.0ms)[0m   [0;1mSHOW TABLES[0m
  [4;35;1mSQL (0.0ms)[0m   [0mSELECT version FROM schema_migrations[0m
Migrating to AddExpensetypeForeignKey (20100422125532)
  [4;36;1mSQL (516.0ms)[0m   [0;1m
 ALTER TABLE expense_items 
 DROP FOREIGN KEY expense_type_foreign_key
 [0m
  [4;35;1mSQL (58.0ms)[0m   [0mDELETE FROM schema_migrations WHERE version = '20100422125532'[0m
Migrating to CreateExpenseItems (20100422125245)
  [4;36;1mSQL (57.0ms)[0m   [0;1mDROP TABLE `expense_items`[0m
  [4;35;1mSQL (71.0ms)[0m   [0mDELETE FROM schema_migrations WHERE version = '20100422125245'[0m
Migrating to CreateExpenseTypes (20100422124419)
  [4;36;1mSQL (69.0ms)[0m   [0;1mDROP TABLE `expense_types`[0m
  [4;35;1mSQL (30.0ms)[0m   [0mDELETE FROM schema_migrations WHERE version = '20100422124419'[0m
  [4;36;1mSQL (1.0ms)[0m   [0;1mSHOW TABLES[0m
  [4;35;1mSQL (0.0ms)[0m   [0mSELECT version FROM schema_migrations[0m
  [4;36;1mSQL (1.0ms)[0m   [0;1mSHOW TABLES[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mSET NAMES 'utf8'[0m
  [4;35;1mSQL (0.0ms)[0m   [0mSET SQL_AUTO_IS_NULL=0[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mSHOW TABLES[0m
  [4;35;1mSQL (0.0ms)[0m   [0mSELECT version FROM schema_migrations[0m
Migrating to CreateExpenseTypes (20100422124419)
  [4;36;1mSQL (132.0ms)[0m   [0;1mCREATE TABLE `expense_types` (`id` int(11) DEFAULT NULL auto_increment PRIMARY KEY, `description` varchar(255) NOT NULL, `created_at` datetime, `updated_at` datetime) ENGINE=InnoDB[0m
  [4;35;1mSQL (30.0ms)[0m   [0mINSERT INTO schema_migrations (version) VALUES ('20100422124419')[0m
Migrating to CreateExpenseItems (20100422125245)
  [4;36;1mSQL (69.0ms)[0m   [0;1mCREATE TABLE `expense_items` (`id` int(11) DEFAULT NULL auto_increment PRIMARY KEY, `date` date NOT NULL, `expense_type_id` int(11) NOT NULL, `value` float NOT NULL, `note` text, `created_at` datetime, `updated_at` datetime) ENGINE=InnoDB[0m
  [4;35;1mSQL (29.0ms)[0m   [0mINSERT INTO schema_migrations (version) VALUES ('20100422125245')[0m
Migrating to AddExpensetypeForeignKey (20100422125532)
  [4;36;1mSQL (303.0ms)[0m   [0;1m
 ALTER TABLE expense_items
 ADD CONSTRAINT expense_type_foreign_key 
 FOREIGN KEY (expense_type_id)
 REFERENCES expense_types(id)
 ON DELETE RESTRICT
 ON UPDATE RESTRICT
 [0m
  [4;35;1mSQL (21.0ms)[0m   [0mINSERT INTO schema_migrations (version) VALUES ('20100422125532')[0m
Migrating to CreateExpenseTags (20100430075711)
  [4;36;1mSQL (180.0ms)[0m   [0;1mCREATE TABLE `expense_tags` (`id` int(11) DEFAULT NULL auto_increment PRIMARY KEY, `name` varchar(255) NOT NULL, `created_at` datetime, `updated_at` datetime) ENGINE=InnoDB[0m
  [4;35;1mSQL (21.0ms)[0m   [0mINSERT INTO schema_migrations (version) VALUES ('20100430075711')[0m
Migrating to JoinItemTag (20100430084030)
  [4;36;1mSQL (104.0ms)[0m   [0;1mCREATE TABLE `expense_items_expense_tags` (`expense_item_id` int(11) NOT NULL, `expense_tag_id` int(11) NOT NULL) ENGINE=InnoDB[0m
  [4;35;1mSQL (238.0ms)[0m   [0mCREATE UNIQUE INDEX `index_items_tags` ON `expense_items_expense_tags` (`expense_item_id`, `expense_tag_id`)[0m
  [4;36;1mSQL (231.0ms)[0m   [0;1mCREATE INDEX `index_tags` ON `expense_items_expense_tags` (`expense_item_id`)[0m
  [4;35;1mSQL (86.0ms)[0m   [0mINSERT INTO schema_migrations (version) VALUES ('20100430084030')[0m
  [4;36;1mSQL (4.0ms)[0m   [0;1mSHOW TABLES[0m
  [4;35;1mSQL (0.0ms)[0m   [0mSELECT version FROM schema_migrations[0m
  [4;36;1mSQL (2.0ms)[0m   [0;1mSHOW TABLES[0m
  [4;35;1mSQL (4.0ms)[0m   [0mSHOW FIELDS FROM `expense_items`[0m
  [4;36;1mSQL (8.0ms)[0m   [0;1mdescribe `expense_items`[0m
  [4;35;1mSQL (5.0ms)[0m   [0mSHOW KEYS FROM `expense_items`[0m
  [4;36;1mSQL (4.0ms)[0m   [0;1mSHOW FIELDS FROM `expense_items_expense_tags`[0m
  [4;35;1mSQL (5.0ms)[0m   [0mdescribe `expense_items_expense_tags`[0m
  [4;36;1mSQL (1.0ms)[0m   [0;1mSHOW KEYS FROM `expense_items_expense_tags`[0m
  [4;35;1mSQL (25.0ms)[0m   [0mSHOW FIELDS FROM `expense_tags`[0m
  [4;36;1mSQL (8.0ms)[0m   [0;1mdescribe `expense_tags`[0m
  [4;35;1mSQL (5.0ms)[0m   [0mSHOW KEYS FROM `expense_tags`[0m
  [4;36;1mSQL (4.0ms)[0m   [0;1mSHOW FIELDS FROM `expense_types`[0m
  [4;35;1mSQL (8.0ms)[0m   [0mdescribe `expense_types`[0m
  [4;36;1mSQL (5.0ms)[0m   [0;1mSHOW KEYS FROM `expense_types`[0m
  [4;36;1mSQL (1.0ms)[0m   [0;1mSET NAMES 'utf8'[0m
  [4;35;1mSQL (1.0ms)[0m   [0mSET SQL_AUTO_IS_NULL=0[0m


Processing ExpenseTypesController#index (for 127.0.0.1 at 2010-04-30 17:43:39) [GET]
  [4;36;1mExpenseType Load (1.0ms)[0m   [0;1mSELECT * FROM `expense_types` [0m
Rendering template within layouts/expense_types
Rendering expense_types/index
Completed in 507ms (View: 362, DB: 3) | 200 OK [http://localhost/expense_types]
  [4;35;1mSQL (0.0ms)[0m   [0mSET NAMES 'utf8'[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mSET SQL_AUTO_IS_NULL=0[0m


Processing ExpenseTypesController#new (for 127.0.0.1 at 2010-04-30 17:43:45) [GET]
  [4;35;1mExpenseType Columns (6.0ms)[0m   [0mSHOW FIELDS FROM `expense_types`[0m
Rendering template within layouts/expense_types
Rendering expense_types/new
Completed in 215ms (View: 179, DB: 6) | 200 OK [http://localhost/expense_types/new]
  [4;36;1mSQL (1.0ms)[0m   [0;1mSET NAMES 'utf8'[0m
  [4;35;1mSQL (1.0ms)[0m   [0mSET SQL_AUTO_IS_NULL=0[0m


Processing ExpenseTypesController#index (for 127.0.0.1 at 2010-04-30 17:43:56) [GET]
  [4;36;1mExpenseType Load (1.0ms)[0m   [0;1mSELECT * FROM `expense_types` [0m
Rendering template within layouts/expense_types
Rendering expense_types/index
Completed in 43ms (View: 4, DB: 3) | 200 OK [http://localhost/expense_types]
  [4;35;1mSQL (1.0ms)[0m   [0mSET NAMES 'utf8'[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mSET SQL_AUTO_IS_NULL=0[0m


Processing ExpenseTypesController#new (for 127.0.0.1 at 2010-04-30 17:43:59) [GET]
  [4;35;1mExpenseType Columns (8.0ms)[0m   [0mSHOW FIELDS FROM `expense_types`[0m
Rendering template within layouts/expense_types
Rendering expense_types/new
Completed in 86ms (View: 29, DB: 9) | 200 OK [http://localhost/expense_types/new]
  [4;36;1mSQL (1.0ms)[0m   [0;1mSET NAMES 'utf8'[0m
  [4;35;1mSQL (1.0ms)[0m   [0mSET SQL_AUTO_IS_NULL=0[0m


Processing ExpenseItemsController#index (for 127.0.0.1 at 2010-04-30 17:45:27) [GET]
  [4;36;1mExpenseItem Load (1.0ms)[0m   [0;1mSELECT * FROM `expense_items` [0m
Rendering template within layouts/expense_items
Rendering expense_items/index
Completed in 1727ms (View: 1448, DB: 3) | 200 OK [http://localhost/expense_items]
  [4;35;1mSQL (0.0ms)[0m   [0mSET NAMES 'utf8'[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mSET SQL_AUTO_IS_NULL=0[0m


Processing ExpenseItemsController#new (for 127.0.0.1 at 2010-04-30 17:45:35) [GET]
  [4;35;1mExpenseItem Columns (7.0ms)[0m   [0mSHOW FIELDS FROM `expense_items`[0m
Rendering template within layouts/expense_items
Rendering expense_items/new
Completed in 471ms (View: 452, DB: 7) | 200 OK [http://localhost/expense_items/new]
  [4;36;1mSQL (1.0ms)[0m   [0;1mSET NAMES 'utf8'[0m
  [4;35;1mSQL (0.0ms)[0m   [0mSET SQL_AUTO_IS_NULL=0[0m


Processing ExpenseItemsController#index (for 127.0.0.1 at 2010-04-30 17:46:33) [GET]
  [4;36;1mExpenseItem Load (1.0ms)[0m   [0;1mSELECT * FROM `expense_items` [0m
Rendering template within layouts/expense_items
Rendering expense_items/index
Completed in 14ms (View: 2, DB: 2) | 200 OK [http://localhost/expense_items]
  [4;35;1mSQL (0.0ms)[0m   [0mSET NAMES 'utf8'[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mSET SQL_AUTO_IS_NULL=0[0m


Processing ExpenseItemsController#new (for 127.0.0.1 at 2010-04-30 17:47:50) [GET]
  [4;35;1mExpenseItem Columns (5.0ms)[0m   [0mSHOW FIELDS FROM `expense_items`[0m
Rendering template within layouts/expense_items
Rendering expense_items/new
Completed in 32ms (View: 17, DB: 5) | 200 OK [http://localhost/expense_items/new]
  [4;36;1mSQL (0.0ms)[0m   [0;1mSET NAMES 'utf8'[0m
  [4;35;1mSQL (0.0ms)[0m   [0mSET SQL_AUTO_IS_NULL=0[0m


Processing ExpenseTypesController#new (for 127.0.0.1 at 2010-04-30 18:06:40) [GET]
  [4;36;1mExpenseType Columns (4.0ms)[0m   [0;1mSHOW FIELDS FROM `expense_types`[0m
Rendering template within layouts/expense_types
Rendering expense_types/new
Completed in 23ms (View: 7, DB: 4) | 200 OK [http://localhost/expense_types/new]
  [4;35;1mSQL (1.0ms)[0m   [0mSET NAMES 'utf8'[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mSET SQL_AUTO_IS_NULL=0[0m


Processing ExpenseTypesController#create (for 127.0.0.1 at 2010-04-30 18:06:47) [POST]
  Parameters: {"commit"=>"Create", "authenticity_token"=>"dyVao/dGVA17AOPiYp2T0xHffmg9e8QGrfACfH8B870=", "expense_type"=>{"description"=>"出租车"}}
  [4;35;1mExpenseType Columns (4.0ms)[0m   [0mSHOW FIELDS FROM `expense_types`[0m
  [4;36;1mSQL (20.0ms)[0m   [0;1mBEGIN[0m
  [4;35;1mExpenseType Create (1.0ms)[0m   [0mINSERT INTO `expense_types` (`updated_at`, `description`, `created_at`) VALUES('2010-04-30 10:06:47', '出租车', '2010-04-30 10:06:47')[0m
  [4;36;1mSQL (77.0ms)[0m   [0;1mCOMMIT[0m
Redirected to http://localhost:3000/expense_types/1
Completed in 166ms (DB: 103) | 302 Found [http://localhost/expense_types]
  [4;35;1mSQL (0.0ms)[0m   [0mSET NAMES 'utf8'[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mSET SQL_AUTO_IS_NULL=0[0m


Processing ExpenseTypesController#show (for 127.0.0.1 at 2010-04-30 18:06:48) [GET]
  Parameters: {"id"=>"1"}
  [4;35;1mExpenseType Columns (5.0ms)[0m   [0mSHOW FIELDS FROM `expense_types`[0m
  [4;36;1mExpenseType Load (25.0ms)[0m   [0;1mSELECT * FROM `expense_types` WHERE (`expense_types`.`id` = 1) [0m
Rendering template within layouts/expense_types
Rendering expense_types/show
Completed in 50ms (View: 10, DB: 30) | 200 OK [http://localhost/expense_types/1]
  [4;35;1mSQL (0.0ms)[0m   [0mSET NAMES 'utf8'[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mSET SQL_AUTO_IS_NULL=0[0m


Processing ExpenseTypesController#edit (for 127.0.0.1 at 2010-04-30 18:06:55) [GET]
  Parameters: {"id"=>"1"}
  [4;35;1mExpenseType Columns (4.0ms)[0m   [0mSHOW FIELDS FROM `expense_types`[0m
  [4;36;1mExpenseType Load (5.0ms)[0m   [0;1mSELECT * FROM `expense_types` WHERE (`expense_types`.`id` = 1) [0m
Rendering template within layouts/expense_types
Rendering expense_types/edit
Completed in 32ms (View: 13, DB: 9) | 200 OK [http://localhost/expense_types/1/edit]
  [4;35;1mSQL (0.0ms)[0m   [0mSET NAMES 'utf8'[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mSET SQL_AUTO_IS_NULL=0[0m


Processing ExpenseTypesController#index (for 127.0.0.1 at 2010-04-30 18:06:58) [GET]
  [4;35;1mExpenseType Load (0.0ms)[0m   [0mSELECT * FROM `expense_types` [0m
Rendering template within layouts/expense_types
Rendering expense_types/index
  [4;36;1mExpenseType Columns (5.0ms)[0m   [0;1mSHOW FIELDS FROM `expense_types`[0m
Completed in 63ms (View: 49, DB: 5) | 200 OK [http://localhost/expense_types]
  [4;35;1mSQL (0.0ms)[0m   [0mSET NAMES 'utf8'[0m
  [4;36;1mSQL (1.0ms)[0m   [0;1mSET SQL_AUTO_IS_NULL=0[0m


Processing ExpenseTypesController#show (for 127.0.0.1 at 2010-04-30 18:07:03) [GET]
  Parameters: {"id"=>"1"}
  [4;35;1mExpenseType Columns (5.0ms)[0m   [0mSHOW FIELDS FROM `expense_types`[0m
  [4;36;1mExpenseType Load (5.0ms)[0m   [0;1mSELECT * FROM `expense_types` WHERE (`expense_types`.`id` = 1) [0m
Rendering template within layouts/expense_types
Rendering expense_types/show
Completed in 23ms (View: 4, DB: 11) | 200 OK [http://localhost/expense_types/1]
  [4;35;1mSQL (0.0ms)[0m   [0mSET NAMES 'utf8'[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mSET SQL_AUTO_IS_NULL=0[0m


Processing ExpenseTypesController#index (for 127.0.0.1 at 2010-04-30 18:07:07) [GET]
  [4;35;1mExpenseType Load (0.0ms)[0m   [0mSELECT * FROM `expense_types` [0m
Rendering template within layouts/expense_types
Rendering expense_types/index
  [4;36;1mExpenseType Columns (5.0ms)[0m   [0;1mSHOW FIELDS FROM `expense_types`[0m
Completed in 22ms (View: 9, DB: 5) | 200 OK [http://localhost/expense_types]
  [4;35;1mSQL (0.0ms)[0m   [0mSET NAMES 'utf8'[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mSET SQL_AUTO_IS_NULL=0[0m


Processing ExpenseItemsController#index (for 127.0.0.1 at 2010-04-30 18:07:19) [GET]
  [4;35;1mExpenseItem Load (0.0ms)[0m   [0mSELECT * FROM `expense_items` [0m
Rendering template within layouts/expense_items
Rendering expense_items/index
Completed in 13ms (View: 3, DB: 0) | 200 OK [http://localhost/expense_items/]
  [4;36;1mSQL (0.0ms)[0m   [0;1mSET NAMES 'utf8'[0m
  [4;35;1mSQL (1.0ms)[0m   [0mSET SQL_AUTO_IS_NULL=0[0m


Processing ExpenseItemsController#new (for 127.0.0.1 at 2010-04-30 18:07:25) [GET]
  [4;36;1mExpenseItem Columns (5.0ms)[0m   [0;1mSHOW FIELDS FROM `expense_items`[0m
Rendering template within layouts/expense_items
Rendering expense_items/new
Completed in 76ms (View: 62, DB: 6) | 200 OK [http://localhost/expense_items/new]
  [4;35;1mSQL (1.0ms)[0m   [0mSET NAMES 'utf8'[0m
  [4;36;1mSQL (1.0ms)[0m   [0;1mSET SQL_AUTO_IS_NULL=0[0m


Processing ExpenseItemsController#create (for 127.0.0.1 at 2010-04-30 18:07:35) [POST]
  Parameters: {"commit"=>"Create", "authenticity_token"=>"dyVao/dGVA17AOPiYp2T0xHffmg9e8QGrfACfH8B870=", "expense_item"=>{"date(1i)"=>"2010", "date(2i)"=>"4", "date(3i)"=>"30", "value"=>"0", "note"=>"ddd", "expense_type_id"=>"1"}}
  [4;35;1mExpenseItem Columns (4.0ms)[0m   [0mSHOW FIELDS FROM `expense_items`[0m
  [4;36;1mSQL (1.0ms)[0m   [0;1mBEGIN[0m
  [4;35;1mSQL (0.0ms)[0m   [0mROLLBACK[0m
Rendering template within layouts/expense_items
Rendering expense_items/new
Completed in 36ms (View: 16, DB: 7) | 200 OK [http://localhost/expense_items]
  [4;36;1mSQL (1.0ms)[0m   [0;1mSET NAMES 'utf8'[0m
  [4;35;1mSQL (1.0ms)[0m   [0mSET SQL_AUTO_IS_NULL=0[0m


Processing ExpenseItemsController#index (for 127.0.0.1 at 2010-04-30 18:07:57) [GET]
  [4;36;1mExpenseItem Load (1.0ms)[0m   [0;1mSELECT * FROM `expense_items` [0m
Rendering template within layouts/expense_items
Rendering expense_items/index
Completed in 15ms (View: 2, DB: 3) | 200 OK [http://localhost/expense_items]
  [4;35;1mSQL (0.0ms)[0m   [0mSET NAMES 'utf8'[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mSET SQL_AUTO_IS_NULL=0[0m


Processing ExpenseItemsController#index (for 127.0.0.1 at 2010-04-30 18:13:31) [GET]
  [4;35;1mExpenseItem Load (1.0ms)[0m   [0mSELECT * FROM `expense_items` [0m
Rendering template within layouts/expense_items
Rendering expense_items/index
Completed in 13ms (View: 3, DB: 1) | 200 OK [http://localhost/expense_items]
  [4;36;1mSQL (0.0ms)[0m   [0;1mSET NAMES 'utf8'[0m
  [4;35;1mSQL (1.0ms)[0m   [0mSET SQL_AUTO_IS_NULL=0[0m


Processing ExpenseItemsController#new (for 127.0.0.1 at 2010-04-30 18:13:35) [GET]
  [4;36;1mExpenseItem Columns (7.0ms)[0m   [0;1mSHOW FIELDS FROM `expense_items`[0m
Rendering template within layouts/expense_items
Rendering expense_items/new

ActionView::TemplateError (You have a nil object when you didn't expect it!
You might have expected an instance of Array.
The error occurred while evaluating nil.inject) on line #12 of app/views/expense_items/new.html.erb:
9:   </p>
10:   <p>
11:     <%= f.label :expense_type_id %><br />
12:     <%= f.select :expense_type_id, @expense_types %>
13:   </p>
14:   <p>
15:     <%= f.label :value %><br />

    app/views/expense_items/new.html.erb:12
    app/views/expense_items/new.html.erb:3
    app/controllers/expense_items_controller.rb:29:in `new'

Rendered rescues/_trace (127.0ms)
Rendered rescues/_request_and_response (14.0ms)
Rendering rescues/layout (internal_server_error)
  [4;35;1mSQL (0.0ms)[0m   [0mSET NAMES 'utf8'[0m
  [4;36;1mSQL (1.0ms)[0m   [0;1mSET SQL_AUTO_IS_NULL=0[0m


Processing ExpenseItemsController#new (for 127.0.0.1 at 2010-04-30 18:16:01) [GET]
  [4;35;1mExpenseItem Columns (5.0ms)[0m   [0mSHOW FIELDS FROM `expense_items`[0m
  [4;36;1mExpenseType Load (1.0ms)[0m   [0;1mSELECT * FROM `expense_types` [0m
  [4;35;1mExpenseType Columns (4.0ms)[0m   [0mSHOW FIELDS FROM `expense_types`[0m
Rendering template within layouts/expense_items
Rendering expense_items/new
Completed in 44ms (View: 17, DB: 11) | 200 OK [http://localhost/expense_items/new]
  [4;36;1mSQL (1.0ms)[0m   [0;1mSET NAMES 'utf8'[0m
  [4;35;1mSQL (0.0ms)[0m   [0mSET SQL_AUTO_IS_NULL=0[0m


Processing ExpenseItemsController#create (for 127.0.0.1 at 2010-04-30 19:08:56) [POST]
  Parameters: {"commit"=>"Create", "authenticity_token"=>"dyVao/dGVA17AOPiYp2T0xHffmg9e8QGrfACfH8B870=", "expense_item"=>{"date(1i)"=>"2010", "date(2i)"=>"4", "date(3i)"=>"30", "value"=>"19", "note"=>"上班去了", "expense_type_id"=>"1"}}
  [4;36;1mExpenseItem Columns (7.0ms)[0m   [0;1mSHOW FIELDS FROM `expense_items`[0m
  [4;35;1mSQL (7.0ms)[0m   [0mBEGIN[0m
  [4;36;1mExpenseItem Create (97.0ms)[0m   [0;1mINSERT INTO `expense_items` (`updated_at`, `date`, `value`, `expense_type_id`, `note`, `created_at`) VALUES('2010-04-30 11:08:56', '2010-04-30', 19.0, 1, '上班去了', '2010-04-30 11:08:56')[0m
  [4;35;1mSQL (110.0ms)[0m   [0mCOMMIT[0m
Redirected to http://localhost:3000/expense/2010/4
Completed in 266ms (DB: 222) | 302 Found [http://localhost/expense_items]
  [4;36;1mSQL (0.0ms)[0m   [0;1mSET NAMES 'utf8'[0m
  [4;35;1mSQL (0.0ms)[0m   [0mSET SQL_AUTO_IS_NULL=0[0m


Processing ExpenseController#index (for 127.0.0.1 at 2010-04-30 19:08:57) [GET]
  Parameters: {"month"=>"4", "year"=>"2010"}
  [4;36;1mExpenseItem Load (43.0ms)[0m   [0;1mSELECT * FROM `expense_items` WHERE (date BETWEEN '2010-04-01' and '2010-04-30') [0m
Rendering template within layouts/expense
Rendering expense/index
  [4;35;1mExpenseItem Columns (5.0ms)[0m   [0mSHOW FIELDS FROM `expense_items`[0m
  [4;36;1mExpenseType Columns (19.0ms)[0m   [0;1mSHOW FIELDS FROM `expense_types`[0m
  [4;35;1mExpenseType Load (13.0ms)[0m   [0mSELECT * FROM `expense_types` WHERE (`expense_types`.`id` = 1) [0m
Completed in 149ms (View: 51, DB: 80) | 200 OK [http://localhost/expense/2010/4]
  [4;36;1mSQL (1.0ms)[0m   [0;1mSET NAMES 'utf8'[0m
  [4;35;1mSQL (1.0ms)[0m   [0mSET SQL_AUTO_IS_NULL=0[0m


Processing ExpenseTypesController#new (for 127.0.0.1 at 2010-04-30 19:09:10) [GET]
  [4;36;1mExpenseType Columns (4.0ms)[0m   [0;1mSHOW FIELDS FROM `expense_types`[0m
Rendering template within layouts/expense_types
Rendering expense_types/new
Completed in 70ms (View: 7, DB: 6) | 200 OK [http://localhost/expense_types/new]
  [4;35;1mSQL (0.0ms)[0m   [0mSET NAMES 'utf8'[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mSET SQL_AUTO_IS_NULL=0[0m


Processing ExpenseTypesController#create (for 127.0.0.1 at 2010-04-30 19:09:22) [POST]
  Parameters: {"commit"=>"Create", "authenticity_token"=>"dyVao/dGVA17AOPiYp2T0xHffmg9e8QGrfACfH8B870=", "expense_type"=>{"description"=>"工作餐"}}
  [4;35;1mExpenseType Columns (5.0ms)[0m   [0mSHOW FIELDS FROM `expense_types`[0m
  [4;36;1mSQL (3.0ms)[0m   [0;1mBEGIN[0m
  [4;35;1mExpenseType Create (1.0ms)[0m   [0mINSERT INTO `expense_types` (`updated_at`, `description`, `created_at`) VALUES('2010-04-30 11:09:22', '工作餐', '2010-04-30 11:09:22')[0m
  [4;36;1mSQL (230.0ms)[0m   [0;1mCOMMIT[0m
Redirected to http://localhost:3000/expense_types/2
Completed in 255ms (DB: 239) | 302 Found [http://localhost/expense_types]
  [4;35;1mSQL (0.0ms)[0m   [0mSET NAMES 'utf8'[0m
  [4;36;1mSQL (1.0ms)[0m   [0;1mSET SQL_AUTO_IS_NULL=0[0m


Processing ExpenseTypesController#show (for 127.0.0.1 at 2010-04-30 19:09:24) [GET]
  Parameters: {"id"=>"2"}
  [4;35;1mExpenseType Columns (35.0ms)[0m   [0mSHOW FIELDS FROM `expense_types`[0m
  [4;36;1mExpenseType Load (51.0ms)[0m   [0;1mSELECT * FROM `expense_types` WHERE (`expense_types`.`id` = 2) [0m
Rendering template within layouts/expense_types
Rendering expense_types/show
Completed in 104ms (View: 8, DB: 87) | 200 OK [http://localhost/expense_types/2]
  [4;35;1mSQL (0.0ms)[0m   [0mSET NAMES 'utf8'[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mSET SQL_AUTO_IS_NULL=0[0m


Processing ApplicationController#index (for 127.0.0.1 at 2010-04-30 19:09:36) [GET]

ActionController::RoutingError (No route matches "/expense%E3%80%81" with {:method=>:get}):
  

Rendering rescues/layout (not_found)
  [4;35;1mSQL (1.0ms)[0m   [0mSET NAMES 'utf8'[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mSET SQL_AUTO_IS_NULL=0[0m


Processing ExpenseController#index (for 127.0.0.1 at 2010-04-30 19:09:42) [GET]
  [4;35;1mExpenseItem Load (1.0ms)[0m   [0mSELECT * FROM `expense_items` WHERE (date BETWEEN '2010-04-01' and '2010-04-30') [0m
Rendering template within layouts/expense
Rendering expense/index
  [4;36;1mExpenseItem Columns (5.0ms)[0m   [0;1mSHOW FIELDS FROM `expense_items`[0m
  [4;35;1mExpenseType Columns (3.0ms)[0m   [0mSHOW FIELDS FROM `expense_types`[0m
  [4;36;1mExpenseType Load (6.0ms)[0m   [0;1mSELECT * FROM `expense_types` WHERE (`expense_types`.`id` = 1) [0m
Completed in 44ms (View: 18, DB: 16) | 200 OK [http://localhost/expense]
  [4;35;1mSQL (0.0ms)[0m   [0mSET NAMES 'utf8'[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mSET SQL_AUTO_IS_NULL=0[0m


Processing ExpenseItemsController#new (for 127.0.0.1 at 2010-04-30 19:09:46) [GET]
  [4;35;1mExpenseItem Columns (4.0ms)[0m   [0mSHOW FIELDS FROM `expense_items`[0m
  [4;36;1mExpenseType Load (0.0ms)[0m   [0;1mSELECT * FROM `expense_types` [0m
  [4;35;1mExpenseType Columns (3.0ms)[0m   [0mSHOW FIELDS FROM `expense_types`[0m
Rendering template within layouts/expense_items
Rendering expense_items/new
Completed in 46ms (View: 18, DB: 7) | 200 OK [http://localhost/expense_items/new]
  [4;36;1mSQL (0.0ms)[0m   [0;1mSET NAMES 'utf8'[0m
  [4;35;1mSQL (0.0ms)[0m   [0mSET SQL_AUTO_IS_NULL=0[0m


Processing ExpenseItemsController#new (for 127.0.0.1 at 2010-04-30 19:10:47) [GET]
  [4;36;1mExpenseItem Columns (36.0ms)[0m   [0;1mSHOW FIELDS FROM `expense_items`[0m
  [4;35;1mExpenseType Load (1.0ms)[0m   [0mSELECT * FROM `expense_types` [0m
  [4;36;1mExpenseType Columns (3.0ms)[0m   [0;1mSHOW FIELDS FROM `expense_types`[0m
Rendering template within layouts/expense_items
Rendering expense_items/new

ActionView::TemplateError (undefined local variable or method `current_month_url' for #<ActionView::Base:0xa3b8598>) on line #27 of app/views/expense_items/new.html.erb:
24:   </p>
25: <% end %>
26: 
27: <%= link_to 'Back', current_month_url %>

    app/views/expense_items/new.html.erb:27
    app/controllers/expense_items_controller.rb:29:in `new'

Rendered rescues/_trace (144.0ms)
Rendered rescues/_request_and_response (0.0ms)
Rendering rescues/layout (internal_server_error)
  [4;35;1mSQL (1.0ms)[0m   [0mSET NAMES 'utf8'[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mSET SQL_AUTO_IS_NULL=0[0m


Processing ExpenseItemsController#new (for 127.0.0.1 at 2010-04-30 19:12:50) [GET]
  [4;35;1mExpenseItem Columns (5.0ms)[0m   [0mSHOW FIELDS FROM `expense_items`[0m
  [4;36;1mExpenseType Load (0.0ms)[0m   [0;1mSELECT * FROM `expense_types` [0m
  [4;35;1mExpenseType Columns (3.0ms)[0m   [0mSHOW FIELDS FROM `expense_types`[0m
Rendering template within layouts/expense_items
Rendering expense_items/new
Completed in 56ms (View: 28, DB: 9) | 200 OK [http://localhost/expense_items/new]
  [4;36;1mSQL (1.0ms)[0m   [0;1mSET NAMES 'utf8'[0m
  [4;35;1mSQL (1.0ms)[0m   [0mSET SQL_AUTO_IS_NULL=0[0m


Processing ExpenseItemsController#create (for 127.0.0.1 at 2010-04-30 19:14:14) [POST]
  Parameters: {"commit"=>"Create", "authenticity_token"=>"dyVao/dGVA17AOPiYp2T0xHffmg9e8QGrfACfH8B870=", "expense_item"=>{"date(1i)"=>"2010", "date(2i)"=>"4", "date(3i)"=>"30", "value"=>"10", "note"=>"海鹏中午吃饭10", "expense_type_id"=>"2"}}
  [4;36;1mExpenseItem Columns (6.0ms)[0m   [0;1mSHOW FIELDS FROM `expense_items`[0m
  [4;35;1mSQL (3.0ms)[0m   [0mBEGIN[0m
  [4;36;1mExpenseItem Create (0.0ms)[0m   [0;1mINSERT INTO `expense_items` (`updated_at`, `date`, `value`, `expense_type_id`, `note`, `created_at`) VALUES('2010-04-30 11:14:14', '2010-04-30', 10.0, 2, '海鹏中午吃饭10', '2010-04-30 11:14:14')[0m
  [4;35;1mSQL (65.0ms)[0m   [0mCOMMIT[0m
Redirected to http://localhost:3000/expense/2010/4
Completed in 96ms (DB: 76) | 302 Found [http://localhost/expense_items]
  [4;36;1mSQL (0.0ms)[0m   [0;1mSET NAMES 'utf8'[0m
  [4;35;1mSQL (1.0ms)[0m   [0mSET SQL_AUTO_IS_NULL=0[0m


Processing ExpenseController#index (for 127.0.0.1 at 2010-04-30 19:14:15) [GET]
  Parameters: {"month"=>"4", "year"=>"2010"}
  [4;36;1mExpenseItem Load (1.0ms)[0m   [0;1mSELECT * FROM `expense_items` WHERE (date BETWEEN '2010-04-01' and '2010-04-30') [0m
Rendering template within layouts/expense
Rendering expense/index
  [4;35;1mExpenseItem Columns (5.0ms)[0m   [0mSHOW FIELDS FROM `expense_items`[0m
  [4;36;1mExpenseType Columns (3.0ms)[0m   [0;1mSHOW FIELDS FROM `expense_types`[0m
  [4;35;1mExpenseType Load (5.0ms)[0m   [0mSELECT * FROM `expense_types` WHERE (`expense_types`.`id` = 1) [0m
  [4;36;1mExpenseType Load (0.0ms)[0m   [0;1mSELECT * FROM `expense_types` WHERE (`expense_types`.`id` = 2) [0m
Completed in 48ms (View: 24, DB: 15) | 200 OK [http://localhost/expense/2010/4]
  [4;35;1mSQL (0.0ms)[0m   [0mSET NAMES 'utf8'[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mSET SQL_AUTO_IS_NULL=0[0m


Processing ExpenseController#index (for 127.0.0.1 at 2010-04-30 19:34:53) [GET]
  [4;35;1mExpenseItem Load (1.0ms)[0m   [0mSELECT * FROM `expense_items` WHERE (date BETWEEN '2010-04-01' and '2010-04-30') [0m
Rendering template within layouts/expense
Rendering expense/index
  [4;36;1mExpenseItem Columns (5.0ms)[0m   [0;1mSHOW FIELDS FROM `expense_items`[0m
  [4;35;1mExpenseType Columns (3.0ms)[0m   [0mSHOW FIELDS FROM `expense_types`[0m
  [4;36;1mExpenseType Load (4.0ms)[0m   [0;1mSELECT * FROM `expense_types` WHERE (`expense_types`.`id` = 1) [0m
  [4;35;1mExpenseType Load (0.0ms)[0m   [0mSELECT * FROM `expense_types` WHERE (`expense_types`.`id` = 2) [0m
Completed in 47ms (View: 24, DB: 13) | 200 OK [http://localhost/expense]
  [4;36;1mSQL (0.0ms)[0m   [0;1mSET NAMES 'utf8'[0m
  [4;35;1mSQL (0.0ms)[0m   [0mSET SQL_AUTO_IS_NULL=0[0m


Processing ExpenseItemsController#new (for 127.0.0.1 at 2010-04-30 19:34:56) [GET]
  [4;36;1mExpenseItem Columns (5.0ms)[0m   [0;1mSHOW FIELDS FROM `expense_items`[0m
  [4;35;1mExpenseType Load (26.0ms)[0m   [0mSELECT * FROM `expense_types` [0m
  [4;36;1mExpenseType Columns (4.0ms)[0m   [0;1mSHOW FIELDS FROM `expense_types`[0m
Rendering template within layouts/expense_items
Rendering expense_items/new
Completed in 83ms (View: 29, DB: 35) | 200 OK [http://localhost/expense_items/new]
  [4;35;1mSQL (0.0ms)[0m   [0mSET NAMES 'utf8'[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mSET SQL_AUTO_IS_NULL=0[0m


Processing ExpenseItemsController#create (for 127.0.0.1 at 2010-04-30 19:35:04) [POST]
  Parameters: {"commit"=>"Create", "authenticity_token"=>"dyVao/dGVA17AOPiYp2T0xHffmg9e8QGrfACfH8B870=", "expense_item"=>{"date(1i)"=>"2010", "date(2i)"=>"4", "date(3i)"=>"30", "value"=>"20", "note"=>"ddd", "expense_type_id"=>"1"}}
  [4;35;1mExpenseItem Columns (5.0ms)[0m   [0mSHOW FIELDS FROM `expense_items`[0m
  [4;36;1mSQL (3.0ms)[0m   [0;1mBEGIN[0m
  [4;35;1mExpenseItem Create (1.0ms)[0m   [0mINSERT INTO `expense_items` (`updated_at`, `date`, `value`, `expense_type_id`, `note`, `created_at`) VALUES('2010-04-30 11:35:04', '2010-04-30', 20.0, 1, 'ddd', '2010-04-30 11:35:04')[0m
  [4;36;1mSQL (76.0ms)[0m   [0;1mCOMMIT[0m
Redirected to http://localhost:3000/expense/2010/4
Completed in 103ms (DB: 85) | 302 Found [http://localhost/expense_items]
  [4;35;1mSQL (0.0ms)[0m   [0mSET NAMES 'utf8'[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mSET SQL_AUTO_IS_NULL=0[0m


Processing ExpenseController#index (for 127.0.0.1 at 2010-04-30 19:35:06) [GET]
  Parameters: {"month"=>"4", "year"=>"2010"}
  [4;35;1mExpenseItem Load (1.0ms)[0m   [0mSELECT * FROM `expense_items` WHERE (date BETWEEN '2010-04-01' and '2010-04-30') [0m
Rendering template within layouts/expense
Rendering expense/index
  [4;36;1mExpenseItem Columns (5.0ms)[0m   [0;1mSHOW FIELDS FROM `expense_items`[0m
  [4;35;1mExpenseType Columns (14.0ms)[0m   [0mSHOW FIELDS FROM `expense_types`[0m
  [4;36;1mExpenseType Load (5.0ms)[0m   [0;1mSELECT * FROM `expense_types` WHERE (`expense_types`.`id` = 1) [0m
  [4;35;1mExpenseType Load (0.0ms)[0m   [0mSELECT * FROM `expense_types` WHERE (`expense_types`.`id` = 2) [0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT * FROM `expense_types` WHERE (`expense_types`.`id` = 1) [0m
Completed in 86ms (View: 25, DB: 25) | 200 OK [http://localhost/expense/2010/4]
  [4;35;1mSQL (0.0ms)[0m   [0mSET NAMES 'utf8'[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mSET SQL_AUTO_IS_NULL=0[0m


Processing ExpenseController#index (for 127.0.0.1 at 2010-04-30 19:35:10) [GET]
  Parameters: {"month"=>"4", "year"=>"2010"}
  [4;35;1mExpenseItem Load (0.0ms)[0m   [0mSELECT * FROM `expense_items` WHERE (date BETWEEN '2010-04-01' and '2010-04-30') [0m
Rendering template within layouts/expense
Rendering expense/index
  [4;36;1mExpenseItem Columns (5.0ms)[0m   [0;1mSHOW FIELDS FROM `expense_items`[0m
  [4;35;1mExpenseType Columns (4.0ms)[0m   [0mSHOW FIELDS FROM `expense_types`[0m
  [4;36;1mExpenseType Load (27.0ms)[0m   [0;1mSELECT * FROM `expense_types` WHERE (`expense_types`.`id` = 1) [0m
  [4;35;1mExpenseType Load (0.0ms)[0m   [0mSELECT * FROM `expense_types` WHERE (`expense_types`.`id` = 2) [0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT * FROM `expense_types` WHERE (`expense_types`.`id` = 1) [0m
Completed in 76ms (View: 28, DB: 36) | 200 OK [http://localhost/expense/2010/4]
  [4;35;1mSQL (1.0ms)[0m   [0mSET NAMES 'utf8'[0m
  [4;36;1mSQL (1.0ms)[0m   [0;1mSET SQL_AUTO_IS_NULL=0[0m


Processing ExpenseController#batch_new (for 127.0.0.1 at 2010-04-30 19:37:53) [GET]
  [4;35;1mExpenseType Load (0.0ms)[0m   [0mSELECT * FROM `expense_types` [0m
  [4;36;1mExpenseType Columns (5.0ms)[0m   [0;1mSHOW FIELDS FROM `expense_types`[0m
Rendering template within layouts/expense
Rendering expense/batch_new

ActionView::TemplateError (You have a nil object when you didn't expect it!
You might have expected an instance of Array.
The error occurred while evaluating nil.inject) on line #16 of app/views/expense/batch_new.html.erb:
13: 
14:     <p>
15:     <%= f.label :expense_type_id, '类型' %>
16:     <%= f.select :expense_type_id, @all_types %>
17:     </p>
18: 
19:     <p>

    app/views/expense/batch_new.html.erb:16
    app/views/expense/batch_new.html.erb:3

Rendered rescues/_trace (307.0ms)
Rendered rescues/_request_and_response (1.0ms)
Rendering rescues/layout (internal_server_error)
  [4;35;1mSQL (0.0ms)[0m   [0mSET NAMES 'utf8'[0m
  [4;36;1mSQL (1.0ms)[0m   [0;1mSET SQL_AUTO_IS_NULL=0[0m


Processing ExpenseController#batch_new (for 127.0.0.1 at 2010-04-30 19:38:37) [GET]
  [4;35;1mExpenseType Load (0.0ms)[0m   [0mSELECT * FROM `expense_types` [0m
  [4;36;1mExpenseType Columns (4.0ms)[0m   [0;1mSHOW FIELDS FROM `expense_types`[0m
Rendering template within layouts/expense
Rendering expense/batch_new
Completed in 72ms (View: 13, DB: 5) | 200 OK [http://localhost/expense/batch_new]
  [4;35;1mSQL (1.0ms)[0m   [0mSET NAMES 'utf8'[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mSET SQL_AUTO_IS_NULL=0[0m


Processing ExpenseController#batch_new (for 127.0.0.1 at 2010-04-30 22:16:52) [GET]
  [4;35;1mExpenseType Load (2.0ms)[0m   [0mSELECT * FROM `expense_types` [0m
  [4;36;1mExpenseType Columns (10.0ms)[0m   [0;1mSHOW FIELDS FROM `expense_types`[0m
Rendering template within layouts/expense
Rendering expense/batch_new
Completed in 84ms (View: 51, DB: 13) | 200 OK [http://localhost/expense/batch_new]
  [4;35;1mSQL (0.0ms)[0m   [0mSET NAMES 'utf8'[0m
  [4;36;1mSQL (1.0ms)[0m   [0;1mSET SQL_AUTO_IS_NULL=0[0m


Processing ExpenseController#batch_create (for 127.0.0.1 at 2010-04-30 22:17:21) [POST]
  Parameters: {"commit"=>"提交", "authenticity_token"=>"OTLGmSGvRhc1cBRb535wpXCA12F+KByI+dY8S1nzB1E=", "expense_items"=>{"date_to(1i)"=>"2010", "date_to(2i)"=>"5", "date_to(3i)"=>"3", "value"=>"0", "note"=>"dfdf", "expense_type_id"=>"1", "date_from(1i)"=>"2010", "date_from(2i)"=>"4", "date_from(3i)"=>"30"}}

TypeError (can't dup NilClass):
  d:/Ruby/lib/ruby/1.8/date/format.rb:959:in `dup'
  d:/Ruby/lib/ruby/1.8/date/format.rb:959:in `_parse'
  d:/Ruby/lib/ruby/1.8/date.rb:974:in `parse'
  app/controllers/expense_controller.rb:18:in `batch_create'

Rendered rescues/_trace (129.0ms)
Rendered rescues/_request_and_response (1.0ms)
Rendering rescues/layout (internal_server_error)
  [4;35;1mSQL (0.0ms)[0m   [0mSET NAMES 'utf8'[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mSET SQL_AUTO_IS_NULL=0[0m


Processing ApplicationController#batch_new (for 127.0.0.1 at 2010-04-30 22:32:41) [GET]

SyntaxError (d:/haipeng/ror/finance/app/controllers/expense_controller.rb:23: syntax error, unexpected ')', expecting kEND
...pense_items][:"date_to(3i)"]))                         
                              ^):
  

Rendered rescues/_trace (226.0ms)
Rendered rescues/_request_and_response (0.0ms)
Rendering rescues/layout (internal_server_error)
  [4;35;1mSQL (0.0ms)[0m   [0mSET NAMES 'utf8'[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mSET SQL_AUTO_IS_NULL=0[0m


Processing ApplicationController#batch_new (for 127.0.0.1 at 2010-04-30 22:32:46) [GET]

SyntaxError (d:/haipeng/ror/finance/app/controllers/expense_controller.rb:23: syntax error, unexpected ')', expecting kEND
...pense_items][:"date_to(3i)"]))                         
                              ^):
  

Rendered rescues/_trace (139.0ms)
Rendered rescues/_request_and_response (3.0ms)
Rendering rescues/layout (internal_server_error)
  [4;35;1mSQL (0.0ms)[0m   [0mSET NAMES 'utf8'[0m
  [4;36;1mSQL (1.0ms)[0m   [0;1mSET SQL_AUTO_IS_NULL=0[0m


Processing ExpenseController#batch_new (for 127.0.0.1 at 2010-04-30 22:33:00) [GET]
  [4;35;1mExpenseType Load (1.0ms)[0m   [0mSELECT * FROM `expense_types` [0m
  [4;36;1mExpenseType Columns (8.0ms)[0m   [0;1mSHOW FIELDS FROM `expense_types`[0m
Rendering template within layouts/expense
Rendering expense/batch_new
Completed in 68ms (View: 40, DB: 10) | 200 OK [http://localhost/expense/batch_new]
  [4;35;1mSQL (1.0ms)[0m   [0mSET NAMES 'utf8'[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mSET SQL_AUTO_IS_NULL=0[0m


Processing ExpenseController#batch_create (for 127.0.0.1 at 2010-04-30 22:33:17) [POST]
  Parameters: {"commit"=>"提交", "authenticity_token"=>"OTLGmSGvRhc1cBRb535wpXCA12F+KByI+dY8S1nzB1E=", "expense_items"=>{"date_to(1i)"=>"2010", "date_to(2i)"=>"5", "date_to(3i)"=>"2", "value"=>"0", "note"=>"ddd", "expense_type_id"=>"1", "date_from(1i)"=>"2010", "date_from(2i)"=>"4", "date_from(3i)"=>"30"}}

ArgumentError (comparison of String with 0 failed):
  d:/Ruby/lib/ruby/1.8/date.rb:596:in `<'
  d:/Ruby/lib/ruby/1.8/date.rb:596:in `valid_civil?'
  d:/Ruby/lib/ruby/1.8/date.rb:726:in `civil'
  app/controllers/expense_controller.rb:18:in `batch_create'

Rendered rescues/_trace (229.0ms)
Rendered rescues/_request_and_response (1.0ms)
Rendering rescues/layout (internal_server_error)
  [4;35;1mSQL (0.0ms)[0m   [0mSET NAMES 'utf8'[0m
  [4;36;1mSQL (1.0ms)[0m   [0;1mSET SQL_AUTO_IS_NULL=0[0m


Processing ExpenseController#batch_new (for 127.0.0.1 at 2010-04-30 22:34:01) [GET]
  [4;35;1mExpenseType Load (3.0ms)[0m   [0mSELECT * FROM `expense_types` [0m
  [4;36;1mExpenseType Columns (8.0ms)[0m   [0;1mSHOW FIELDS FROM `expense_types`[0m
Rendering template within layouts/expense
Rendering expense/batch_new
Completed in 77ms (View: 45, DB: 12) | 200 OK [http://localhost/expense/batch_new]
  [4;35;1mSQL (1.0ms)[0m   [0mSET NAMES 'utf8'[0m
  [4;36;1mSQL (1.0ms)[0m   [0;1mSET SQL_AUTO_IS_NULL=0[0m


Processing ExpenseController#batch_create (for 127.0.0.1 at 2010-04-30 22:34:05) [POST]
  Parameters: {"commit"=>"提交", "authenticity_token"=>"OTLGmSGvRhc1cBRb535wpXCA12F+KByI+dY8S1nzB1E=", "expense_items"=>{"date_to(1i)"=>"2010", "date_to(2i)"=>"5", "date_to(3i)"=>"2", "value"=>"0", "note"=>"dddd", "expense_type_id"=>"1", "date_from(1i)"=>"2010", "date_from(2i)"=>"4", "date_from(3i)"=>"30"}}

ArgumentError (comparison of String with 0 failed):
  d:/Ruby/lib/ruby/1.8/date.rb:596:in `<'
  d:/Ruby/lib/ruby/1.8/date.rb:596:in `valid_civil?'
  d:/Ruby/lib/ruby/1.8/date.rb:726:in `civil'
  app/controllers/expense_controller.rb:18:in `batch_create'

Rendered rescues/_trace (103.0ms)
Rendered rescues/_request_and_response (1.0ms)
Rendering rescues/layout (internal_server_error)
  [4;35;1mSQL (1.0ms)[0m   [0mSET NAMES 'utf8'[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mSET SQL_AUTO_IS_NULL=0[0m


Processing ExpenseController#index (for 127.0.0.1 at 2010-04-30 22:34:49) [GET]
  [4;35;1mExpenseItem Load (1.0ms)[0m   [0mSELECT * FROM `expense_items` WHERE (date BETWEEN '2010-04-01' and '2010-04-30') [0m
Rendering template within layouts/expense
Rendering expense/index
  [4;36;1mExpenseItem Columns (9.0ms)[0m   [0;1mSHOW FIELDS FROM `expense_items`[0m
  [4;35;1mExpenseType Columns (6.0ms)[0m   [0mSHOW FIELDS FROM `expense_types`[0m
  [4;36;1mExpenseType Load (11.0ms)[0m   [0;1mSELECT * FROM `expense_types` WHERE (`expense_types`.`id` = 1) [0m
  [4;35;1mExpenseType Load (0.0ms)[0m   [0mSELECT * FROM `expense_types` WHERE (`expense_types`.`id` = 2) [0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT * FROM `expense_types` WHERE (`expense_types`.`id` = 1) [0m
Completed in 200ms (View: 150, DB: 28) | 200 OK [http://localhost/expense/]
  [4;35;1mSQL (0.0ms)[0m   [0mSET NAMES 'utf8'[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mSET SQL_AUTO_IS_NULL=0[0m


Processing ExpenseController#batch_new (for 127.0.0.1 at 2010-04-30 22:34:51) [GET]
  [4;35;1mExpenseType Load (1.0ms)[0m   [0mSELECT * FROM `expense_types` [0m
  [4;36;1mExpenseType Columns (10.0ms)[0m   [0;1mSHOW FIELDS FROM `expense_types`[0m
Rendering template within layouts/expense
Rendering expense/batch_new
Completed in 89ms (View: 55, DB: 11) | 200 OK [http://localhost/expense/batch_new]
  [4;35;1mSQL (1.0ms)[0m   [0mSET NAMES 'utf8'[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mSET SQL_AUTO_IS_NULL=0[0m


Processing ExpenseController#batch_create (for 127.0.0.1 at 2010-04-30 22:35:04) [POST]
  Parameters: {"commit"=>"提交", "authenticity_token"=>"OTLGmSGvRhc1cBRb535wpXCA12F+KByI+dY8S1nzB1E=", "expense_items"=>{"date_to(1i)"=>"2010", "date_to(2i)"=>"5", "date_to(3i)"=>"4", "value"=>"0", "note"=>"ddd", "expense_type_id"=>"1", "date_from(1i)"=>"2010", "date_from(2i)"=>"4", "date_from(3i)"=>"30"}}
  [4;35;1mExpenseItem Columns (8.0ms)[0m   [0mSHOW FIELDS FROM `expense_items`[0m
  [4;36;1mSQL (10.0ms)[0m   [0;1mBEGIN[0m
  [4;35;1mSQL (0.0ms)[0m   [0mROLLBACK[0m

ActiveRecord::RecordInvalid (Validation failed: Value 至少一分钱):
  app/controllers/expense_controller.rb:30:in `batch_create'
  app/controllers/expense_controller.rb:24:in `each'
  app/controllers/expense_controller.rb:24:in `batch_create'

Rendered rescues/_trace (124.0ms)
Rendered rescues/_request_and_response (1.0ms)
Rendering rescues/layout (unprocessable_entity)
  [4;36;1mSQL (0.0ms)[0m   [0;1mSET NAMES 'utf8'[0m
  [4;35;1mSQL (0.0ms)[0m   [0mSET SQL_AUTO_IS_NULL=0[0m


Processing ExpenseController#batch_new (for 127.0.0.1 at 2010-04-30 22:38:24) [GET]
  [4;36;1mExpenseType Load (1.0ms)[0m   [0;1mSELECT * FROM `expense_types` [0m
  [4;35;1mExpenseType Columns (8.0ms)[0m   [0mSHOW FIELDS FROM `expense_types`[0m
Rendering template within layouts/expense
Rendering expense/batch_new
Completed in 66ms (View: 38, DB: 9) | 200 OK [http://localhost/expense/batch_new]
  [4;36;1mSQL (1.0ms)[0m   [0;1mSET NAMES 'utf8'[0m
  [4;35;1mSQL (1.0ms)[0m   [0mSET SQL_AUTO_IS_NULL=0[0m


Processing ExpenseController#batch_create (for 127.0.0.1 at 2010-04-30 22:38:27) [POST]
  Parameters: {"commit"=>"提交", "authenticity_token"=>"OTLGmSGvRhc1cBRb535wpXCA12F+KByI+dY8S1nzB1E=", "expense_items"=>{"date_to(1i)"=>"2010", "date_to(2i)"=>"5", "date_to(3i)"=>"4", "value"=>"0", "note"=>"dddd", "expense_type_id"=>"1", "date_from(1i)"=>"2010", "date_from(2i)"=>"4", "date_from(3i)"=>"30"}}
  [4;36;1mExpenseItem Columns (9.0ms)[0m   [0;1mSHOW FIELDS FROM `expense_items`[0m
  [4;35;1mSQL (8.0ms)[0m   [0mBEGIN[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mROLLBACK[0m
Rendering template within layouts/expense
Rendering expense/batch_new

ActionView::TemplateError (You have a nil object when you didn't expect it!
You might have expected an instance of Array.
The error occurred while evaluating nil.inject) on line #16 of app/views/expense/batch_new.html.erb:
13: 
14:     <p>
15:     <%= f.label :expense_type_id, '类型' %>
16:     <%= f.select :expense_type_id, @expense_types %>
17:     </p>
18: 
19:     <p>

    app/views/expense/batch_new.html.erb:16
    app/views/expense/batch_new.html.erb:3
    app/controllers/expense_controller.rb:38:in `batch_create'
    app/controllers/expense_controller.rb:34:in `batch_create'

Rendered rescues/_trace (142.0ms)
Rendered rescues/_request_and_response (1.0ms)
Rendering rescues/layout (internal_server_error)
  [4;35;1mSQL (0.0ms)[0m   [0mSET NAMES 'utf8'[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mSET SQL_AUTO_IS_NULL=0[0m


Processing ExpenseController#batch_new (for 127.0.0.1 at 2010-04-30 22:39:06) [GET]
  [4;35;1mExpenseType Load (1.0ms)[0m   [0mSELECT * FROM `expense_types` [0m
  [4;36;1mExpenseType Columns (10.0ms)[0m   [0;1mSHOW FIELDS FROM `expense_types`[0m
Rendering template within layouts/expense
Rendering expense/batch_new
Completed in 70ms (View: 39, DB: 11) | 200 OK [http://localhost/expense/batch_new]
  [4;35;1mSQL (0.0ms)[0m   [0mSET NAMES 'utf8'[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mSET SQL_AUTO_IS_NULL=0[0m


Processing ExpenseController#batch_create (for 127.0.0.1 at 2010-04-30 22:39:09) [POST]
  Parameters: {"commit"=>"提交", "authenticity_token"=>"OTLGmSGvRhc1cBRb535wpXCA12F+KByI+dY8S1nzB1E=", "expense_items"=>{"date_to(1i)"=>"2010", "date_to(2i)"=>"5", "date_to(3i)"=>"4", "value"=>"0", "note"=>"ddddd", "expense_type_id"=>"1", "date_from(1i)"=>"2010", "date_from(2i)"=>"4", "date_from(3i)"=>"30"}}
  [4;35;1mExpenseItem Columns (8.0ms)[0m   [0mSHOW FIELDS FROM `expense_items`[0m
  [4;36;1mSQL (7.0ms)[0m   [0;1mBEGIN[0m
  [4;35;1mSQL (1.0ms)[0m   [0mROLLBACK[0m
  [4;36;1mExpenseType Load (0.0ms)[0m   [0;1mSELECT * FROM `expense_types` [0m
  [4;35;1mExpenseType Columns (6.0ms)[0m   [0mSHOW FIELDS FROM `expense_types`[0m
Rendering template within layouts/expense
Rendering expense/batch_new
Completed in 101ms (View: 36, DB: 22) | 200 OK [http://localhost/expense/batch_create]
  [4;36;1mSQL (1.0ms)[0m   [0;1mSET NAMES 'utf8'[0m
  [4;35;1mSQL (0.0ms)[0m   [0mSET SQL_AUTO_IS_NULL=0[0m


Processing ExpenseController#batch_create (for 127.0.0.1 at 2010-04-30 22:39:59) [POST]
  Parameters: {"commit"=>"提交", "authenticity_token"=>"OTLGmSGvRhc1cBRb535wpXCA12F+KByI+dY8S1nzB1E=", "expense_items"=>{"date_to(1i)"=>"2010", "date_to(2i)"=>"5", "date_to(3i)"=>"3", "value"=>"0", "note"=>"dddd", "expense_type_id"=>"1", "date_from(1i)"=>"2010", "date_from(2i)"=>"4", "date_from(3i)"=>"30"}}
  [4;36;1mExpenseItem Columns (8.0ms)[0m   [0;1mSHOW FIELDS FROM `expense_items`[0m
  [4;35;1mSQL (7.0ms)[0m   [0mBEGIN[0m
  [4;36;1mSQL (1.0ms)[0m   [0;1mROLLBACK[0m
  [4;35;1mExpenseType Load (0.0ms)[0m   [0mSELECT * FROM `expense_types` [0m
  [4;36;1mExpenseType Columns (6.0ms)[0m   [0;1mSHOW FIELDS FROM `expense_types`[0m
Rendering template within layouts/expense
Rendering expense/batch_new
Completed in 169ms (View: 89, DB: 23) | 200 OK [http://localhost/expense/batch_create]
  [4;35;1mSQL (4.0ms)[0m   [0mSET NAMES 'utf8'[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mSET SQL_AUTO_IS_NULL=0[0m


Processing ExpenseController#batch_create (for 127.0.0.1 at 2010-04-30 22:41:18) [POST]
  Parameters: {"commit"=>"提交", "authenticity_token"=>"OTLGmSGvRhc1cBRb535wpXCA12F+KByI+dY8S1nzB1E=", "expense_items"=>{"date_to(1i)"=>"2010", "date_to(2i)"=>"4", "date_to(3i)"=>"30", "value"=>"0", "note"=>"dddd", "expense_type_id"=>"1", "date_from(1i)"=>"2010", "date_from(2i)"=>"4", "date_from(3i)"=>"30"}}
  [4;35;1mExpenseItem Columns (10.0ms)[0m   [0mSHOW FIELDS FROM `expense_items`[0m
  [4;36;1mSQL (7.0ms)[0m   [0;1mBEGIN[0m
  [4;35;1mSQL (1.0ms)[0m   [0mROLLBACK[0m
  [4;36;1mExpenseType Load (1.0ms)[0m   [0;1mSELECT * FROM `expense_types` [0m
  [4;35;1mExpenseType Columns (7.0ms)[0m   [0mSHOW FIELDS FROM `expense_types`[0m
Rendering template within layouts/expense
Rendering expense/batch_new

ActionView::TemplateError (undefined method `date_from' for #<ExpenseItem:0xadd8400>) on line #7 of app/views/expense/batch_new.html.erb:
4:     <%= f.error_messages %>
5:     <p>
6:     <%= f.label :date_from, '起始时间' %>
7:     <%= f.date_select :date_from %>
8:     </p>
9: 
10:     <p>

    app/views/expense/batch_new.html.erb:7
    app/views/expense/batch_new.html.erb:3
    app/controllers/expense_controller.rb:39:in `batch_create'
    app/controllers/expense_controller.rb:34:in `batch_create'

Rendered rescues/_trace (249.0ms)
Rendered rescues/_request_and_response (1.0ms)
Rendering rescues/layout (internal_server_error)
  [4;36;1mSQL (4.0ms)[0m   [0;1mSET NAMES 'utf8'[0m
  [4;35;1mSQL (0.0ms)[0m   [0mSET SQL_AUTO_IS_NULL=0[0m


Processing ExpenseController#index (for 127.0.0.1 at 2010-04-30 22:41:48) [GET]
  [4;36;1mExpenseItem Load (2.0ms)[0m   [0;1mSELECT * FROM `expense_items` WHERE (date BETWEEN '2010-04-01' and '2010-04-30') [0m
Rendering template within layouts/expense
Rendering expense/index
  [4;35;1mExpenseItem Columns (9.0ms)[0m   [0mSHOW FIELDS FROM `expense_items`[0m
  [4;36;1mExpenseType Columns (18.0ms)[0m   [0;1mSHOW FIELDS FROM `expense_types`[0m
  [4;35;1mExpenseType Load (12.0ms)[0m   [0mSELECT * FROM `expense_types` WHERE (`expense_types`.`id` = 1) [0m
  [4;36;1mExpenseType Load (0.0ms)[0m   [0;1mSELECT * FROM `expense_types` WHERE (`expense_types`.`id` = 2) [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM `expense_types` WHERE (`expense_types`.`id` = 1) [0m
Completed in 120ms (View: 56, DB: 45) | 200 OK [http://localhost/expense/]
  [4;36;1mSQL (0.0ms)[0m   [0;1mSET NAMES 'utf8'[0m
  [4;35;1mSQL (0.0ms)[0m   [0mSET SQL_AUTO_IS_NULL=0[0m


Processing ExpenseController#batch_new (for 127.0.0.1 at 2010-04-30 22:41:50) [GET]
  [4;36;1mExpenseType Load (1.0ms)[0m   [0;1mSELECT * FROM `expense_types` [0m
  [4;35;1mExpenseType Columns (8.0ms)[0m   [0mSHOW FIELDS FROM `expense_types`[0m
Rendering template within layouts/expense
Rendering expense/batch_new

ActionView::TemplateError (Called id for nil, which would mistakenly be 4 -- if you really wanted the id of nil, use object_id) on line #3 of app/views/expense/batch_new.html.erb:
1: <div>
2:   <h2>批量添加消费记录</h2>
3:   <% form_for @expense_items, :url => { :action => 'batch_create' } do |f| %>
4:     <%= f.error_messages %>
5:     <p>
6:     <%= f.label :date_from, '起始时间' %>

    app/views/expense/batch_new.html.erb:3

Rendered rescues/_trace (217.0ms)
Rendered rescues/_request_and_response (1.0ms)
Rendering rescues/layout (internal_server_error)
  [4;36;1mSQL (0.0ms)[0m   [0;1mSET NAMES 'utf8'[0m
  [4;35;1mSQL (1.0ms)[0m   [0mSET SQL_AUTO_IS_NULL=0[0m


Processing ExpenseController#batch_new (for 127.0.0.1 at 2010-04-30 22:43:30) [GET]
  [4;36;1mExpenseType Load (1.0ms)[0m   [0;1mSELECT * FROM `expense_types` [0m
  [4;35;1mExpenseType Columns (7.0ms)[0m   [0mSHOW FIELDS FROM `expense_types`[0m
Rendering template within layouts/expense
Rendering expense/batch_new
Completed in 81ms (View: 50, DB: 9) | 200 OK [http://localhost/expense/batch_new]
  [4;36;1mSQL (2.0ms)[0m   [0;1mSET NAMES 'utf8'[0m
  [4;35;1mSQL (0.0ms)[0m   [0mSET SQL_AUTO_IS_NULL=0[0m


Processing ExpenseController#index (for 127.0.0.1 at 2010-04-30 22:44:34) [GET]
  [4;36;1mExpenseItem Load (1.0ms)[0m   [0;1mSELECT * FROM `expense_items` WHERE (date BETWEEN '2010-04-01' and '2010-04-30') [0m
Rendering template within layouts/expense
Rendering expense/index
  [4;35;1mExpenseItem Columns (8.0ms)[0m   [0mSHOW FIELDS FROM `expense_items`[0m
  [4;36;1mExpenseType Columns (7.0ms)[0m   [0;1mSHOW FIELDS FROM `expense_types`[0m
  [4;35;1mExpenseType Load (11.0ms)[0m   [0mSELECT * FROM `expense_types` WHERE (`expense_types`.`id` = 1) [0m
  [4;36;1mExpenseType Load (1.0ms)[0m   [0;1mSELECT * FROM `expense_types` WHERE (`expense_types`.`id` = 2) [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM `expense_types` WHERE (`expense_types`.`id` = 1) [0m
Completed in 104ms (View: 54, DB: 30) | 200 OK [http://localhost/expense/]
  [4;36;1mSQL (1.0ms)[0m   [0;1mSET NAMES 'utf8'[0m
  [4;35;1mSQL (0.0ms)[0m   [0mSET SQL_AUTO_IS_NULL=0[0m


Processing ExpenseItemsController#edit (for 127.0.0.1 at 2010-04-30 22:45:38) [GET]
  Parameters: {"id"=>"3"}
  [4;36;1mExpenseItem Columns (8.0ms)[0m   [0;1mSHOW FIELDS FROM `expense_items`[0m
  [4;35;1mExpenseItem Load (12.0ms)[0m   [0mSELECT * FROM `expense_items` WHERE (`expense_items`.`id` = 3) [0m
  [4;36;1mExpenseType Load (1.0ms)[0m   [0;1mSELECT * FROM `expense_types` [0m
  [4;35;1mExpenseType Columns (6.0ms)[0m   [0mSHOW FIELDS FROM `expense_types`[0m
Rendering template within layouts/expense_items
Rendering expense_items/edit
Completed in 140ms (View: 75, DB: 28) | 200 OK [http://localhost/expense_items/3/edit]
  [4;36;1mSQL (0.0ms)[0m   [0;1mSET NAMES 'utf8'[0m
  [4;35;1mSQL (0.0ms)[0m   [0mSET SQL_AUTO_IS_NULL=0[0m


Processing ExpenseController#batch_new (for 127.0.0.1 at 2010-04-30 22:49:51) [GET]
  [4;36;1mExpenseType Load (1.0ms)[0m   [0;1mSELECT * FROM `expense_types` [0m
  [4;35;1mExpenseType Columns (5.0ms)[0m   [0mSHOW FIELDS FROM `expense_types`[0m
Rendering template within layouts/expense
Rendering expense/batch_new
Completed in 37ms (View: 20, DB: 6) | 200 OK [http://localhost/expense/batch_new]
  [4;36;1mSQL (0.0ms)[0m   [0;1mSET NAMES 'utf8'[0m
  [4;35;1mSQL (0.0ms)[0m   [0mSET SQL_AUTO_IS_NULL=0[0m


Processing ExpenseController#batch_new (for 127.0.0.1 at 2010-04-30 22:49:56) [GET]
  [4;36;1mExpenseType Load (30.0ms)[0m   [0;1mSELECT * FROM `expense_types` [0m
  [4;35;1mExpenseType Columns (5.0ms)[0m   [0mSHOW FIELDS FROM `expense_types`[0m
Rendering template within layouts/expense
Rendering expense/batch_new
Completed in 65ms (View: 18, DB: 35) | 200 OK [http://localhost/expense/batch_new]
  [4;36;1mSQL (1.0ms)[0m   [0;1mSET NAMES 'utf8'[0m
  [4;35;1mSQL (1.0ms)[0m   [0mSET SQL_AUTO_IS_NULL=0[0m
  [4;36;1mSQL (266.0ms)[0m   [0;1mSHOW TABLES[0m
  [4;35;1mSQL (100.0ms)[0m   [0mSELECT version FROM schema_migrations[0m
Migrating to CreateExpenseTypes (20100422124419)
Migrating to CreateExpenseItems (20100422125245)
Migrating to AddExpensetypeForeignKey (20100422125532)
Migrating to CreateExpenseTags (20100430075711)
Migrating to JoinItemTag (20100430084030)
Migrating to CreateForeignKeyItemsTags (20100430145224)
  [4;36;1mSQL (847.0ms)[0m   [0;1m
 ALTER TABLE expense_items_expense_tags
 ADD CONSTRAINT foreign_key_item_id
 FOREIGN KEY (expense_item_id)
 REFERENCES expense_items(id)
 ON DELETE RESTRICT
 ON UPDATE RESTRICT
 [0m
  [4;35;1mSQL (412.0ms)[0m   [0m
 ALTER TABLE expense_items_expense_tags
 ADD CONSTRAINT foreign_key_tag_id
 FOREIGN KEY (expense_tag_id)
 REFERENCES expense_tags(id)
 ON DELETE RESTRICT
 ON UPDATE RESTRICT
 [0m
  [4;36;1mSQL (63.0ms)[0m   [0;1mINSERT INTO schema_migrations (version) VALUES ('20100430145224')[0m
  [4;35;1mSQL (4.0ms)[0m   [0mSHOW TABLES[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mSELECT version FROM schema_migrations[0m
  [4;35;1mSQL (2.0ms)[0m   [0mSHOW TABLES[0m
  [4;36;1mSQL (5.0ms)[0m   [0;1mSHOW FIELDS FROM `expense_items`[0m
  [4;35;1mSQL (21.0ms)[0m   [0mdescribe `expense_items`[0m
  [4;36;1mSQL (42.0ms)[0m   [0;1mSHOW KEYS FROM `expense_items`[0m
  [4;35;1mSQL (4.0ms)[0m   [0mSHOW FIELDS FROM `expense_items_expense_tags`[0m
  [4;36;1mSQL (7.0ms)[0m   [0;1mdescribe `expense_items_expense_tags`[0m
  [4;35;1mSQL (2.0ms)[0m   [0mSHOW KEYS FROM `expense_items_expense_tags`[0m
  [4;36;1mSQL (3.0ms)[0m   [0;1mSHOW FIELDS FROM `expense_tags`[0m
  [4;35;1mSQL (8.0ms)[0m   [0mdescribe `expense_tags`[0m
  [4;36;1mSQL (5.0ms)[0m   [0;1mSHOW KEYS FROM `expense_tags`[0m
  [4;35;1mSQL (4.0ms)[0m   [0mSHOW FIELDS FROM `expense_types`[0m
  [4;36;1mSQL (8.0ms)[0m   [0;1mdescribe `expense_types`[0m
  [4;35;1mSQL (5.0ms)[0m   [0mSHOW KEYS FROM `expense_types`[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mSET NAMES 'utf8'[0m
  [4;35;1mSQL (1.0ms)[0m   [0mSET SQL_AUTO_IS_NULL=0[0m


Processing ExpenseTagsController#index (for 127.0.0.1 at 2010-04-30 23:03:32) [GET]
  [4;36;1mExpenseTag Load (0.0ms)[0m   [0;1mSELECT * FROM `expense_tags` [0m
Rendering template within layouts/expense_tags
Rendering expense_tags/index
Completed in 47ms (View: 37, DB: 1) | 200 OK [http://localhost/expense_tags]
  [4;35;1mSQL (0.0ms)[0m   [0mSET NAMES 'utf8'[0m
  [4;36;1mSQL (1.0ms)[0m   [0;1mSET SQL_AUTO_IS_NULL=0[0m


Processing ExpenseTagsController#new (for 127.0.0.1 at 2010-04-30 23:03:35) [GET]
  [4;35;1mExpenseTag Columns (6.0ms)[0m   [0mSHOW FIELDS FROM `expense_tags`[0m
Rendering template within layouts/expense_tags
Rendering expense_tags/new
Completed in 55ms (View: 41, DB: 7) | 200 OK [http://localhost/expense_tags/new]
  [4;36;1mSQL (1.0ms)[0m   [0;1mSET NAMES 'utf8'[0m
  [4;35;1mSQL (1.0ms)[0m   [0mSET SQL_AUTO_IS_NULL=0[0m


Processing ExpenseTagsController#create (for 127.0.0.1 at 2010-04-30 23:03:46) [POST]
  Parameters: {"expense_tag"=>{"name"=>"去四川旅游"}, "commit"=>"Create", "authenticity_token"=>"dyVao/dGVA17AOPiYp2T0xHffmg9e8QGrfACfH8B870="}
  [4;36;1mExpenseTag Columns (5.0ms)[0m   [0;1mSHOW FIELDS FROM `expense_tags`[0m
  [4;35;1mSQL (4.0ms)[0m   [0mBEGIN[0m
  [4;36;1mExpenseTag Create (1.0ms)[0m   [0;1mINSERT INTO `expense_tags` (`name`, `updated_at`, `created_at`) VALUES('去四川旅游', '2010-04-30 15:03:46', '2010-04-30 15:03:46')[0m
  [4;35;1mSQL (80.0ms)[0m   [0mCOMMIT[0m
Redirected to http://localhost:3000/expense_tags/1
Completed in 107ms (DB: 92) | 302 Found [http://localhost/expense_tags]
  [4;36;1mSQL (0.0ms)[0m   [0;1mSET NAMES 'utf8'[0m
  [4;35;1mSQL (0.0ms)[0m   [0mSET SQL_AUTO_IS_NULL=0[0m


Processing ExpenseTagsController#show (for 127.0.0.1 at 2010-04-30 23:03:47) [GET]
  Parameters: {"id"=>"1"}
  [4;36;1mExpenseTag Columns (4.0ms)[0m   [0;1mSHOW FIELDS FROM `expense_tags`[0m
  [4;35;1mExpenseTag Load (4.0ms)[0m   [0mSELECT * FROM `expense_tags` WHERE (`expense_tags`.`id` = 1) [0m
Rendering template within layouts/expense_tags
Rendering expense_tags/show
Completed in 151ms (View: 130, DB: 8) | 200 OK [http://localhost/expense_tags/1]
  [4;36;1mSQL (0.0ms)[0m   [0;1mSET NAMES 'utf8'[0m
  [4;35;1mSQL (0.0ms)[0m   [0mSET SQL_AUTO_IS_NULL=0[0m


Processing ExpenseTagsController#index (for 127.0.0.1 at 2010-04-30 23:03:52) [GET]
  [4;36;1mExpenseTag Load (1.0ms)[0m   [0;1mSELECT * FROM `expense_tags` [0m
Rendering template within layouts/expense_tags
Rendering expense_tags/index
  [4;35;1mExpenseTag Columns (5.0ms)[0m   [0mSHOW FIELDS FROM `expense_tags`[0m
Completed in 24ms (View: 10, DB: 6) | 200 OK [http://localhost/expense_tags]
  [4;36;1mSQL (0.0ms)[0m   [0;1mSET NAMES 'utf8'[0m
  [4;35;1mSQL (0.0ms)[0m   [0mSET SQL_AUTO_IS_NULL=0[0m


Processing ExpenseTagsController#new (for 127.0.0.1 at 2010-04-30 23:03:59) [GET]
  [4;36;1mExpenseTag Columns (4.0ms)[0m   [0;1mSHOW FIELDS FROM `expense_tags`[0m
Rendering template within layouts/expense_tags
Rendering expense_tags/new
Completed in 21ms (View: 6, DB: 4) | 200 OK [http://localhost/expense_tags/new]
  [4;35;1mSQL (1.0ms)[0m   [0mSET NAMES 'utf8'[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mSET SQL_AUTO_IS_NULL=0[0m


Processing ExpenseTagsController#create (for 127.0.0.1 at 2010-04-30 23:04:10) [POST]
  Parameters: {"expense_tag"=>{"name"=>"五一节花费"}, "commit"=>"Create", "authenticity_token"=>"dyVao/dGVA17AOPiYp2T0xHffmg9e8QGrfACfH8B870="}
  [4;35;1mExpenseTag Columns (5.0ms)[0m   [0mSHOW FIELDS FROM `expense_tags`[0m
  [4;36;1mSQL (5.0ms)[0m   [0;1mBEGIN[0m
  [4;35;1mExpenseTag Create (0.0ms)[0m   [0mINSERT INTO `expense_tags` (`name`, `updated_at`, `created_at`) VALUES('五一节花费', '2010-04-30 15:04:10', '2010-04-30 15:04:10')[0m
  [4;36;1mSQL (90.0ms)[0m   [0;1mCOMMIT[0m
Redirected to http://localhost:3000/expense_tags/2
Completed in 115ms (DB: 101) | 302 Found [http://localhost/expense_tags]
  [4;35;1mSQL (1.0ms)[0m   [0mSET NAMES 'utf8'[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mSET SQL_AUTO_IS_NULL=0[0m


Processing ExpenseTagsController#show (for 127.0.0.1 at 2010-04-30 23:04:11) [GET]
  Parameters: {"id"=>"2"}
  [4;35;1mExpenseTag Columns (5.0ms)[0m   [0mSHOW FIELDS FROM `expense_tags`[0m
  [4;36;1mExpenseTag Load (4.0ms)[0m   [0;1mSELECT * FROM `expense_tags` WHERE (`expense_tags`.`id` = 2) [0m
Rendering template within layouts/expense_tags
Rendering expense_tags/show
Completed in 36ms (View: 5, DB: 10) | 200 OK [http://localhost/expense_tags/2]
  [4;35;1mSQL (0.0ms)[0m   [0mSET NAMES 'utf8'[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mSET SQL_AUTO_IS_NULL=0[0m


Processing ExpenseTagsController#index (for 127.0.0.1 at 2010-04-30 23:04:19) [GET]
  [4;35;1mExpenseTag Load (1.0ms)[0m   [0mSELECT * FROM `expense_tags` [0m
Rendering template within layouts/expense_tags
Rendering expense_tags/index
  [4;36;1mExpenseTag Columns (5.0ms)[0m   [0;1mSHOW FIELDS FROM `expense_tags`[0m
Completed in 29ms (View: 14, DB: 6) | 200 OK [http://localhost/expense_tags]
  [4;35;1mSQL (0.0ms)[0m   [0mSET NAMES 'utf8'[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mSET SQL_AUTO_IS_NULL=0[0m


Processing ExpenseItemsController#new (for 127.0.0.1 at 2010-04-30 23:09:02) [GET]
  [4;35;1mExpenseItem Columns (4.0ms)[0m   [0mSHOW FIELDS FROM `expense_items`[0m
  [4;36;1mExpenseType Load (0.0ms)[0m   [0;1mSELECT * FROM `expense_types` [0m
  [4;35;1mExpenseType Columns (3.0ms)[0m   [0mSHOW FIELDS FROM `expense_types`[0m
  [4;36;1mExpenseTag Load (1.0ms)[0m   [0;1mSELECT * FROM `expense_tags` [0m
  [4;35;1mExpenseTag Columns (4.0ms)[0m   [0mSHOW FIELDS FROM `expense_tags`[0m

ArgumentError (wrong number of arguments (0 for 2)):
  app/controllers/expense_items_controller.rb:29:in `expense_month_url'
  app/controllers/expense_items_controller.rb:29:in `new'

Rendered rescues/_trace (91.0ms)
Rendered rescues/_request_and_response (0.0ms)
Rendering rescues/layout (internal_server_error)
  [4;36;1mSQL (0.0ms)[0m   [0;1mSET NAMES 'utf8'[0m
  [4;35;1mSQL (0.0ms)[0m   [0mSET SQL_AUTO_IS_NULL=0[0m


Processing ExpenseItemsController#new (for 127.0.0.1 at 2010-04-30 23:31:59) [GET]
  [4;36;1mExpenseItem Columns (5.0ms)[0m   [0;1mSHOW FIELDS FROM `expense_items`[0m
  [4;35;1mExpenseType Load (1.0ms)[0m   [0mSELECT * FROM `expense_types` [0m
  [4;36;1mExpenseType Columns (4.0ms)[0m   [0;1mSHOW FIELDS FROM `expense_types`[0m
  [4;35;1mExpenseTag Load (1.0ms)[0m   [0mSELECT * FROM `expense_tags` [0m
  [4;36;1mExpenseTag Columns (4.0ms)[0m   [0;1mSHOW FIELDS FROM `expense_tags`[0m

ArgumentError (wrong number of arguments (0 for 2)):
  app/controllers/expense_items_controller.rb:29:in `expense_month_url'
  app/controllers/expense_items_controller.rb:29:in `new'

Rendered rescues/_trace (50.0ms)
Rendered rescues/_request_and_response (0.0ms)
Rendering rescues/layout (internal_server_error)
  [4;35;1mSQL (0.0ms)[0m   [0mSET NAMES 'utf8'[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mSET SQL_AUTO_IS_NULL=0[0m


Processing ExpenseItemsController#new (for 127.0.0.1 at 2010-04-30 23:38:09) [GET]
  [4;35;1mExpenseItem Columns (6.0ms)[0m   [0mSHOW FIELDS FROM `expense_items`[0m
  [4;36;1mExpenseType Load (1.0ms)[0m   [0;1mSELECT * FROM `expense_types` [0m
  [4;35;1mExpenseType Columns (4.0ms)[0m   [0mSHOW FIELDS FROM `expense_types`[0m
  [4;36;1mExpenseTag Load (1.0ms)[0m   [0;1mSELECT * FROM `expense_tags` [0m
  [4;35;1mExpenseTag Columns (4.0ms)[0m   [0mSHOW FIELDS FROM `expense_tags`[0m

NameError (undefined local variable or method `parmas' for #<ExpenseItemsController:0xa428738>):
  app/controllers/application_controller.rb:26:in `expense_month_url'
  app/controllers/expense_items_controller.rb:29:in `new'

Rendered rescues/_trace (159.0ms)
Rendered rescues/_request_and_response (1.0ms)
Rendering rescues/layout (internal_server_error)
  [4;36;1mSQL (1.0ms)[0m   [0;1mSET NAMES 'utf8'[0m
  [4;35;1mSQL (0.0ms)[0m   [0mSET SQL_AUTO_IS_NULL=0[0m


Processing ExpenseItemsController#new (for 127.0.0.1 at 2010-04-30 23:39:01) [GET]
  [4;36;1mExpenseItem Columns (5.0ms)[0m   [0;1mSHOW FIELDS FROM `expense_items`[0m
  [4;35;1mExpenseType Load (6.0ms)[0m   [0mSELECT * FROM `expense_types` [0m
  [4;36;1mExpenseType Columns (3.0ms)[0m   [0;1mSHOW FIELDS FROM `expense_types`[0m
  [4;35;1mExpenseTag Load (5.0ms)[0m   [0mSELECT * FROM `expense_tags` [0m
  [4;36;1mExpenseTag Columns (5.0ms)[0m   [0;1mSHOW FIELDS FROM `expense_tags`[0m
Rendering template within layouts/expense_items
Rendering expense_items/new
Completed in 82ms (View: 28, DB: 25) | 200 OK [http://localhost/expense_items/new]
  [4;35;1mSQL (0.0ms)[0m   [0mSET NAMES 'utf8'[0m
  [4;36;1mSQL (1.0ms)[0m   [0;1mSET SQL_AUTO_IS_NULL=0[0m


Processing ExpenseController#index (for 127.0.0.1 at 2010-04-30 23:39:31) [GET]
  Parameters: {"month"=>"0", "year"=>"0"}

ArgumentError (invalid date):
  d:/Ruby/lib/ruby/1.8/date.rb:727:in `new'
  app/controllers/expense_controller.rb:64:in `first_day_of_month'
  app/controllers/expense_controller.rb:48:in `normalize_date'
  app/controllers/expense_controller.rb:4:in `index'

Rendered rescues/_trace (48.0ms)
Rendered rescues/_request_and_response (0.0ms)
Rendering rescues/layout (internal_server_error)
  [4;35;1mSQL (0.0ms)[0m   [0mSET NAMES 'utf8'[0m
  [4;36;1mSQL (1.0ms)[0m   [0;1mSET SQL_AUTO_IS_NULL=0[0m


Processing ExpenseController#index (for 127.0.0.1 at 2010-04-30 23:39:43) [GET]
  [4;35;1mExpenseItem Load (1.0ms)[0m   [0mSELECT * FROM `expense_items` WHERE (date BETWEEN '2010-04-01' and '2010-04-30') [0m
Rendering template within layouts/expense
Rendering expense/index
  [4;36;1mExpenseItem Columns (4.0ms)[0m   [0;1mSHOW FIELDS FROM `expense_items`[0m
  [4;35;1mExpenseType Columns (4.0ms)[0m   [0mSHOW FIELDS FROM `expense_types`[0m
  [4;36;1mExpenseType Load (5.0ms)[0m   [0;1mSELECT * FROM `expense_types` WHERE (`expense_types`.`id` = 1) [0m
  [4;35;1mExpenseType Load (1.0ms)[0m   [0mSELECT * FROM `expense_types` WHERE (`expense_types`.`id` = 2) [0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT * FROM `expense_types` WHERE (`expense_types`.`id` = 1) [0m
Completed in 102ms (View: 28, DB: 16) | 200 OK [http://localhost/expense/]
  [4;35;1mSQL (0.0ms)[0m   [0mSET NAMES 'utf8'[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mSET SQL_AUTO_IS_NULL=0[0m


Processing ExpenseController#batch_new (for 127.0.0.1 at 2010-04-30 23:39:46) [GET]
  [4;35;1mExpenseType Load (1.0ms)[0m   [0mSELECT * FROM `expense_types` [0m
  [4;36;1mExpenseType Columns (5.0ms)[0m   [0;1mSHOW FIELDS FROM `expense_types`[0m
Rendering template within layouts/expense
Rendering expense/batch_new
Completed in 33ms (View: 18, DB: 6) | 200 OK [http://localhost/expense/batch_new]
  [4;35;1mSQL (0.0ms)[0m   [0mSET NAMES 'utf8'[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mSET SQL_AUTO_IS_NULL=0[0m


Processing ExpenseController#batch_new (for 127.0.0.1 at 2010-04-30 23:43:23) [GET]
  [4;35;1mExpenseType Load (0.0ms)[0m   [0mSELECT * FROM `expense_types` [0m
  [4;36;1mExpenseType Columns (4.0ms)[0m   [0;1mSHOW FIELDS FROM `expense_types`[0m
Rendering template within layouts/expense
Rendering expense/batch_new

ActionView::TemplateError (expense_month_url failed to generate from {:action=>"index", :controller=>"expense"} - you may have ambiguous routes, or you may need to supply additional parameters for this route.  content_url has the following required parameters: ["expense", :year, :month] - are they all satisfied?) on line #33 of app/views/expense/batch_new.html.erb:
30:     <%= submit_tag '提交' %>
31: <% end %>
32: </div>
33: <% link_to '返回', expense_month_path %>

    (eval):16:in `expense_month_path'
    app/views/expense/batch_new.html.erb:33

Rendered rescues/_trace (141.0ms)
Rendered rescues/_request_and_response (1.0ms)
Rendering rescues/layout (internal_server_error)
  [4;35;1mSQL (1.0ms)[0m   [0mSET NAMES 'utf8'[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mSET SQL_AUTO_IS_NULL=0[0m


Processing ExpenseController#batch_new (for 127.0.0.1 at 2010-04-30 23:46:24) [GET]
  [4;35;1mExpenseType Load (0.0ms)[0m   [0mSELECT * FROM `expense_types` [0m
  [4;36;1mExpenseType Columns (4.0ms)[0m   [0;1mSHOW FIELDS FROM `expense_types`[0m
Rendering template within layouts/expense
Rendering expense/batch_new
Completed in 41ms (View: 25, DB: 5) | 200 OK [http://localhost/expense/batch_new]
  [4;35;1mSQL (0.0ms)[0m   [0mSET NAMES 'utf8'[0m
  [4;36;1mSQL (1.0ms)[0m   [0;1mSET SQL_AUTO_IS_NULL=0[0m


Processing ExpenseItemsController#new (for 127.0.0.1 at 2010-04-30 23:53:08) [GET]
  [4;35;1mExpenseItem Columns (4.0ms)[0m   [0mSHOW FIELDS FROM `expense_items`[0m
  [4;36;1mExpenseType Load (0.0ms)[0m   [0;1mSELECT * FROM `expense_types` [0m
  [4;35;1mExpenseType Columns (3.0ms)[0m   [0mSHOW FIELDS FROM `expense_types`[0m
  [4;36;1mExpenseTag Load (1.0ms)[0m   [0;1mSELECT * FROM `expense_tags` [0m
  [4;35;1mExpenseTag Columns (4.0ms)[0m   [0mSHOW FIELDS FROM `expense_tags`[0m
Rendering template within layouts/expense_items
Rendering expense_items/new

ActionView::TemplateError (undefined method `names' for [["去四川旅游", 1], ["五一节花费", 2]]:Array) on line #30 of app/views/expense_items/new.html.erb:
27:     <fieldset>
28:       <legend>标签（空格分隔）</legend>
29:       <% fields_for :expense_tags do |tag| %>
30:         <%= tag.text_field :names %>
31:       <% end %>
32:     </fieldset>
33:   </p>

    app/views/expense_items/new.html.erb:30
    app/views/expense_items/new.html.erb:29
    app/views/expense_items/new.html.erb:3
    app/controllers/expense_items_controller.rb:30:in `new'

Rendered rescues/_trace (123.0ms)
Rendered rescues/_request_and_response (0.0ms)
Rendering rescues/layout (internal_server_error)
  [4;36;1mSQL (0.0ms)[0m   [0;1mSET NAMES 'utf8'[0m
  [4;35;1mSQL (1.0ms)[0m   [0mSET SQL_AUTO_IS_NULL=0[0m


Processing ExpenseItemsController#new (for 127.0.0.1 at 2010-04-30 23:53:39) [GET]
  [4;36;1mExpenseItem Columns (5.0ms)[0m   [0;1mSHOW FIELDS FROM `expense_items`[0m
  [4;35;1mExpenseType Load (0.0ms)[0m   [0mSELECT * FROM `expense_types` [0m
  [4;36;1mExpenseType Columns (3.0ms)[0m   [0;1mSHOW FIELDS FROM `expense_types`[0m
  [4;35;1mExpenseTag Load (1.0ms)[0m   [0mSELECT * FROM `expense_tags` [0m
  [4;36;1mExpenseTag Columns (4.0ms)[0m   [0;1mSHOW FIELDS FROM `expense_tags`[0m
Rendering template within layouts/expense_items
Rendering expense_items/new
Completed in 64ms (View: 24, DB: 14) | 200 OK [http://localhost/expense_items/new]
  [4;35;1mSQL (1.0ms)[0m   [0mSET NAMES 'utf8'[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mSET SQL_AUTO_IS_NULL=0[0m


Processing ExpenseItemsController#new (for 127.0.0.1 at 2010-04-30 23:55:36) [GET]
  [4;35;1mExpenseItem Columns (5.0ms)[0m   [0mSHOW FIELDS FROM `expense_items`[0m
  [4;36;1mExpenseType Load (0.0ms)[0m   [0;1mSELECT * FROM `expense_types` [0m
  [4;35;1mExpenseType Columns (3.0ms)[0m   [0mSHOW FIELDS FROM `expense_types`[0m
  [4;36;1mExpenseTag Load (3.0ms)[0m   [0;1mSELECT * FROM `expense_tags` [0m
  [4;35;1mExpenseTag Columns (3.0ms)[0m   [0mSHOW FIELDS FROM `expense_tags`[0m
Rendering template within layouts/expense_items
Rendering expense_items/new
Completed in 71ms (View: 25, DB: 15) | 200 OK [http://localhost/expense_items/new]
  [4;36;1mSQL (0.0ms)[0m   [0;1mSET NAMES 'utf8'[0m
  [4;35;1mSQL (0.0ms)[0m   [0mSET SQL_AUTO_IS_NULL=0[0m


Processing ExpenseItemsController#new (for 127.0.0.1 at 2010-04-30 23:56:47) [GET]
  [4;36;1mExpenseItem Columns (6.0ms)[0m   [0;1mSHOW FIELDS FROM `expense_items`[0m
  [4;35;1mExpenseType Load (0.0ms)[0m   [0mSELECT * FROM `expense_types` [0m
  [4;36;1mExpenseType Columns (3.0ms)[0m   [0;1mSHOW FIELDS FROM `expense_types`[0m
  [4;35;1mExpenseTag Load (1.0ms)[0m   [0mSELECT * FROM `expense_tags` [0m
  [4;36;1mExpenseTag Columns (5.0ms)[0m   [0;1mSHOW FIELDS FROM `expense_tags`[0m
Rendering template within layouts/expense_items
Rendering expense_items/new
ERROR: compiling _run_erb_app47views47expense_items47new46html46erb RAISED compile error
d:/haipeng/ror/finance/app/views/expense_items/new.html.erb:32: syntax error, unexpected kDO
...;  @expense_tags.each |tag| do ; @output_buffer.concat "\n"
                              ^
d:/haipeng/ror/finance/app/views/expense_items/new.html.erb:40: syntax error, unexpected kENSURE, expecting $end
Function body:           def _run_erb_app47views47expense_items47new46html46erb(local_assigns)
            old_output_buffer = output_buffer;;@output_buffer = '';  __in_erb_template=true ; @output_buffer.concat "<h1>\346\226\260\345\273\272\346\266\210\350\264\271\350\256\260\345\275\225<h1>\n"
@output_buffer.concat "\n"
 form_for(@expense_item) do |f| ; @output_buffer.concat "\n"
@output_buffer.concat "  "; @output_buffer.concat(( f.error_messages ).to_s); @output_buffer.concat "\n"
@output_buffer.concat "\n"
@output_buffer.concat "  <p>\n"
@output_buffer.concat "    "; @output_buffer.concat(( f.label :date, '日期' ).to_s); @output_buffer.concat "<br />\n"
@output_buffer.concat "    "; @output_buffer.concat(( f.date_select :date ).to_s); @output_buffer.concat "\n"
@output_buffer.concat "  </p>\n"
@output_buffer.concat "  <p>\n"
@output_buffer.concat "    "; @output_buffer.concat(( f.label :expense_type_id, '类型' ).to_s); @output_buffer.concat "<br />\n"
@output_buffer.concat "    "; @output_buffer.concat(( f.select :expense_type_id, @expense_types ).to_s); @output_buffer.concat "\n"
@output_buffer.concat "  </p>\n"
@output_buffer.concat "  <p>\n"
@output_buffer.concat "    "; @output_buffer.concat(( f.label :value, '类型' ).to_s); @output_buffer.concat "<br />\n"
@output_buffer.concat "    "; @output_buffer.concat(( f.text_field :value ).to_s); @output_buffer.concat "\n"
@output_buffer.concat "  </p>\n"
@output_buffer.concat "  <p>\n"
@output_buffer.concat "    "; @output_buffer.concat(( f.label :note, '备注' ).to_s); @output_buffer.concat "<br />\n"
@output_buffer.concat "    "; @output_buffer.concat(( f.text_area :note ).to_s); @output_buffer.concat "\n"
@output_buffer.concat "  </p>\n"
@output_buffer.concat "  <p>\n"
@output_buffer.concat "    "; @output_buffer.concat(( f.submit '创建' ).to_s); @output_buffer.concat "\n"
@output_buffer.concat "  </p>\n"
@output_buffer.concat "\n"
@output_buffer.concat "  <p>\n"
@output_buffer.concat "    <fieldset>\n"
@output_buffer.concat "      <legend>\346\240\207\347\255\276\357\274\210\347\251\272\346\240\274\345\210\206\351\232\224\357\274\211</legend>\n"
@output_buffer.concat "      ";  fields_for :tags do |tag| ; @output_buffer.concat "\n"
@output_buffer.concat "        "; @output_buffer.concat(( tag.text_field :names ).to_s); @output_buffer.concat "\n"
@output_buffer.concat "      ";  end ; @output_buffer.concat "\n"
@output_buffer.concat "      ";  @expense_tags.each |tag| do ; @output_buffer.concat "\n"
@output_buffer.concat "        "; @output_buffer.concat(( tag.name ).to_s); @output_buffer.concat "\n"
@output_buffer.concat "      ";  end ; @output_buffer.concat "\n"
@output_buffer.concat "    </fieldset>\n"
@output_buffer.concat "  </p>\n"
 end ; @output_buffer.concat "\n"
@output_buffer.concat(( link_to '返回', expense_month_path(@year, @month) ).to_s); @output_buffer.concat "\n"
@output_buffer
          ensure
            self.output_buffer = old_output_buffer
          end
Backtrace: d:/haipeng/ror/finance/app/views/expense_items/new.html.erb:40:in `compile!'
d:/Ruby/lib/ruby/gems/1.8/gems/actionpack-2.3.5/lib/action_view/renderable.rb:61:in `compile'
d:/Ruby/lib/ruby/gems/1.8/gems/actionpack-2.3.5/lib/action_view/renderable.rb:28:in `render'
d:/Ruby/lib/ruby/gems/1.8/gems/actionpack-2.3.5/lib/action_view/template.rb:205:in `render_template'
d:/Ruby/lib/ruby/gems/1.8/gems/actionpack-2.3.5/lib/action_view/base.rb:265:in `render'
d:/Ruby/lib/ruby/gems/1.8/gems/actionpack-2.3.5/lib/action_view/base.rb:348:in `_render_with_layout'
d:/Ruby/lib/ruby/gems/1.8/gems/actionpack-2.3.5/lib/action_view/base.rb:262:in `render'
d:/Ruby/lib/ruby/gems/1.8/gems/actionpack-2.3.5/lib/action_controller/base.rb:1250:in `render_for_file'
d:/Ruby/lib/ruby/gems/1.8/gems/actionpack-2.3.5/lib/action_controller/base.rb:951:in `render_without_benchmark'
d:/Ruby/lib/ruby/gems/1.8/gems/actionpack-2.3.5/lib/action_controller/benchmarking.rb:51:in `render'
d:/Ruby/lib/ruby/gems/1.8/gems/activesupport-2.3.5/lib/active_support/core_ext/benchmark.rb:17:in `ms'
d:/Ruby/lib/ruby/gems/1.8/gems/activesupport-2.3.5/lib/active_support/core_ext/benchmark.rb:10:in `realtime'
d:/Ruby/lib/ruby/gems/1.8/gems/activesupport-2.3.5/lib/active_support/core_ext/benchmark.rb:17:in `ms'
d:/Ruby/lib/ruby/gems/1.8/gems/actionpack-2.3.5/lib/action_controller/benchmarking.rb:51:in `render'
d:/Ruby/lib/ruby/gems/1.8/gems/actionpack-2.3.5/lib/action_controller/mime_responds.rb:135:in `send'
d:/Ruby/lib/ruby/gems/1.8/gems/actionpack-2.3.5/lib/action_controller/mime_responds.rb:135:in `custom'
d:/Ruby/lib/ruby/gems/1.8/gems/actionpack-2.3.5/lib/action_controller/mime_responds.rb:179:in `call'
d:/Ruby/lib/ruby/gems/1.8/gems/actionpack-2.3.5/lib/action_controller/mime_responds.rb:179:in `respond'
d:/Ruby/lib/ruby/gems/1.8/gems/actionpack-2.3.5/lib/action_controller/mime_responds.rb:173:in `each'
d:/Ruby/lib/ruby/gems/1.8/gems/actionpack-2.3.5/lib/action_controller/mime_responds.rb:173:in `respond'
d:/Ruby/lib/ruby/gems/1.8/gems/actionpack-2.3.5/lib/action_controller/mime_responds.rb:107:in `respond_to'
d:/haipeng/ror/finance/app/controllers/expense_items_controller.rb:31:in `new'
d:/Ruby/lib/ruby/gems/1.8/gems/actionpack-2.3.5/lib/action_controller/base.rb:1331:in `send'
d:/Ruby/lib/ruby/gems/1.8/gems/actionpack-2.3.5/lib/action_controller/base.rb:1331:in `perform_action_without_filters'
d:/Ruby/lib/ruby/gems/1.8/gems/actionpack-2.3.5/lib/action_controller/filters.rb:617:in `call_filters'
d:/Ruby/lib/ruby/gems/1.8/gems/actionpack-2.3.5/lib/action_controller/filters.rb:610:in `perform_action_without_benchmark'
d:/Ruby/lib/ruby/gems/1.8/gems/actionpack-2.3.5/lib/action_controller/benchmarking.rb:68:in `perform_action_without_rescue'
d:/Ruby/lib/ruby/gems/1.8/gems/activesupport-2.3.5/lib/active_support/core_ext/benchmark.rb:17:in `ms'
d:/Ruby/lib/ruby/gems/1.8/gems/activesupport-2.3.5/lib/active_support/core_ext/benchmark.rb:10:in `realtime'
d:/Ruby/lib/ruby/gems/1.8/gems/activesupport-2.3.5/lib/active_support/core_ext/benchmark.rb:17:in `ms'
d:/Ruby/lib/ruby/gems/1.8/gems/actionpack-2.3.5/lib/action_controller/benchmarking.rb:68:in `perform_action_without_rescue'
d:/Ruby/lib/ruby/gems/1.8/gems/actionpack-2.3.5/lib/action_controller/rescue.rb:160:in `perform_action_without_flash'
d:/Ruby/lib/ruby/gems/1.8/gems/actionpack-2.3.5/lib/action_controller/flash.rb:146:in `perform_action'
d:/Ruby/lib/ruby/gems/1.8/gems/actionpack-2.3.5/lib/action_controller/base.rb:532:in `send'
d:/Ruby/lib/ruby/gems/1.8/gems/actionpack-2.3.5/lib/action_controller/base.rb:532:in `process_without_filters'
d:/Ruby/lib/ruby/gems/1.8/gems/actionpack-2.3.5/lib/action_controller/filters.rb:606:in `process'
d:/Ruby/lib/ruby/gems/1.8/gems/actionpack-2.3.5/lib/action_controller/base.rb:391:in `process'
d:/Ruby/lib/ruby/gems/1.8/gems/actionpack-2.3.5/lib/action_controller/base.rb:386:in `call'
d:/Ruby/lib/ruby/gems/1.8/gems/actionpack-2.3.5/lib/action_controller/routing/route_set.rb:437:in `call'
d:/Ruby/lib/ruby/gems/1.8/gems/actionpack-2.3.5/lib/action_controller/dispatcher.rb:87:in `dispatch'
d:/Ruby/lib/ruby/gems/1.8/gems/actionpack-2.3.5/lib/action_controller/dispatcher.rb:121:in `_call'
d:/Ruby/lib/ruby/gems/1.8/gems/actionpack-2.3.5/lib/action_controller/dispatcher.rb:130:in `build_middleware_stack'
d:/Ruby/lib/ruby/gems/1.8/gems/activerecord-2.3.5/lib/active_record/query_cache.rb:29:in `call'
d:/Ruby/lib/ruby/gems/1.8/gems/activerecord-2.3.5/lib/active_record/query_cache.rb:29:in `call'
d:/Ruby/lib/ruby/gems/1.8/gems/activerecord-2.3.5/lib/active_record/connection_adapters/abstract/query_cache.rb:34:in `cache'
d:/Ruby/lib/ruby/gems/1.8/gems/activerecord-2.3.5/lib/active_record/query_cache.rb:9:in `cache'
d:/Ruby/lib/ruby/gems/1.8/gems/activerecord-2.3.5/lib/active_record/query_cache.rb:28:in `call'
d:/Ruby/lib/ruby/gems/1.8/gems/activerecord-2.3.5/lib/active_record/connection_adapters/abstract/connection_pool.rb:361:in `call'
d:/Ruby/lib/ruby/gems/1.8/gems/actionpack-2.3.5/lib/action_controller/string_coercion.rb:25:in `call'
d:/Ruby/lib/ruby/gems/1.8/gems/rack-1.0.1/lib/rack/head.rb:9:in `call'
d:/Ruby/lib/ruby/gems/1.8/gems/rack-1.0.1/lib/rack/methodoverride.rb:24:in `call'
d:/Ruby/lib/ruby/gems/1.8/gems/actionpack-2.3.5/lib/action_controller/params_parser.rb:15:in `call'
d:/Ruby/lib/ruby/gems/1.8/gems/actionpack-2.3.5/lib/action_controller/session/cookie_store.rb:93:in `call'
d:/Ruby/lib/ruby/gems/1.8/gems/actionpack-2.3.5/lib/action_controller/failsafe.rb:26:in `call'
d:/Ruby/lib/ruby/gems/1.8/gems/rack-1.0.1/lib/rack/lock.rb:11:in `call'
d:/Ruby/lib/ruby/gems/1.8/gems/rack-1.0.1/lib/rack/lock.rb:11:in `synchronize'
d:/Ruby/lib/ruby/gems/1.8/gems/rack-1.0.1/lib/rack/lock.rb:11:in `call'
d:/Ruby/lib/ruby/gems/1.8/gems/actionpack-2.3.5/lib/action_controller/dispatcher.rb:114:in `call'
d:/Ruby/lib/ruby/gems/1.8/gems/actionpack-2.3.5/lib/action_controller/reloader.rb:34:in `run'
d:/Ruby/lib/ruby/gems/1.8/gems/actionpack-2.3.5/lib/action_controller/dispatcher.rb:108:in `call'
d:/Ruby/lib/ruby/gems/1.8/gems/rails-2.3.5/lib/rails/rack/static.rb:31:in `call'
d:/Ruby/lib/ruby/gems/1.8/gems/rack-1.0.1/lib/rack/urlmap.rb:46:in `call'
d:/Ruby/lib/ruby/gems/1.8/gems/rack-1.0.1/lib/rack/urlmap.rb:40:in `each'
d:/Ruby/lib/ruby/gems/1.8/gems/rack-1.0.1/lib/rack/urlmap.rb:40:in `call'
d:/Ruby/lib/ruby/gems/1.8/gems/rails-2.3.5/lib/rails/rack/log_tailer.rb:17:in `call'
d:/Ruby/lib/ruby/gems/1.8/gems/rack-1.0.1/lib/rack/content_length.rb:13:in `call'
d:/Ruby/lib/ruby/gems/1.8/gems/rack-1.0.1/lib/rack/chunked.rb:15:in `call'
d:/Ruby/lib/ruby/gems/1.8/gems/rack-1.0.1/lib/rack/handler/mongrel.rb:64:in `process'
d:/Ruby/lib/ruby/gems/1.8/gems/mongrel-1.1.5-x86-mswin32-60/lib/mongrel.rb:159:in `process_client'
d:/Ruby/lib/ruby/gems/1.8/gems/mongrel-1.1.5-x86-mswin32-60/lib/mongrel.rb:158:in `each'
d:/Ruby/lib/ruby/gems/1.8/gems/mongrel-1.1.5-x86-mswin32-60/lib/mongrel.rb:158:in `process_client'
d:/Ruby/lib/ruby/gems/1.8/gems/mongrel-1.1.5-x86-mswin32-60/lib/mongrel.rb:285:in `run'
d:/Ruby/lib/ruby/gems/1.8/gems/mongrel-1.1.5-x86-mswin32-60/lib/mongrel.rb:285:in `initialize'
d:/Ruby/lib/ruby/gems/1.8/gems/mongrel-1.1.5-x86-mswin32-60/lib/mongrel.rb:285:in `new'
d:/Ruby/lib/ruby/gems/1.8/gems/mongrel-1.1.5-x86-mswin32-60/lib/mongrel.rb:285:in `run'
d:/Ruby/lib/ruby/gems/1.8/gems/mongrel-1.1.5-x86-mswin32-60/lib/mongrel.rb:268:in `initialize'
d:/Ruby/lib/ruby/gems/1.8/gems/mongrel-1.1.5-x86-mswin32-60/lib/mongrel.rb:268:in `new'
d:/Ruby/lib/ruby/gems/1.8/gems/mongrel-1.1.5-x86-mswin32-60/lib/mongrel.rb:268:in `run'
d:/Ruby/lib/ruby/gems/1.8/gems/rack-1.0.1/lib/rack/handler/mongrel.rb:34:in `run'
d:/Ruby/lib/ruby/gems/1.8/gems/rails-2.3.5/lib/commands/server.rb:111
d:/Ruby/lib/ruby/site_ruby/1.8/rubygems/custom_require.rb:31:in `gem_original_require'
d:/Ruby/lib/ruby/site_ruby/1.8/rubygems/custom_require.rb:31:in `require'
script/server:3

ActionView::TemplateError (compile error
d:/haipeng/ror/finance/app/views/expense_items/new.html.erb:32: syntax error, unexpected kDO
...;  @expense_tags.each |tag| do ; @output_buffer.concat "\n"
                              ^
d:/haipeng/ror/finance/app/views/expense_items/new.html.erb:40: syntax error, unexpected kENSURE, expecting $end) on line #32 of app/views/expense_items/new.html.erb:
29:       <% fields_for :tags do |tag| %>
30:         <%= tag.text_field :names %>
31:       <% end %>
32:       <% @expense_tags.each |tag| do %>
33:         <%= tag.name %>
34:       <% end %>
35:     </fieldset>

    app/views/expense_items/new.html.erb:40:in `compile!'
    app/controllers/expense_items_controller.rb:31:in `new'

Rendered rescues/_trace (65.0ms)
Rendered rescues/_request_and_response (1.0ms)
Rendering rescues/layout (internal_server_error)
  [4;35;1mSQL (0.0ms)[0m   [0mSET NAMES 'utf8'[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mSET SQL_AUTO_IS_NULL=0[0m


Processing ExpenseItemsController#new (for 127.0.0.1 at 2010-04-30 23:57:41) [GET]
  [4;35;1mExpenseItem Columns (4.0ms)[0m   [0mSHOW FIELDS FROM `expense_items`[0m
  [4;36;1mExpenseType Load (0.0ms)[0m   [0;1mSELECT * FROM `expense_types` [0m
  [4;35;1mExpenseType Columns (3.0ms)[0m   [0mSHOW FIELDS FROM `expense_types`[0m
  [4;36;1mExpenseTag Load (0.0ms)[0m   [0;1mSELECT * FROM `expense_tags` [0m
  [4;35;1mExpenseTag Columns (4.0ms)[0m   [0mSHOW FIELDS FROM `expense_tags`[0m
Rendering template within layouts/expense_items
Rendering expense_items/new

ActionView::TemplateError (undefined method `name' for ["去四川旅游", 1]:Array) on line #33 of app/views/expense_items/new.html.erb:
30:         <%= tag.text_field :names %>
31:       <% end %>
32:       <% @expense_tags.each do |tag| %>
33:         <%= tag.name %>
34:       <% end %>
35:     </fieldset>
36:   </p>

    app/views/expense_items/new.html.erb:33
    app/views/expense_items/new.html.erb:32:in `each'
    app/views/expense_items/new.html.erb:32
    app/views/expense_items/new.html.erb:3
    app/controllers/expense_items_controller.rb:31:in `new'

Rendered rescues/_trace (68.0ms)
Rendered rescues/_request_and_response (0.0ms)
Rendering rescues/layout (internal_server_error)
  [4;36;1mSQL (0.0ms)[0m   [0;1mSET NAMES 'utf8'[0m
  [4;35;1mSQL (0.0ms)[0m   [0mSET SQL_AUTO_IS_NULL=0[0m


Processing ExpenseItemsController#new (for 127.0.0.1 at 2010-04-30 23:58:28) [GET]
  [4;36;1mExpenseItem Columns (4.0ms)[0m   [0;1mSHOW FIELDS FROM `expense_items`[0m
  [4;35;1mExpenseType Load (0.0ms)[0m   [0mSELECT * FROM `expense_types` [0m
  [4;36;1mExpenseType Columns (4.0ms)[0m   [0;1mSHOW FIELDS FROM `expense_types`[0m
  [4;35;1mExpenseTag Load (0.0ms)[0m   [0mSELECT * FROM `expense_tags` [0m
Rendering template within layouts/expense_items
Rendering expense_items/new
  [4;36;1mExpenseTag Columns (4.0ms)[0m   [0;1mSHOW FIELDS FROM `expense_tags`[0m
Completed in 58ms (View: 19, DB: 12) | 200 OK [http://localhost/expense_items/new]
  [4;35;1mSQL (0.0ms)[0m   [0mSET NAMES 'utf8'[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mSET SQL_AUTO_IS_NULL=0[0m


Processing ExpenseItemsController#new (for 127.0.0.1 at 2010-04-30 23:58:46) [GET]
  [4;35;1mExpenseItem Columns (4.0ms)[0m   [0mSHOW FIELDS FROM `expense_items`[0m
  [4;36;1mExpenseType Load (0.0ms)[0m   [0;1mSELECT * FROM `expense_types` [0m
  [4;35;1mExpenseType Columns (3.0ms)[0m   [0mSHOW FIELDS FROM `expense_types`[0m
  [4;36;1mExpenseTag Load (0.0ms)[0m   [0;1mSELECT * FROM `expense_tags` [0m
Rendering template within layouts/expense_items
Rendering expense_items/new
  [4;35;1mExpenseTag Columns (4.0ms)[0m   [0mSHOW FIELDS FROM `expense_tags`[0m
Completed in 67ms (View: 27, DB: 11) | 200 OK [http://localhost/expense_items/new]
  [4;36;1mSQL (0.0ms)[0m   [0;1mSET NAMES 'utf8'[0m
  [4;35;1mSQL (0.0ms)[0m   [0mSET SQL_AUTO_IS_NULL=0[0m


Processing ExpenseItemsController#new (for 127.0.0.1 at 2010-05-01 00:09:42) [GET]
  [4;36;1mExpenseItem Columns (5.0ms)[0m   [0;1mSHOW FIELDS FROM `expense_items`[0m
  [4;35;1mExpenseType Load (1.0ms)[0m   [0mSELECT * FROM `expense_types` [0m
  [4;36;1mExpenseType Columns (3.0ms)[0m   [0;1mSHOW FIELDS FROM `expense_types`[0m
  [4;35;1mExpenseTag Load (1.0ms)[0m   [0mSELECT * FROM `expense_tags` [0m
Rendering template within layouts/expense_items
Rendering expense_items/new
  [4;36;1mExpenseTag Columns (5.0ms)[0m   [0;1mSHOW FIELDS FROM `expense_tags`[0m
Completed in 68ms (View: 27, DB: 15) | 200 OK [http://localhost/expense_items/new]
  [4;35;1mSQL (1.0ms)[0m   [0mSET NAMES 'utf8'[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mSET SQL_AUTO_IS_NULL=0[0m


Processing ExpenseItemsController#new (for 127.0.0.1 at 2010-05-01 00:10:19) [GET]
  [4;35;1mExpenseItem Columns (6.0ms)[0m   [0mSHOW FIELDS FROM `expense_items`[0m
  [4;36;1mExpenseType Load (1.0ms)[0m   [0;1mSELECT * FROM `expense_types` [0m
  [4;35;1mExpenseType Columns (4.0ms)[0m   [0mSHOW FIELDS FROM `expense_types`[0m
  [4;36;1mExpenseTag Load (1.0ms)[0m   [0;1mSELECT * FROM `expense_tags` [0m
Rendering template within layouts/expense_items
Rendering expense_items/new
  [4;35;1mExpenseTag Columns (3.0ms)[0m   [0mSHOW FIELDS FROM `expense_tags`[0m
Completed in 67ms (View: 26, DB: 16) | 200 OK [http://localhost/expense_items/new]
  [4;36;1mSQL (0.0ms)[0m   [0;1mSET NAMES 'utf8'[0m
  [4;35;1mSQL (0.0ms)[0m   [0mSET SQL_AUTO_IS_NULL=0[0m


Processing ExpenseItemsController#new (for 127.0.0.1 at 2010-05-01 00:10:37) [GET]
  [4;36;1mExpenseItem Columns (8.0ms)[0m   [0;1mSHOW FIELDS FROM `expense_items`[0m
  [4;35;1mExpenseType Load (10.0ms)[0m   [0mSELECT * FROM `expense_types` [0m
  [4;36;1mExpenseType Columns (4.0ms)[0m   [0;1mSHOW FIELDS FROM `expense_types`[0m
  [4;35;1mExpenseTag Load (7.0ms)[0m   [0mSELECT * FROM `expense_tags` [0m
Rendering template within layouts/expense_items
Rendering expense_items/new
  [4;36;1mExpenseTag Columns (8.0ms)[0m   [0;1mSHOW FIELDS FROM `expense_tags`[0m
Completed in 94ms (View: 28, DB: 37) | 200 OK [http://localhost/expense_items/new]
  [4;35;1mSQL (0.0ms)[0m   [0mSET NAMES 'utf8'[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mSET SQL_AUTO_IS_NULL=0[0m


Processing ExpenseItemsController#new (for 127.0.0.1 at 2010-05-01 00:11:09) [GET]
  [4;35;1mExpenseItem Columns (4.0ms)[0m   [0mSHOW FIELDS FROM `expense_items`[0m
  [4;36;1mExpenseType Load (1.0ms)[0m   [0;1mSELECT * FROM `expense_types` [0m
  [4;35;1mExpenseType Columns (34.0ms)[0m   [0mSHOW FIELDS FROM `expense_types`[0m
  [4;36;1mExpenseTag Load (0.0ms)[0m   [0;1mSELECT * FROM `expense_tags` [0m
Rendering template within layouts/expense_items
Rendering expense_items/new
  [4;35;1mExpenseTag Columns (4.0ms)[0m   [0mSHOW FIELDS FROM `expense_tags`[0m
Completed in 147ms (View: 75, DB: 43) | 200 OK [http://localhost/expense_items/new]
  [4;36;1mSQL (1.0ms)[0m   [0;1mSET NAMES 'utf8'[0m
  [4;35;1mSQL (1.0ms)[0m   [0mSET SQL_AUTO_IS_NULL=0[0m


Processing ExpenseItemsController#new (for 127.0.0.1 at 2010-05-01 00:11:22) [GET]
  [4;36;1mExpenseItem Columns (4.0ms)[0m   [0;1mSHOW FIELDS FROM `expense_items`[0m
  [4;35;1mExpenseType Load (0.0ms)[0m   [0mSELECT * FROM `expense_types` [0m
  [4;36;1mExpenseType Columns (3.0ms)[0m   [0;1mSHOW FIELDS FROM `expense_types`[0m
  [4;35;1mExpenseTag Load (0.0ms)[0m   [0mSELECT * FROM `expense_tags` [0m
Rendering template within layouts/expense_items
Rendering expense_items/new
  [4;36;1mExpenseTag Columns (4.0ms)[0m   [0;1mSHOW FIELDS FROM `expense_tags`[0m
Completed in 58ms (View: 19, DB: 13) | 200 OK [http://localhost/expense_items/new]
  [4;35;1mSQL (0.0ms)[0m   [0mSET NAMES 'utf8'[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mSET SQL_AUTO_IS_NULL=0[0m


Processing ExpenseController#index (for 127.0.0.1 at 2010-05-02 11:01:35) [GET]
  [4;35;1mExpenseItem Load (254.0ms)[0m   [0mSELECT * FROM `expense_items` WHERE (date BETWEEN '2010-05-01' and '2010-05-31') [0m
Rendering template within layouts/expense
Rendering expense/index
Completed in 306ms (View: 8, DB: 254) | 200 OK [http://localhost/expense/]
  [4;36;1mSQL (1.0ms)[0m   [0;1mSET NAMES 'utf8'[0m
  [4;35;1mSQL (0.0ms)[0m   [0mSET SQL_AUTO_IS_NULL=0[0m


Processing ExpenseController#index (for 127.0.0.1 at 2010-05-02 11:01:40) [GET]
  Parameters: {"month"=>"4", "year"=>"2010"}
  [4;36;1mExpenseItem Load (58.0ms)[0m   [0;1mSELECT * FROM `expense_items` WHERE (date BETWEEN '2010-04-01' and '2010-04-30') [0m
Rendering template within layouts/expense
Rendering expense/index
  [4;35;1mExpenseItem Columns (146.0ms)[0m   [0mSHOW FIELDS FROM `expense_items`[0m
  [4;36;1mExpenseType Columns (7.0ms)[0m   [0;1mSHOW FIELDS FROM `expense_types`[0m
  [4;35;1mExpenseType Load (77.0ms)[0m   [0mSELECT * FROM `expense_types` WHERE (`expense_types`.`id` = 1) [0m
  [4;36;1mExpenseType Load (1.0ms)[0m   [0;1mSELECT * FROM `expense_types` WHERE (`expense_types`.`id` = 2) [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM `expense_types` WHERE (`expense_types`.`id` = 1) [0m
Completed in 474ms (View: 175, DB: 290) | 200 OK [http://localhost/expense/2010/4]
  [4;36;1mSQL (0.0ms)[0m   [0;1mSET NAMES 'utf8'[0m
  [4;35;1mSQL (0.0ms)[0m   [0mSET SQL_AUTO_IS_NULL=0[0m


Processing ExpenseController#batch_new (for 127.0.0.1 at 2010-05-02 11:01:44) [GET]
  [4;36;1mExpenseType Load (1.0ms)[0m   [0;1mSELECT * FROM `expense_types` [0m
  [4;35;1mExpenseType Columns (5.0ms)[0m   [0mSHOW FIELDS FROM `expense_types`[0m
Rendering template within layouts/expense
Rendering expense/batch_new
Completed in 257ms (View: 241, DB: 6) | 200 OK [http://localhost/expense/batch_new]
  [4;36;1mSQL (0.0ms)[0m   [0;1mSET NAMES 'utf8'[0m
  [4;35;1mSQL (0.0ms)[0m   [0mSET SQL_AUTO_IS_NULL=0[0m


Processing ExpenseController#batch_create (for 127.0.0.1 at 2010-05-02 11:01:56) [POST]
  Parameters: {"commit"=>"提交", "authenticity_token"=>"OTLGmSGvRhc1cBRb535wpXCA12F+KByI+dY8S1nzB1E=", "expense_items"=>{"date_to(1i)"=>"2010", "date_to(2i)"=>"5", "date_to(3i)"=>"3", "value"=>"10", "note"=>"每天都打车", "expense_type_id"=>"1", "date_from(1i)"=>"2010", "date_from(2i)"=>"5", "date_from(3i)"=>"2"}}
  [4;36;1mExpenseItem Columns (5.0ms)[0m   [0;1mSHOW FIELDS FROM `expense_items`[0m
  [4;35;1mSQL (20.0ms)[0m   [0mBEGIN[0m
  [4;36;1mExpenseItem Create (225.0ms)[0m   [0;1mINSERT INTO `expense_items` (`updated_at`, `date`, `value`, `expense_type_id`, `note`, `created_at`) VALUES('2010-05-02 03:01:56', '2010-05-02', 10.0, 1, '每天都打车', '2010-05-02 03:01:56')[0m
  [4;35;1mSQL (168.0ms)[0m   [0mCOMMIT[0m
  [4;36;1mSQL (1.0ms)[0m   [0;1mBEGIN[0m
  [4;35;1mExpenseItem Create (0.0ms)[0m   [0mINSERT INTO `expense_items` (`updated_at`, `date`, `value`, `expense_type_id`, `note`, `created_at`) VALUES('2010-05-02 03:01:57', '2010-05-03', 10.0, 1, '每天都打车', '2010-05-02 03:01:57')[0m
  [4;36;1mSQL (26.0ms)[0m   [0;1mCOMMIT[0m
Redirected to http://localhost:3000/expense/2010/5
Completed in 525ms (DB: 445) | 302 Found [http://localhost/expense/batch_create]
  [4;35;1mSQL (76.0ms)[0m   [0mSET NAMES 'utf8'[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mSET SQL_AUTO_IS_NULL=0[0m


Processing ExpenseController#index (for 127.0.0.1 at 2010-05-02 11:01:57) [GET]
  Parameters: {"month"=>"5", "year"=>"2010"}
  [4;35;1mExpenseItem Load (1.0ms)[0m   [0mSELECT * FROM `expense_items` WHERE (date BETWEEN '2010-05-01' and '2010-05-31') [0m
Rendering template within layouts/expense
Rendering expense/index
  [4;36;1mExpenseItem Columns (5.0ms)[0m   [0;1mSHOW FIELDS FROM `expense_items`[0m
  [4;35;1mExpenseType Columns (4.0ms)[0m   [0mSHOW FIELDS FROM `expense_types`[0m
  [4;36;1mExpenseType Load (6.0ms)[0m   [0;1mSELECT * FROM `expense_types` WHERE (`expense_types`.`id` = 1) [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM `expense_types` WHERE (`expense_types`.`id` = 1) [0m
Completed in 51ms (View: 23, DB: 92) | 200 OK [http://localhost/expense/2010/5]
  [4;36;1mSQL (0.0ms)[0m   [0;1mSET NAMES 'utf8'[0m
  [4;35;1mSQL (0.0ms)[0m   [0mSET SQL_AUTO_IS_NULL=0[0m


Processing ExpenseItemsController#new (for 127.0.0.1 at 2010-05-02 11:02:27) [GET]
  [4;36;1mExpenseItem Columns (8.0ms)[0m   [0;1mSHOW FIELDS FROM `expense_items`[0m
  [4;35;1mExpenseType Load (1.0ms)[0m   [0mSELECT * FROM `expense_types` [0m
  [4;36;1mExpenseType Columns (7.0ms)[0m   [0;1mSHOW FIELDS FROM `expense_types`[0m
  [4;35;1mExpenseTag Load (1.0ms)[0m   [0mSELECT * FROM `expense_tags` [0m
Rendering template within layouts/expense_items
Rendering expense_items/new
  [4;36;1mExpenseTag Columns (3.0ms)[0m   [0;1mSHOW FIELDS FROM `expense_tags`[0m
Completed in 80ms (View: 26, DB: 20) | 200 OK [http://localhost/expense_items/new]
  [4;35;1mSQL (1.0ms)[0m   [0mSET NAMES 'utf8'[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mSET SQL_AUTO_IS_NULL=0[0m


Processing ExpenseController#index (for 127.0.0.1 at 2010-05-02 11:02:48) [GET]
  Parameters: {"month"=>"5", "year"=>"2010"}
  [4;35;1mExpenseItem Load (1.0ms)[0m   [0mSELECT * FROM `expense_items` WHERE (date BETWEEN '2010-05-01' and '2010-05-31') [0m
Rendering template within layouts/expense
Rendering expense/index
  [4;36;1mExpenseItem Columns (5.0ms)[0m   [0;1mSHOW FIELDS FROM `expense_items`[0m
  [4;35;1mExpenseType Columns (3.0ms)[0m   [0mSHOW FIELDS FROM `expense_types`[0m
  [4;36;1mExpenseType Load (7.0ms)[0m   [0;1mSELECT * FROM `expense_types` WHERE (`expense_types`.`id` = 1) [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM `expense_types` WHERE (`expense_types`.`id` = 1) [0m
Completed in 71ms (View: 45, DB: 17) | 200 OK [http://localhost/expense/2010/5]
  [4;36;1mSQL (0.0ms)[0m   [0;1mSET NAMES 'utf8'[0m
  [4;35;1mSQL (0.0ms)[0m   [0mSET SQL_AUTO_IS_NULL=0[0m


Processing ExpenseItemsController#new (for 127.0.0.1 at 2010-05-02 12:02:35) [GET]
  [4;36;1mExpenseItem Columns (5.0ms)[0m   [0;1mSHOW FIELDS FROM `expense_items`[0m
  [4;35;1mExpenseType Load (10.0ms)[0m   [0mSELECT * FROM `expense_types` [0m
  [4;36;1mExpenseType Columns (6.0ms)[0m   [0;1mSHOW FIELDS FROM `expense_types`[0m
  [4;35;1mExpenseTag Load (1.0ms)[0m   [0mSELECT * FROM `expense_tags` [0m
Rendering template within layouts/expense_items
Rendering expense_items/new
  [4;36;1mExpenseTag Columns (12.0ms)[0m   [0;1mSHOW FIELDS FROM `expense_tags`[0m
Completed in 183ms (View: 117, DB: 34) | 200 OK [http://localhost/expense_items/new]
  [4;35;1mSQL (1.0ms)[0m   [0mSET NAMES 'utf8'[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mSET SQL_AUTO_IS_NULL=0[0m


Processing ExpenseItemsController#create (for 127.0.0.1 at 2010-05-02 12:02:57) [POST]
  Parameters: {"commit"=>"创建", "tags"=>{"names"=>"李博打车"}, "authenticity_token"=>"OTLGmSGvRhc1cBRb535wpXCA12F+KByI+dY8S1nzB1E=", "expense_item"=>{"date(1i)"=>"2010", "date(2i)"=>"5", "date(3i)"=>"2", "value"=>"20", "note"=>"每天下班", "expense_type_id"=>"1"}}
  [4;35;1mExpenseItem Columns (7.0ms)[0m   [0mSHOW FIELDS FROM `expense_items`[0m

ArgumentError (Unknown key(s): condition):
  app/controllers/expense_items_controller.rb:98:in `add_expense_tags'
  app/controllers/expense_items_controller.rb:97:in `each'
  app/controllers/expense_items_controller.rb:97:in `add_expense_tags'
  app/controllers/expense_items_controller.rb:48:in `create'

Rendered rescues/_trace (298.0ms)
Rendered rescues/_request_and_response (79.0ms)
Rendering rescues/layout (internal_server_error)
  [4;36;1mSQL (0.0ms)[0m   [0;1mSET NAMES 'utf8'[0m
  [4;35;1mSQL (0.0ms)[0m   [0mSET SQL_AUTO_IS_NULL=0[0m


Processing ExpenseItemsController#new (for 127.0.0.1 at 2010-05-02 12:04:00) [GET]
  [4;36;1mExpenseItem Columns (5.0ms)[0m   [0;1mSHOW FIELDS FROM `expense_items`[0m
  [4;35;1mExpenseType Load (10.0ms)[0m   [0mSELECT * FROM `expense_types` [0m
  [4;36;1mExpenseType Columns (4.0ms)[0m   [0;1mSHOW FIELDS FROM `expense_types`[0m
  [4;35;1mExpenseTag Load (0.0ms)[0m   [0mSELECT * FROM `expense_tags` [0m
Rendering template within layouts/expense_items
Rendering expense_items/new
  [4;36;1mExpenseTag Columns (23.0ms)[0m   [0;1mSHOW FIELDS FROM `expense_tags`[0m
Completed in 89ms (View: 20, DB: 42) | 200 OK [http://localhost/expense_items/new]
  [4;35;1mSQL (0.0ms)[0m   [0mSET NAMES 'utf8'[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mSET SQL_AUTO_IS_NULL=0[0m


Processing ExpenseItemsController#create (for 127.0.0.1 at 2010-05-02 12:04:04) [POST]
  Parameters: {"commit"=>"创建", "tags"=>{"names"=>"李博打车"}, "authenticity_token"=>"OTLGmSGvRhc1cBRb535wpXCA12F+KByI+dY8S1nzB1E=", "expense_item"=>{"date(1i)"=>"2010", "date(2i)"=>"5", "date(3i)"=>"2", "value"=>"20", "note"=>"每天下班", "expense_type_id"=>"1"}}
  [4;35;1mExpenseItem Columns (7.0ms)[0m   [0mSHOW FIELDS FROM `expense_items`[0m
  [4;36;1mExpenseTag Load (2.0ms)[0m   [0;1mSELECT * FROM `expense_tags` WHERE (name = '李博打车') LIMIT 1[0m
  [4;35;1mExpenseTag Columns (4.0ms)[0m   [0mSHOW FIELDS FROM `expense_tags`[0m
  [4;36;1mSQL (6.0ms)[0m   [0;1mBEGIN[0m
  [4;35;1mExpenseTag Create (0.0ms)[0m   [0mMysql::Error: Column 'name' cannot be null: INSERT INTO `expense_tags` (`name`, `updated_at`, `created_at`) VALUES(NULL, '2010-05-02 04:04:04', '2010-05-02 04:04:04')[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mROLLBACK[0m

ActiveRecord::StatementInvalid (Mysql::Error: Column 'name' cannot be null: INSERT INTO `expense_tags` (`name`, `updated_at`, `created_at`) VALUES(NULL, '2010-05-02 04:04:04', '2010-05-02 04:04:04')):
  app/controllers/expense_items_controller.rb:102:in `add_expense_tags'
  app/controllers/expense_items_controller.rb:97:in `each'
  app/controllers/expense_items_controller.rb:97:in `add_expense_tags'
  app/controllers/expense_items_controller.rb:48:in `create'

Rendered rescues/_trace (114.0ms)
Rendered rescues/_request_and_response (0.0ms)
Rendering rescues/layout (internal_server_error)
  [4;35;1mSQL (0.0ms)[0m   [0mSET NAMES 'utf8'[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mSET SQL_AUTO_IS_NULL=0[0m


Processing ExpenseItemsController#new (for 127.0.0.1 at 2010-05-02 12:05:04) [GET]
  [4;35;1mExpenseItem Columns (5.0ms)[0m   [0mSHOW FIELDS FROM `expense_items`[0m
  [4;36;1mExpenseType Load (1.0ms)[0m   [0;1mSELECT * FROM `expense_types` [0m
  [4;35;1mExpenseType Columns (4.0ms)[0m   [0mSHOW FIELDS FROM `expense_types`[0m
  [4;36;1mExpenseTag Load (0.0ms)[0m   [0;1mSELECT * FROM `expense_tags` [0m
Rendering template within layouts/expense_items
Rendering expense_items/new
  [4;35;1mExpenseTag Columns (4.0ms)[0m   [0mSHOW FIELDS FROM `expense_tags`[0m
Completed in 85ms (View: 19, DB: 14) | 200 OK [http://localhost/expense_items/new]
  [4;36;1mSQL (0.0ms)[0m   [0;1mSET NAMES 'utf8'[0m
  [4;35;1mSQL (0.0ms)[0m   [0mSET SQL_AUTO_IS_NULL=0[0m


Processing ExpenseItemsController#create (for 127.0.0.1 at 2010-05-02 12:05:09) [POST]
  Parameters: {"commit"=>"创建", "tags"=>{"names"=>"李博打车"}, "authenticity_token"=>"OTLGmSGvRhc1cBRb535wpXCA12F+KByI+dY8S1nzB1E=", "expense_item"=>{"date(1i)"=>"2010", "date(2i)"=>"5", "date(3i)"=>"2", "value"=>"20", "note"=>"每天下班", "expense_type_id"=>"1"}}
  [4;36;1mExpenseItem Columns (5.0ms)[0m   [0;1mSHOW FIELDS FROM `expense_items`[0m
  [4;35;1mExpenseTag Load (1.0ms)[0m   [0mSELECT * FROM `expense_tags` WHERE (name = '李博打车') LIMIT 1[0m
  [4;36;1mExpenseTag Columns (4.0ms)[0m   [0;1mSHOW FIELDS FROM `expense_tags`[0m
  [4;35;1mSQL (4.0ms)[0m   [0mBEGIN[0m
  [4;36;1mExpenseTag Create (23.0ms)[0m   [0;1mINSERT INTO `expense_tags` (`name`, `updated_at`, `created_at`) VALUES('李博打车', '2010-05-02 04:05:09', '2010-05-02 04:05:09')[0m
  [4;35;1mSQL (91.0ms)[0m   [0mCOMMIT[0m

NoMethodError (undefined method `expense_tags=' for nil:NilClass):
  app/controllers/expense_items_controller.rb:50:in `create'

Rendered rescues/_trace (229.0ms)
Rendered rescues/_request_and_response (1.0ms)
Rendering rescues/layout (internal_server_error)
  [4;36;1mSQL (0.0ms)[0m   [0;1mSET NAMES 'utf8'[0m
  [4;35;1mSQL (0.0ms)[0m   [0mSET SQL_AUTO_IS_NULL=0[0m


Processing ExpenseItemsController#new (for 127.0.0.1 at 2010-05-02 12:07:43) [GET]
  [4;36;1mExpenseItem Columns (5.0ms)[0m   [0;1mSHOW FIELDS FROM `expense_items`[0m
  [4;35;1mExpenseType Load (0.0ms)[0m   [0mSELECT * FROM `expense_types` [0m
  [4;36;1mExpenseType Columns (3.0ms)[0m   [0;1mSHOW FIELDS FROM `expense_types`[0m
  [4;35;1mExpenseTag Load (1.0ms)[0m   [0mSELECT * FROM `expense_tags` [0m
Rendering template within layouts/expense_items
Rendering expense_items/new
  [4;36;1mExpenseTag Columns (3.0ms)[0m   [0;1mSHOW FIELDS FROM `expense_tags`[0m
Completed in 57ms (View: 19, DB: 12) | 200 OK [http://localhost/expense_items/new]
  [4;35;1mSQL (1.0ms)[0m   [0mSET NAMES 'utf8'[0m
  [4;36;1mSQL (1.0ms)[0m   [0;1mSET SQL_AUTO_IS_NULL=0[0m


Processing ExpenseItemsController#create (for 127.0.0.1 at 2010-05-02 12:08:01) [POST]
  Parameters: {"commit"=>"创建", "tags"=>{"names"=>"李博打车"}, "authenticity_token"=>"OTLGmSGvRhc1cBRb535wpXCA12F+KByI+dY8S1nzB1E=", "expense_item"=>{"date(1i)"=>"2010", "date(2i)"=>"5", "date(3i)"=>"2", "value"=>"20", "note"=>"李博打车", "expense_type_id"=>"1"}}
  [4;35;1mExpenseItem Columns (5.0ms)[0m   [0mSHOW FIELDS FROM `expense_items`[0m
  [4;36;1mExpenseTag Load (0.0ms)[0m   [0;1mSELECT * FROM `expense_tags` WHERE (name = '李博打车') LIMIT 1[0m

NoMethodError (undefined method `expense_tags=' for nil:NilClass):
  app/controllers/expense_items_controller.rb:50:in `create'

Rendered rescues/_trace (48.0ms)
Rendered rescues/_request_and_response (1.0ms)
Rendering rescues/layout (internal_server_error)
  [4;35;1mSQL (1.0ms)[0m   [0mSET NAMES 'utf8'[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mSET SQL_AUTO_IS_NULL=0[0m


Processing ExpenseItemsController#new (for 127.0.0.1 at 2010-05-02 12:09:47) [GET]
  [4;35;1mExpenseItem Columns (5.0ms)[0m   [0mSHOW FIELDS FROM `expense_items`[0m
  [4;36;1mExpenseType Load (1.0ms)[0m   [0;1mSELECT * FROM `expense_types` [0m
  [4;35;1mExpenseType Columns (4.0ms)[0m   [0mSHOW FIELDS FROM `expense_types`[0m
  [4;36;1mExpenseTag Load (0.0ms)[0m   [0;1mSELECT * FROM `expense_tags` [0m
Rendering template within layouts/expense_items
Rendering expense_items/new
  [4;35;1mExpenseTag Columns (4.0ms)[0m   [0mSHOW FIELDS FROM `expense_tags`[0m
Completed in 108ms (View: 19, DB: 15) | 200 OK [http://localhost/expense_items/new]
  [4;36;1mSQL (0.0ms)[0m   [0;1mSET NAMES 'utf8'[0m
  [4;35;1mSQL (0.0ms)[0m   [0mSET SQL_AUTO_IS_NULL=0[0m


Processing ExpenseItemsController#create (for 127.0.0.1 at 2010-05-02 12:09:50) [POST]
  Parameters: {"commit"=>"创建", "tags"=>{"names"=>"李博打车"}, "authenticity_token"=>"OTLGmSGvRhc1cBRb535wpXCA12F+KByI+dY8S1nzB1E=", "expense_item"=>{"date(1i)"=>"2010", "date(2i)"=>"5", "date(3i)"=>"2", "value"=>"20", "note"=>"李博打车", "expense_type_id"=>"1"}}
  [4;36;1mExpenseItem Columns (5.0ms)[0m   [0;1mSHOW FIELDS FROM `expense_items`[0m
  [4;35;1mExpenseTag Load (1.0ms)[0m   [0mSELECT * FROM `expense_tags` WHERE (name = '李博打车') LIMIT 1[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mBEGIN[0m
  [4;35;1mExpenseTag Columns (3.0ms)[0m   [0mSHOW FIELDS FROM `expense_tags`[0m
  [4;36;1mSQL (6.0ms)[0m   [0;1mCOMMIT[0m
  [4;35;1mSQL (0.0ms)[0m   [0mBEGIN[0m
  [4;36;1mExpenseItem Create (0.0ms)[0m   [0;1mINSERT INTO `expense_items` (`updated_at`, `date`, `value`, `expense_type_id`, `note`, `created_at`) VALUES('2010-05-02 04:09:50', '2010-05-02', 20.0, 1, '李博打车', '2010-05-02 04:09:50')[0m
  [4;35;1mSQL (71.0ms)[0m   [0mdescribe `expense_items_expense_tags`[0m
  [4;36;1mexpense_items_expense_tags Columns (16.0ms)[0m   [0;1mSHOW FIELDS FROM `expense_items_expense_tags`[0m
  [4;35;1mSQL (76.0ms)[0m   [0mINSERT INTO `expense_items_expense_tags` (`expense_tag_id`, `expense_item_id`) VALUES (3, 6)[0m
  [4;36;1mSQL (111.0ms)[0m   [0;1mCOMMIT[0m
Redirected to http://localhost:3000/expense?month=0&year=0
Completed in 342ms (DB: 289) | 302 Found [http://localhost/expense_items]
  [4;35;1mSQL (0.0ms)[0m   [0mSET NAMES 'utf8'[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mSET SQL_AUTO_IS_NULL=0[0m


Processing ExpenseController#index (for 127.0.0.1 at 2010-05-02 12:09:50) [GET]
  Parameters: {"month"=>"0", "year"=>"0"}

ArgumentError (invalid date):
  d:/Ruby/lib/ruby/1.8/date.rb:727:in `new'
  app/controllers/expense_controller.rb:76:in `first_day_of_month'
  app/controllers/expense_controller.rb:60:in `normalize_date'
  app/controllers/expense_controller.rb:4:in `index'

Rendered rescues/_trace (51.0ms)
Rendered rescues/_request_and_response (0.0ms)
Rendering rescues/layout (internal_server_error)
  [4;35;1mSQL (0.0ms)[0m   [0mSET NAMES 'utf8'[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mSET SQL_AUTO_IS_NULL=0[0m


Processing ExpenseController#index (for 127.0.0.1 at 2010-05-02 12:11:30) [GET]
  [4;35;1mExpenseItem Load (1.0ms)[0m   [0mSELECT * FROM `expense_items` WHERE (date BETWEEN '2010-05-01' and '2010-05-31') [0m
Rendering template within layouts/expense
Rendering expense/index
  [4;36;1mExpenseItem Columns (5.0ms)[0m   [0;1mSHOW FIELDS FROM `expense_items`[0m
  [4;35;1mExpenseType Columns (3.0ms)[0m   [0mSHOW FIELDS FROM `expense_types`[0m
  [4;36;1mExpenseType Load (5.0ms)[0m   [0;1mSELECT * FROM `expense_types` WHERE (`expense_types`.`id` = 1) [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM `expense_types` WHERE (`expense_types`.`id` = 1) [0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT * FROM `expense_types` WHERE (`expense_types`.`id` = 1) [0m
Completed in 52ms (View: 29, DB: 14) | 200 OK [http://localhost/expense]
  [4;35;1mSQL (1.0ms)[0m   [0mSET NAMES 'utf8'[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mSET SQL_AUTO_IS_NULL=0[0m


Processing ExpenseItemsController#new (for 127.0.0.1 at 2010-05-02 12:11:33) [GET]
  [4;35;1mExpenseItem Columns (5.0ms)[0m   [0mSHOW FIELDS FROM `expense_items`[0m
  [4;36;1mExpenseType Load (0.0ms)[0m   [0;1mSELECT * FROM `expense_types` [0m
  [4;35;1mExpenseType Columns (3.0ms)[0m   [0mSHOW FIELDS FROM `expense_types`[0m
  [4;36;1mExpenseTag Load (1.0ms)[0m   [0;1mSELECT * FROM `expense_tags` [0m
Rendering template within layouts/expense_items
Rendering expense_items/new
  [4;35;1mExpenseTag Columns (4.0ms)[0m   [0mSHOW FIELDS FROM `expense_tags`[0m
Completed in 59ms (View: 20, DB: 14) | 200 OK [http://localhost/expense_items/new]
  [4;36;1mSQL (0.0ms)[0m   [0;1mSET NAMES 'utf8'[0m
  [4;35;1mSQL (0.0ms)[0m   [0mSET SQL_AUTO_IS_NULL=0[0m


Processing ExpenseItemsController#create (for 127.0.0.1 at 2010-05-02 12:11:50) [POST]
  Parameters: {"commit"=>"创建", "tags"=>{"names"=>"李博打车"}, "authenticity_token"=>"OTLGmSGvRhc1cBRb535wpXCA12F+KByI+dY8S1nzB1E=", "expense_item"=>{"date(1i)"=>"2010", "date(2i)"=>"5", "date(3i)"=>"2", "value"=>"20", "note"=>"每天下班打车", "expense_type_id"=>"1"}}
  [4;36;1mExpenseItem Columns (4.0ms)[0m   [0;1mSHOW FIELDS FROM `expense_items`[0m
  [4;35;1mExpenseTag Load (0.0ms)[0m   [0mSELECT * FROM `expense_tags` WHERE (name = '李博打车') LIMIT 1[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mBEGIN[0m
  [4;35;1mExpenseTag Columns (3.0ms)[0m   [0mSHOW FIELDS FROM `expense_tags`[0m
  [4;36;1mSQL (4.0ms)[0m   [0;1mCOMMIT[0m
  [4;35;1mSQL (0.0ms)[0m   [0mBEGIN[0m
  [4;36;1mExpenseItem Create (1.0ms)[0m   [0;1mINSERT INTO `expense_items` (`updated_at`, `date`, `value`, `expense_type_id`, `note`, `created_at`) VALUES('2010-05-02 04:11:50', '2010-05-02', 20.0, 1, '每天下班打车', '2010-05-02 04:11:50')[0m
  [4;35;1mSQL (4.0ms)[0m   [0mdescribe `expense_items_expense_tags`[0m
  [4;36;1mexpense_items_expense_tags Columns (5.0ms)[0m   [0;1mSHOW FIELDS FROM `expense_items_expense_tags`[0m
  [4;35;1mSQL (1.0ms)[0m   [0mINSERT INTO `expense_items_expense_tags` (`expense_tag_id`, `expense_item_id`) VALUES (3, 7)[0m
  [4;36;1mSQL (73.0ms)[0m   [0;1mCOMMIT[0m
Redirected to http://localhost:3000/expense?month=0&year=0
Completed in 127ms (DB: 95) | 302 Found [http://localhost/expense_items]
  [4;35;1mSQL (0.0ms)[0m   [0mSET NAMES 'utf8'[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mSET SQL_AUTO_IS_NULL=0[0m


Processing ExpenseController#index (for 127.0.0.1 at 2010-05-02 12:11:50) [GET]
  Parameters: {"month"=>"0", "year"=>"0"}

ArgumentError (invalid date):
  d:/Ruby/lib/ruby/1.8/date.rb:727:in `new'
  app/controllers/expense_controller.rb:76:in `first_day_of_month'
  app/controllers/expense_controller.rb:60:in `normalize_date'
  app/controllers/expense_controller.rb:4:in `index'

Rendered rescues/_trace (48.0ms)
Rendered rescues/_request_and_response (1.0ms)
Rendering rescues/layout (internal_server_error)
  [4;35;1mSQL (1.0ms)[0m   [0mSET NAMES 'utf8'[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mSET SQL_AUTO_IS_NULL=0[0m


Processing ExpenseItemsController#new (for 127.0.0.1 at 2010-05-02 12:16:23) [GET]
  [4;35;1mExpenseItem Columns (6.0ms)[0m   [0mSHOW FIELDS FROM `expense_items`[0m
  [4;36;1mExpenseType Load (1.0ms)[0m   [0;1mSELECT * FROM `expense_types` [0m
  [4;35;1mExpenseType Columns (4.0ms)[0m   [0mSHOW FIELDS FROM `expense_types`[0m
  [4;36;1mExpenseTag Load (1.0ms)[0m   [0;1mSELECT * FROM `expense_tags` [0m
Rendering template within layouts/expense_items
Rendering expense_items/new
  [4;35;1mExpenseTag Columns (4.0ms)[0m   [0mSHOW FIELDS FROM `expense_tags`[0m
Completed in 107ms (View: 67, DB: 17) | 200 OK [http://localhost/expense_items/new]
  [4;36;1mSQL (1.0ms)[0m   [0;1mSET NAMES 'utf8'[0m
  [4;35;1mSQL (0.0ms)[0m   [0mSET SQL_AUTO_IS_NULL=0[0m


Processing ExpenseItemsController#new (for 127.0.0.1 at 2010-05-02 12:17:59) [GET]
  [4;36;1mExpenseItem Columns (5.0ms)[0m   [0;1mSHOW FIELDS FROM `expense_items`[0m
  [4;35;1mExpenseType Load (0.0ms)[0m   [0mSELECT * FROM `expense_types` [0m
  [4;36;1mExpenseType Columns (3.0ms)[0m   [0;1mSHOW FIELDS FROM `expense_types`[0m
  [4;35;1mExpenseTag Load (1.0ms)[0m   [0mSELECT * FROM `expense_tags` [0m
Rendering template within layouts/expense_items
Rendering expense_items/new
  [4;36;1mExpenseTag Columns (3.0ms)[0m   [0;1mSHOW FIELDS FROM `expense_tags`[0m
Completed in 59ms (View: 20, DB: 13) | 200 OK [http://localhost/expense_items/new]
  [4;35;1mSQL (0.0ms)[0m   [0mSET NAMES 'utf8'[0m
  [4;36;1mSQL (1.0ms)[0m   [0;1mSET SQL_AUTO_IS_NULL=0[0m


Processing ExpenseController#index (for 127.0.0.1 at 2010-05-02 12:18:02) [GET]
  [4;35;1mExpenseItem Load (1.0ms)[0m   [0mSELECT * FROM `expense_items` WHERE (date BETWEEN '2010-05-01' and '2010-05-31') [0m
Rendering template within layouts/expense
Rendering expense/index
  [4;36;1mExpenseItem Columns (5.0ms)[0m   [0;1mSHOW FIELDS FROM `expense_items`[0m
  [4;35;1mExpenseType Columns (6.0ms)[0m   [0mSHOW FIELDS FROM `expense_types`[0m
  [4;36;1mExpenseType Load (6.0ms)[0m   [0;1mSELECT * FROM `expense_types` WHERE (`expense_types`.`id` = 1) [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM `expense_types` WHERE (`expense_types`.`id` = 1) [0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT * FROM `expense_types` WHERE (`expense_types`.`id` = 1) [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM `expense_types` WHERE (`expense_types`.`id` = 1) [0m
Completed in 67ms (View: 38, DB: 19) | 200 OK [http://localhost/expense]
  [4;36;1mSQL (1.0ms)[0m   [0;1mSET NAMES 'utf8'[0m
  [4;35;1mSQL (0.0ms)[0m   [0mSET SQL_AUTO_IS_NULL=0[0m


Processing ExpenseItemsController#new (for 127.0.0.1 at 2010-05-02 12:21:38) [GET]
  [4;36;1mExpenseItem Columns (5.0ms)[0m   [0;1mSHOW FIELDS FROM `expense_items`[0m
  [4;35;1mExpenseType Load (0.0ms)[0m   [0mSELECT * FROM `expense_types` [0m
  [4;36;1mExpenseType Columns (7.0ms)[0m   [0;1mSHOW FIELDS FROM `expense_types`[0m
  [4;35;1mExpenseTag Load (0.0ms)[0m   [0mSELECT * FROM `expense_tags` [0m
Rendering template within layouts/expense_items
Rendering expense_items/new
  [4;36;1mExpenseTag Columns (4.0ms)[0m   [0;1mSHOW FIELDS FROM `expense_tags`[0m
Completed in 119ms (View: 28, DB: 17) | 200 OK [http://localhost/expense_items/new]
  [4;35;1mSQL (0.0ms)[0m   [0mSET NAMES 'utf8'[0m
  [4;36;1mSQL (1.0ms)[0m   [0;1mSET SQL_AUTO_IS_NULL=0[0m


Processing ExpenseItemsController#create (for 127.0.0.1 at 2010-05-02 12:21:53) [POST]
  Parameters: {"commit"=>"创建", "tags"=>{"names"=>"海鹏吃饭"}, "authenticity_token"=>"OTLGmSGvRhc1cBRb535wpXCA12F+KByI+dY8S1nzB1E=", "expense_item"=>{"date(1i)"=>"2010", "date(2i)"=>"5", "date(3i)"=>"2", "value"=>"15", "note"=>"每天午餐", "expense_type_id"=>"2"}}
  [4;35;1mExpenseItem Columns (5.0ms)[0m   [0mSHOW FIELDS FROM `expense_items`[0m
  [4;36;1mExpenseTag Load (0.0ms)[0m   [0;1mSELECT * FROM `expense_tags` WHERE (name = '海鹏吃饭') LIMIT 1[0m
  [4;35;1mExpenseTag Columns (3.0ms)[0m   [0mSHOW FIELDS FROM `expense_tags`[0m
  [4;36;1mSQL (4.0ms)[0m   [0;1mBEGIN[0m
  [4;35;1mExpenseTag Create (1.0ms)[0m   [0mINSERT INTO `expense_tags` (`name`, `updated_at`, `created_at`) VALUES('海鹏吃饭', '2010-05-02 04:21:53', '2010-05-02 04:21:53')[0m
  [4;36;1mSQL (65.0ms)[0m   [0;1mCOMMIT[0m
  [4;35;1mSQL (0.0ms)[0m   [0mBEGIN[0m
  [4;36;1mSQL (1.0ms)[0m   [0;1mCOMMIT[0m
  [4;35;1mSQL (0.0ms)[0m   [0mBEGIN[0m
  [4;36;1mExpenseItem Create (1.0ms)[0m   [0;1mINSERT INTO `expense_items` (`updated_at`, `date`, `value`, `expense_type_id`, `note`, `created_at`) VALUES('2010-05-02 04:21:53', '2010-05-02', 15.0, 2, '每天午餐', '2010-05-02 04:21:53')[0m
  [4;35;1mSQL (7.0ms)[0m   [0mdescribe `expense_items_expense_tags`[0m
  [4;36;1mexpense_items_expense_tags Columns (10.0ms)[0m   [0;1mSHOW FIELDS FROM `expense_items_expense_tags`[0m
  [4;35;1mSQL (4.0ms)[0m   [0mINSERT INTO `expense_items_expense_tags` (`expense_tag_id`, `expense_item_id`) VALUES (4, 8)[0m
  [4;36;1mSQL (57.0ms)[0m   [0;1mCOMMIT[0m
Redirected to http://localhost:3000/expense/2010/5
Completed in 197ms (DB: 159) | 302 Found [http://localhost/expense_items]
  [4;35;1mSQL (0.0ms)[0m   [0mSET NAMES 'utf8'[0m
  [4;36;1mSQL (1.0ms)[0m   [0;1mSET SQL_AUTO_IS_NULL=0[0m


Processing ExpenseController#index (for 127.0.0.1 at 2010-05-02 12:21:53) [GET]
  Parameters: {"month"=>"5", "year"=>"2010"}
  [4;35;1mExpenseItem Load (0.0ms)[0m   [0mSELECT * FROM `expense_items` WHERE (date BETWEEN '2010-05-01' and '2010-05-31') [0m
Rendering template within layouts/expense
Rendering expense/index
  [4;36;1mExpenseItem Columns (4.0ms)[0m   [0;1mSHOW FIELDS FROM `expense_items`[0m
  [4;35;1mExpenseType Columns (5.0ms)[0m   [0mSHOW FIELDS FROM `expense_types`[0m
  [4;36;1mExpenseType Load (4.0ms)[0m   [0;1mSELECT * FROM `expense_types` WHERE (`expense_types`.`id` = 1) [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM `expense_types` WHERE (`expense_types`.`id` = 1) [0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT * FROM `expense_types` WHERE (`expense_types`.`id` = 1) [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM `expense_types` WHERE (`expense_types`.`id` = 1) [0m
  [4;36;1mExpenseType Load (0.0ms)[0m   [0;1mSELECT * FROM `expense_types` WHERE (`expense_types`.`id` = 2) [0m
Completed in 60ms (View: 36, DB: 14) | 200 OK [http://localhost/expense/2010/5]
  [4;35;1mSQL (0.0ms)[0m   [0mSET NAMES 'utf8'[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mSET SQL_AUTO_IS_NULL=0[0m


Processing ExpenseItemsController#new (for 127.0.0.1 at 2010-05-02 12:22:17) [GET]
  [4;35;1mExpenseItem Columns (5.0ms)[0m   [0mSHOW FIELDS FROM `expense_items`[0m
  [4;36;1mExpenseType Load (0.0ms)[0m   [0;1mSELECT * FROM `expense_types` [0m
  [4;35;1mExpenseType Columns (3.0ms)[0m   [0mSHOW FIELDS FROM `expense_types`[0m
  [4;36;1mExpenseTag Load (0.0ms)[0m   [0;1mSELECT * FROM `expense_tags` [0m
Rendering template within layouts/expense_items
Rendering expense_items/new
  [4;35;1mExpenseTag Columns (4.0ms)[0m   [0mSHOW FIELDS FROM `expense_tags`[0m
Completed in 63ms (View: 20, DB: 12) | 200 OK [http://localhost/expense_items/new]
  [4;36;1mSQL (0.0ms)[0m   [0;1mSET NAMES 'utf8'[0m
  [4;35;1mSQL (0.0ms)[0m   [0mSET SQL_AUTO_IS_NULL=0[0m


Processing ExpenseItemsController#create (for 127.0.0.1 at 2010-05-02 12:22:23) [POST]
  Parameters: {"commit"=>"创建", "tags"=>{"names"=>""}, "authenticity_token"=>"OTLGmSGvRhc1cBRb535wpXCA12F+KByI+dY8S1nzB1E=", "expense_item"=>{"date(1i)"=>"2010", "date(2i)"=>"5", "date(3i)"=>"2", "value"=>"12", "note"=>"去玩", "expense_type_id"=>"1"}}
  [4;36;1mExpenseItem Columns (5.0ms)[0m   [0;1mSHOW FIELDS FROM `expense_items`[0m
  [4;35;1mSQL (1.0ms)[0m   [0mBEGIN[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mCOMMIT[0m
  [4;35;1mSQL (0.0ms)[0m   [0mBEGIN[0m
  [4;36;1mExpenseItem Create (0.0ms)[0m   [0;1mINSERT INTO `expense_items` (`updated_at`, `date`, `value`, `expense_type_id`, `note`, `created_at`) VALUES('2010-05-02 04:22:23', '2010-05-02', 12.0, 1, '去玩', '2010-05-02 04:22:23')[0m
  [4;35;1mSQL (74.0ms)[0m   [0mCOMMIT[0m
Redirected to http://localhost:3000/expense/2010/5
Completed in 107ms (DB: 80) | 302 Found [http://localhost/expense_items]
  [4;36;1mSQL (0.0ms)[0m   [0;1mSET NAMES 'utf8'[0m
  [4;35;1mSQL (1.0ms)[0m   [0mSET SQL_AUTO_IS_NULL=0[0m


Processing ExpenseController#index (for 127.0.0.1 at 2010-05-02 12:22:23) [GET]
  Parameters: {"month"=>"5", "year"=>"2010"}
  [4;36;1mExpenseItem Load (0.0ms)[0m   [0;1mSELECT * FROM `expense_items` WHERE (date BETWEEN '2010-05-01' and '2010-05-31') [0m
Rendering template within layouts/expense
Rendering expense/index
  [4;35;1mExpenseItem Columns (5.0ms)[0m   [0mSHOW FIELDS FROM `expense_items`[0m
  [4;36;1mExpenseType Columns (5.0ms)[0m   [0;1mSHOW FIELDS FROM `expense_types`[0m
  [4;35;1mExpenseType Load (4.0ms)[0m   [0mSELECT * FROM `expense_types` WHERE (`expense_types`.`id` = 1) [0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT * FROM `expense_types` WHERE (`expense_types`.`id` = 1) [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM `expense_types` WHERE (`expense_types`.`id` = 1) [0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT * FROM `expense_types` WHERE (`expense_types`.`id` = 1) [0m
  [4;35;1mExpenseType Load (1.0ms)[0m   [0mSELECT * FROM `expense_types` WHERE (`expense_types`.`id` = 2) [0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT * FROM `expense_types` WHERE (`expense_types`.`id` = 1) [0m
Completed in 98ms (View: 72, DB: 16) | 200 OK [http://localhost/expense/2010/5]
  [4;35;1mSQL (12.0ms)[0m   [0mSET NAMES 'utf8'[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mSET SQL_AUTO_IS_NULL=0[0m


Processing ExpenseController#index (for 127.0.0.1 at 2010-05-02 14:29:59) [GET]
  Parameters: {"month"=>"5", "year"=>"2010"}
  [4;35;1mExpenseItem Load (165.0ms)[0m   [0mSELECT * FROM `expense_items` WHERE (date BETWEEN '2010-05-01' and '2010-05-31') [0m
Rendering template within layouts/expense
Rendering expense/index
  [4;36;1mExpenseItem Columns (47.0ms)[0m   [0;1mSHOW FIELDS FROM `expense_items`[0m
  [4;35;1mExpenseType Columns (7.0ms)[0m   [0mSHOW FIELDS FROM `expense_types`[0m
  [4;36;1mExpenseType Load (84.0ms)[0m   [0;1mSELECT * FROM `expense_types` WHERE (`expense_types`.`id` = 1) [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM `expense_types` WHERE (`expense_types`.`id` = 1) [0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT * FROM `expense_types` WHERE (`expense_types`.`id` = 1) [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM `expense_types` WHERE (`expense_types`.`id` = 1) [0m
  [4;36;1mExpenseType Load (0.0ms)[0m   [0;1mSELECT * FROM `expense_types` WHERE (`expense_types`.`id` = 2) [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM `expense_types` WHERE (`expense_types`.`id` = 1) [0m
Completed in 618ms (View: 260, DB: 315) | 200 OK [http://localhost/expense/2010/5]
  [4;36;1mSQL (0.0ms)[0m   [0;1mSET NAMES 'utf8'[0m
  [4;35;1mSQL (0.0ms)[0m   [0mSET SQL_AUTO_IS_NULL=0[0m


Processing ExpenseItemsController#new (for 127.0.0.1 at 2010-05-02 14:30:02) [GET]
  [4;36;1mExpenseItem Columns (4.0ms)[0m   [0;1mSHOW FIELDS FROM `expense_items`[0m
  [4;35;1mExpenseType Load (19.0ms)[0m   [0mSELECT * FROM `expense_types` [0m
  [4;36;1mExpenseType Columns (4.0ms)[0m   [0;1mSHOW FIELDS FROM `expense_types`[0m
  [4;35;1mExpenseTag Load (7.0ms)[0m   [0mSELECT * FROM `expense_tags` [0m
Rendering template within layouts/expense_items
Rendering expense_items/new
  [4;36;1mExpenseTag Columns (4.0ms)[0m   [0;1mSHOW FIELDS FROM `expense_tags`[0m
Completed in 110ms (View: 45, DB: 38) | 200 OK [http://localhost/expense_items/new]
  [4;35;1mSQL (1.0ms)[0m   [0mSET NAMES 'utf8'[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mSET SQL_AUTO_IS_NULL=0[0m


Processing ExpenseItemsController#create (for 127.0.0.1 at 2010-05-02 14:30:56) [POST]
  Parameters: {"commit"=>"创建", "authenticity_token"=>"OTLGmSGvRhc1cBRb535wpXCA12F+KByI+dY8S1nzB1E=", "expense_item"=>{"date(1i)"=>"2010", "date(2i)"=>"5", "date(3i)"=>"1", "value"=>"125", "tag_names"=>"五一节花费", "note"=>"车展吃饭", "expense_type_id"=>"2"}}
  [4;35;1mExpenseItem Columns (13.0ms)[0m   [0mSHOW FIELDS FROM `expense_items`[0m
  [4;36;1mSQL (19.0ms)[0m   [0;1mBEGIN[0m
  [4;35;1mExpenseItem Create (161.0ms)[0m   [0mINSERT INTO `expense_items` (`updated_at`, `date`, `value`, `expense_type_id`, `note`, `created_at`) VALUES('2010-05-02 06:30:56', '2010-05-01', 125.0, 2, '车展吃饭', '2010-05-02 06:30:56')[0m
  [4;36;1mExpenseTag Columns (46.0ms)[0m   [0;1mSHOW FIELDS FROM `expense_tags`[0m
  [4;35;1mExpenseTag Load (0.0ms)[0m   [0mSELECT * FROM `expense_tags` WHERE (`expense_tags`.`name` = '五一节花费') LIMIT 1[0m
  [4;36;1mexpense_items_expense_tags Columns (19.0ms)[0m   [0;1mSHOW FIELDS FROM `expense_items_expense_tags`[0m
  [4;35;1mExpenseTag Load (80.0ms)[0m   [0mSELECT * FROM `expense_tags` INNER JOIN `expense_items_expense_tags` ON `expense_tags`.id = `expense_items_expense_tags`.expense_tag_id WHERE (`expense_items_expense_tags`.expense_item_id = 10 ) [0m
  [4;36;1mSQL (27.0ms)[0m   [0;1mdescribe `expense_items_expense_tags`[0m
  [4;35;1mSQL (38.0ms)[0m   [0mINSERT INTO `expense_items_expense_tags` (`expense_tag_id`, `expense_item_id`) VALUES (2, 10)[0m
  [4;36;1mSQL (116.0ms)[0m   [0;1mCOMMIT[0m
Redirected to http://localhost:3000/expense/2010/5
Completed in 677ms (DB: 520) | 302 Found [http://localhost/expense_items]
  [4;35;1mSQL (0.0ms)[0m   [0mSET NAMES 'utf8'[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mSET SQL_AUTO_IS_NULL=0[0m


Processing ExpenseController#index (for 127.0.0.1 at 2010-05-02 14:30:57) [GET]
  Parameters: {"month"=>"5", "year"=>"2010"}
  [4;35;1mExpenseItem Load (1.0ms)[0m   [0mSELECT * FROM `expense_items` WHERE (date BETWEEN '2010-05-01' and '2010-05-31') [0m
Rendering template within layouts/expense
Rendering expense/index
  [4;36;1mExpenseItem Columns (5.0ms)[0m   [0;1mSHOW FIELDS FROM `expense_items`[0m
  [4;35;1mExpenseType Columns (3.0ms)[0m   [0mSHOW FIELDS FROM `expense_types`[0m
  [4;36;1mExpenseType Load (5.0ms)[0m   [0;1mSELECT * FROM `expense_types` WHERE (`expense_types`.`id` = 1) [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM `expense_types` WHERE (`expense_types`.`id` = 1) [0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT * FROM `expense_types` WHERE (`expense_types`.`id` = 1) [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM `expense_types` WHERE (`expense_types`.`id` = 1) [0m
  [4;36;1mExpenseType Load (0.0ms)[0m   [0;1mSELECT * FROM `expense_types` WHERE (`expense_types`.`id` = 2) [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM `expense_types` WHERE (`expense_types`.`id` = 1) [0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT * FROM `expense_types` WHERE (`expense_types`.`id` = 2) [0m
Completed in 131ms (View: 107, DB: 14) | 200 OK [http://localhost/expense/2010/5]
  [4;35;1mSQL (0.0ms)[0m   [0mSET NAMES 'utf8'[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mSET SQL_AUTO_IS_NULL=0[0m


Processing ExpenseItemsController#new (for 127.0.0.1 at 2010-05-02 14:31:20) [GET]
  [4;35;1mExpenseItem Columns (6.0ms)[0m   [0mSHOW FIELDS FROM `expense_items`[0m
  [4;36;1mExpenseType Load (4.0ms)[0m   [0;1mSELECT * FROM `expense_types` [0m
  [4;35;1mExpenseType Columns (3.0ms)[0m   [0mSHOW FIELDS FROM `expense_types`[0m
  [4;36;1mExpenseTag Load (1.0ms)[0m   [0;1mSELECT * FROM `expense_tags` [0m
Rendering template within layouts/expense_items
Rendering expense_items/new
  [4;35;1mExpenseTag Columns (3.0ms)[0m   [0mSHOW FIELDS FROM `expense_tags`[0m
Completed in 70ms (View: 20, DB: 17) | 200 OK [http://localhost/expense_items/new]
  [4;36;1mSQL (0.0ms)[0m   [0;1mSET NAMES 'utf8'[0m
  [4;35;1mSQL (0.0ms)[0m   [0mSET SQL_AUTO_IS_NULL=0[0m


Processing ExpenseItemsController#new (for 127.0.0.1 at 2010-05-02 14:31:46) [GET]
  [4;36;1mExpenseItem Columns (7.0ms)[0m   [0;1mSHOW FIELDS FROM `expense_items`[0m
  [4;35;1mExpenseType Load (6.0ms)[0m   [0mSELECT * FROM `expense_types` [0m
  [4;36;1mExpenseType Columns (5.0ms)[0m   [0;1mSHOW FIELDS FROM `expense_types`[0m
  [4;35;1mExpenseTag Load (17.0ms)[0m   [0mSELECT * FROM `expense_tags` [0m
Rendering template within layouts/expense_items
Rendering expense_items/new
  [4;36;1mExpenseTag Columns (4.0ms)[0m   [0;1mSHOW FIELDS FROM `expense_tags`[0m
Completed in 105ms (View: 39, DB: 39) | 200 OK [http://localhost/expense_items/new]
  [4;35;1mSQL (0.0ms)[0m   [0mSET NAMES 'utf8'[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mSET SQL_AUTO_IS_NULL=0[0m


Processing ExpenseItemsController#create (for 127.0.0.1 at 2010-05-02 14:32:07) [POST]
  Parameters: {"commit"=>"创建", "authenticity_token"=>"OTLGmSGvRhc1cBRb535wpXCA12F+KByI+dY8S1nzB1E=", "expense_item"=>{"date(1i)"=>"2010", "date(2i)"=>"5", "date(3i)"=>"1", "value"=>"0", "tag_names"=>"无聊", "note"=>"多对对", "expense_type_id"=>"1"}}
  [4;35;1mExpenseItem Columns (37.0ms)[0m   [0mSHOW FIELDS FROM `expense_items`[0m
  [4;36;1mSQL (1.0ms)[0m   [0;1mBEGIN[0m
  [4;35;1mSQL (0.0ms)[0m   [0mROLLBACK[0m
Rendering template within layouts/expense_items
Rendering expense_items/new

ActionView::TemplateError (You have a nil object when you didn't expect it!
You might have expected an instance of Array.
The error occurred while evaluating nil.inject) on line #12 of app/views/expense_items/new.html.erb:
9:   </p>
10:   <p>
11:     <%= f.label :expense_type_id, '类型' %><br />
12:     <%= f.select :expense_type_id, @expense_types %>
13:   </p>
14:   <p>
15:     <%= f.label :value, '金额' %><br />

    app/views/expense_items/new.html.erb:12
    app/views/expense_items/new.html.erb:3
    app/controllers/expense_items_controller.rb:55:in `create'
    app/controllers/expense_items_controller.rb:47:in `create'

Rendered rescues/_trace (242.0ms)
Rendered rescues/_request_and_response (28.0ms)
Rendering rescues/layout (internal_server_error)
  [4;36;1mSQL (1.0ms)[0m   [0;1mSET NAMES 'utf8'[0m
  [4;35;1mSQL (0.0ms)[0m   [0mSET SQL_AUTO_IS_NULL=0[0m


Processing ExpenseItemsController#new (for 127.0.0.1 at 2010-05-02 14:33:45) [GET]
  [4;36;1mExpenseItem Columns (5.0ms)[0m   [0;1mSHOW FIELDS FROM `expense_items`[0m
  [4;35;1mExpenseType Load (1.0ms)[0m   [0mSELECT * FROM `expense_types` [0m
  [4;36;1mExpenseType Columns (4.0ms)[0m   [0;1mSHOW FIELDS FROM `expense_types`[0m
  [4;35;1mExpenseTag Load (0.0ms)[0m   [0mSELECT * FROM `expense_tags` [0m
Rendering template within layouts/expense_items
Rendering expense_items/new
  [4;36;1mExpenseTag Columns (3.0ms)[0m   [0;1mSHOW FIELDS FROM `expense_tags`[0m
Completed in 132ms (View: 92, DB: 14) | 200 OK [http://localhost/expense_items/new]
  [4;35;1mSQL (0.0ms)[0m   [0mSET NAMES 'utf8'[0m
  [4;36;1mSQL (1.0ms)[0m   [0;1mSET SQL_AUTO_IS_NULL=0[0m


Processing ExpenseItemsController#create (for 127.0.0.1 at 2010-05-02 14:33:48) [POST]
  Parameters: {"commit"=>"创建", "authenticity_token"=>"OTLGmSGvRhc1cBRb535wpXCA12F+KByI+dY8S1nzB1E=", "expense_item"=>{"date(1i)"=>"2010", "date(2i)"=>"5", "date(3i)"=>"1", "value"=>"0", "tag_names"=>"无聊", "note"=>"多对对", "expense_type_id"=>"1"}}
  [4;35;1mExpenseItem Columns (42.0ms)[0m   [0mSHOW FIELDS FROM `expense_items`[0m
  [4;36;1mSQL (3.0ms)[0m   [0;1mBEGIN[0m
  [4;35;1mSQL (0.0ms)[0m   [0mROLLBACK[0m
  [4;36;1mExpenseType Load (0.0ms)[0m   [0;1mSELECT * FROM `expense_types` [0m
  [4;35;1mExpenseType Columns (3.0ms)[0m   [0mSHOW FIELDS FROM `expense_types`[0m
  [4;36;1mExpenseTag Load (1.0ms)[0m   [0;1mSELECT * FROM `expense_tags` [0m
Rendering template within layouts/expense_items
Rendering expense_items/new
  [4;35;1mExpenseTag Columns (7.0ms)[0m   [0mSHOW FIELDS FROM `expense_tags`[0m

ActionView::TemplateError (expense_month_url failed to generate from {:month=>nil, :year=>nil, :action=>"index", :controller=>"expense"}, expected: {:action=>"index", :controller=>"expense"}, diff: {:month=>nil, :year=>nil}) on line #38 of app/views/expense_items/new.html.erb:
35:     <%= f.submit '创建' %>
36:   </p>
37: <% end %>
38: <%= link_to '返回', expense_month_path(@year, @month) %>

    (eval):16:in `expense_month_path'
    app/views/expense_items/new.html.erb:38
    app/controllers/expense_items_controller.rb:57:in `create'
    app/controllers/expense_items_controller.rb:47:in `create'

Rendered rescues/_trace (145.0ms)
Rendered rescues/_request_and_response (1.0ms)
Rendering rescues/layout (internal_server_error)
  [4;36;1mSQL (0.0ms)[0m   [0;1mSET NAMES 'utf8'[0m
  [4;35;1mSQL (1.0ms)[0m   [0mSET SQL_AUTO_IS_NULL=0[0m


Processing ExpenseItemsController#new (for 127.0.0.1 at 2010-05-02 14:36:21) [GET]
  [4;36;1mExpenseItem Columns (5.0ms)[0m   [0;1mSHOW FIELDS FROM `expense_items`[0m
  [4;35;1mExpenseType Load (0.0ms)[0m   [0mSELECT * FROM `expense_types` [0m
  [4;36;1mExpenseType Columns (3.0ms)[0m   [0;1mSHOW FIELDS FROM `expense_types`[0m
  [4;35;1mExpenseTag Load (0.0ms)[0m   [0mSELECT * FROM `expense_tags` [0m
Rendering template within layouts/expense_items
Rendering expense_items/new
  [4;36;1mExpenseTag Columns (4.0ms)[0m   [0;1mSHOW FIELDS FROM `expense_tags`[0m
Completed in 59ms (View: 19, DB: 13) | 200 OK [http://localhost/expense_items/new]
  [4;35;1mSQL (0.0ms)[0m   [0mSET NAMES 'utf8'[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mSET SQL_AUTO_IS_NULL=0[0m


Processing ExpenseItemsController#create (for 127.0.0.1 at 2010-05-02 14:36:24) [POST]
  Parameters: {"commit"=>"创建", "authenticity_token"=>"OTLGmSGvRhc1cBRb535wpXCA12F+KByI+dY8S1nzB1E=", "expense_item"=>{"date(1i)"=>"2010", "date(2i)"=>"5", "date(3i)"=>"1", "value"=>"0", "tag_names"=>"无聊", "note"=>"多对对", "expense_type_id"=>"1"}}
  [4;35;1mExpenseItem Columns (4.0ms)[0m   [0mSHOW FIELDS FROM `expense_items`[0m
  [4;36;1mSQL (3.0ms)[0m   [0;1mBEGIN[0m
  [4;35;1mSQL (1.0ms)[0m   [0mROLLBACK[0m
  [4;36;1mExpenseType Load (1.0ms)[0m   [0;1mSELECT * FROM `expense_types` [0m
  [4;35;1mExpenseType Columns (4.0ms)[0m   [0mSHOW FIELDS FROM `expense_types`[0m
  [4;36;1mExpenseTag Load (1.0ms)[0m   [0;1mSELECT * FROM `expense_tags` [0m
Rendering template within layouts/expense_items
Rendering expense_items/new
  [4;35;1mExpenseTag Columns (4.0ms)[0m   [0mSHOW FIELDS FROM `expense_tags`[0m
Completed in 144ms (View: 18, DB: 18) | 200 OK [http://localhost/expense_items]
  [4;36;1mSQL (0.0ms)[0m   [0;1mSET NAMES 'utf8'[0m
  [4;35;1mSQL (1.0ms)[0m   [0mSET SQL_AUTO_IS_NULL=0[0m


Processing ExpenseItemsController#create (for 127.0.0.1 at 2010-05-02 14:49:38) [POST]
  Parameters: {"commit"=>"创建", "authenticity_token"=>"OTLGmSGvRhc1cBRb535wpXCA12F+KByI+dY8S1nzB1E=", "expense_item"=>{"date(1i)"=>"2010", "date(2i)"=>"5", "date(3i)"=>"1", "value"=>"20", "tag_names"=>"无聊", "note"=>"多对对", "expense_type_id"=>"1"}}
  [4;36;1mExpenseItem Columns (5.0ms)[0m   [0;1mSHOW FIELDS FROM `expense_items`[0m
  [4;35;1mSQL (2.0ms)[0m   [0mBEGIN[0m
  [4;36;1mExpenseItem Create (0.0ms)[0m   [0;1mINSERT INTO `expense_items` (`updated_at`, `date`, `value`, `expense_type_id`, `note`, `created_at`) VALUES('2010-05-02 06:49:38', '2010-05-01', 20.0, 1, '多对对', '2010-05-02 06:49:38')[0m
  [4;35;1mExpenseTag Columns (3.0ms)[0m   [0mSHOW FIELDS FROM `expense_tags`[0m
  [4;36;1mExpenseTag Load (4.0ms)[0m   [0;1mSELECT * FROM `expense_tags` WHERE (`expense_tags`.`name` = '无聊') LIMIT 1[0m
  [4;35;1mExpenseTag Create (26.0ms)[0m   [0mINSERT INTO `expense_tags` (`name`, `updated_at`, `created_at`) VALUES('无聊', '2010-05-02 06:49:38', '2010-05-02 06:49:38')[0m
  [4;36;1mexpense_items_expense_tags Columns (4.0ms)[0m   [0;1mSHOW FIELDS FROM `expense_items_expense_tags`[0m
  [4;35;1mExpenseTag Load (2.0ms)[0m   [0mSELECT * FROM `expense_tags` INNER JOIN `expense_items_expense_tags` ON `expense_tags`.id = `expense_items_expense_tags`.expense_tag_id WHERE (`expense_items_expense_tags`.expense_item_id = 11 ) [0m
  [4;36;1mSQL (4.0ms)[0m   [0;1mdescribe `expense_items_expense_tags`[0m
  [4;35;1mSQL (2.0ms)[0m   [0mINSERT INTO `expense_items_expense_tags` (`expense_tag_id`, `expense_item_id`) VALUES (5, 11)[0m
  [4;36;1mSQL (78.0ms)[0m   [0;1mCOMMIT[0m
Redirected to http://localhost:3000/expense/2010/5
Completed in 164ms (DB: 131) | 302 Found [http://localhost/expense_items]
  [4;35;1mSQL (0.0ms)[0m   [0mSET NAMES 'utf8'[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mSET SQL_AUTO_IS_NULL=0[0m


Processing ExpenseController#index (for 127.0.0.1 at 2010-05-02 14:49:39) [GET]
  Parameters: {"month"=>"5", "year"=>"2010"}
  [4;35;1mExpenseItem Load (0.0ms)[0m   [0mSELECT * FROM `expense_items` WHERE (date BETWEEN '2010-05-01' and '2010-05-31') [0m
Rendering template within layouts/expense
Rendering expense/index
  [4;36;1mExpenseItem Columns (5.0ms)[0m   [0;1mSHOW FIELDS FROM `expense_items`[0m
  [4;35;1mExpenseType Columns (3.0ms)[0m   [0mSHOW FIELDS FROM `expense_types`[0m
  [4;36;1mExpenseType Load (6.0ms)[0m   [0;1mSELECT * FROM `expense_types` WHERE (`expense_types`.`id` = 1) [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM `expense_types` WHERE (`expense_types`.`id` = 1) [0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT * FROM `expense_types` WHERE (`expense_types`.`id` = 1) [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM `expense_types` WHERE (`expense_types`.`id` = 1) [0m
  [4;36;1mExpenseType Load (1.0ms)[0m   [0;1mSELECT * FROM `expense_types` WHERE (`expense_types`.`id` = 2) [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM `expense_types` WHERE (`expense_types`.`id` = 1) [0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT * FROM `expense_types` WHERE (`expense_types`.`id` = 2) [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM `expense_types` WHERE (`expense_types`.`id` = 1) [0m
Completed in 97ms (View: 71, DB: 15) | 200 OK [http://localhost/expense/2010/5]
  [4;36;1mSQL (0.0ms)[0m   [0;1mSET NAMES 'utf8'[0m
  [4;35;1mSQL (0.0ms)[0m   [0mSET SQL_AUTO_IS_NULL=0[0m


Processing ExpenseController#index (for 127.0.0.1 at 2010-05-02 14:51:25) [GET]
  Parameters: {"month"=>"5", "year"=>"2010"}
  [4;36;1mExpenseItem Load (1.0ms)[0m   [0;1mSELECT * FROM `expense_items` WHERE (date BETWEEN '2010-05-01' and '2010-05-31') [0m
Rendering template within layouts/expense
Rendering expense/index
  [4;35;1mExpenseItem Columns (5.0ms)[0m   [0mSHOW FIELDS FROM `expense_items`[0m
  [4;36;1mExpenseType Columns (18.0ms)[0m   [0;1mSHOW FIELDS FROM `expense_types`[0m
  [4;35;1mExpenseType Load (7.0ms)[0m   [0mSELECT * FROM `expense_types` WHERE (`expense_types`.`id` = 1) [0m
  [4;36;1mexpense_items_expense_tags Columns (5.0ms)[0m   [0;1mSHOW FIELDS FROM `expense_items_expense_tags`[0m
  [4;35;1mExpenseTag Load (3.0ms)[0m   [0mSELECT * FROM `expense_tags` INNER JOIN `expense_items_expense_tags` ON `expense_tags`.id = `expense_items_expense_tags`.expense_tag_id WHERE (`expense_items_expense_tags`.expense_item_id = 4 ) [0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT * FROM `expense_types` WHERE (`expense_types`.`id` = 1) [0m
  [4;35;1mExpenseTag Load (0.0ms)[0m   [0mSELECT * FROM `expense_tags` INNER JOIN `expense_items_expense_tags` ON `expense_tags`.id = `expense_items_expense_tags`.expense_tag_id WHERE (`expense_items_expense_tags`.expense_item_id = 5 ) [0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT * FROM `expense_types` WHERE (`expense_types`.`id` = 1) [0m
  [4;35;1mExpenseTag Load (1.0ms)[0m   [0mSELECT * FROM `expense_tags` INNER JOIN `expense_items_expense_tags` ON `expense_tags`.id = `expense_items_expense_tags`.expense_tag_id WHERE (`expense_items_expense_tags`.expense_item_id = 6 ) [0m
  [4;36;1mExpenseTag Columns (4.0ms)[0m   [0;1mSHOW FIELDS FROM `expense_tags`[0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM `expense_types` WHERE (`expense_types`.`id` = 1) [0m
  [4;36;1mExpenseTag Load (6.0ms)[0m   [0;1mSELECT * FROM `expense_tags` INNER JOIN `expense_items_expense_tags` ON `expense_tags`.id = `expense_items_expense_tags`.expense_tag_id WHERE (`expense_items_expense_tags`.expense_item_id = 7 ) [0m
  [4;35;1mExpenseType Load (1.0ms)[0m   [0mSELECT * FROM `expense_types` WHERE (`expense_types`.`id` = 2) [0m
  [4;36;1mExpenseTag Load (0.0ms)[0m   [0;1mSELECT * FROM `expense_tags` INNER JOIN `expense_items_expense_tags` ON `expense_tags`.id = `expense_items_expense_tags`.expense_tag_id WHERE (`expense_items_expense_tags`.expense_item_id = 8 ) [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM `expense_types` WHERE (`expense_types`.`id` = 1) [0m
  [4;36;1mExpenseTag Load (0.0ms)[0m   [0;1mSELECT * FROM `expense_tags` INNER JOIN `expense_items_expense_tags` ON `expense_tags`.id = `expense_items_expense_tags`.expense_tag_id WHERE (`expense_items_expense_tags`.expense_item_id = 9 ) [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM `expense_types` WHERE (`expense_types`.`id` = 2) [0m
  [4;36;1mExpenseTag Load (0.0ms)[0m   [0;1mSELECT * FROM `expense_tags` INNER JOIN `expense_items_expense_tags` ON `expense_tags`.id = `expense_items_expense_tags`.expense_tag_id WHERE (`expense_items_expense_tags`.expense_item_id = 10 ) [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM `expense_types` WHERE (`expense_types`.`id` = 1) [0m
  [4;36;1mExpenseTag Load (2.0ms)[0m   [0;1mSELECT * FROM `expense_tags` INNER JOIN `expense_items_expense_tags` ON `expense_tags`.id = `expense_items_expense_tags`.expense_tag_id WHERE (`expense_items_expense_tags`.expense_item_id = 11 ) [0m
Completed in 200ms (View: 136, DB: 53) | 200 OK [http://localhost/expense/2010/5]
  [4;35;1mSQL (0.0ms)[0m   [0mSET NAMES 'utf8'[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mSET SQL_AUTO_IS_NULL=0[0m


Processing ExpenseItemsController#edit (for 127.0.0.1 at 2010-05-02 14:51:31) [GET]
  Parameters: {"id"=>"10"}
  [4;35;1mExpenseItem Columns (6.0ms)[0m   [0mSHOW FIELDS FROM `expense_items`[0m
  [4;36;1mExpenseItem Load (8.0ms)[0m   [0;1mSELECT * FROM `expense_items` WHERE (`expense_items`.`id` = 10) [0m
  [4;35;1mExpenseType Load (0.0ms)[0m   [0mSELECT * FROM `expense_types` [0m
  [4;36;1mExpenseType Columns (3.0ms)[0m   [0;1mSHOW FIELDS FROM `expense_types`[0m
Rendering template within layouts/expense_items
Rendering expense_items/edit
Completed in 58ms (View: 19, DB: 17) | 200 OK [http://localhost/expense_items/10/edit]
  [4;35;1mSQL (1.0ms)[0m   [0mSET NAMES 'utf8'[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mSET SQL_AUTO_IS_NULL=0[0m


Processing ExpenseController#index (for 127.0.0.1 at 2010-05-02 14:51:37) [GET]
  Parameters: {"month"=>"5", "year"=>"2010"}
  [4;35;1mExpenseItem Load (0.0ms)[0m   [0mSELECT * FROM `expense_items` WHERE (date BETWEEN '2010-05-01' and '2010-05-31') [0m
Rendering template within layouts/expense
Rendering expense/index
  [4;36;1mExpenseItem Columns (5.0ms)[0m   [0;1mSHOW FIELDS FROM `expense_items`[0m
  [4;35;1mExpenseType Columns (7.0ms)[0m   [0mSHOW FIELDS FROM `expense_types`[0m
  [4;36;1mExpenseType Load (5.0ms)[0m   [0;1mSELECT * FROM `expense_types` WHERE (`expense_types`.`id` = 1) [0m
  [4;35;1mexpense_items_expense_tags Columns (4.0ms)[0m   [0mSHOW FIELDS FROM `expense_items_expense_tags`[0m
  [4;36;1mExpenseTag Load (2.0ms)[0m   [0;1mSELECT * FROM `expense_tags` INNER JOIN `expense_items_expense_tags` ON `expense_tags`.id = `expense_items_expense_tags`.expense_tag_id WHERE (`expense_items_expense_tags`.expense_item_id = 4 ) [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM `expense_types` WHERE (`expense_types`.`id` = 1) [0m
  [4;36;1mExpenseTag Load (1.0ms)[0m   [0;1mSELECT * FROM `expense_tags` INNER JOIN `expense_items_expense_tags` ON `expense_tags`.id = `expense_items_expense_tags`.expense_tag_id WHERE (`expense_items_expense_tags`.expense_item_id = 5 ) [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM `expense_types` WHERE (`expense_types`.`id` = 1) [0m
  [4;36;1mExpenseTag Load (0.0ms)[0m   [0;1mSELECT * FROM `expense_tags` INNER JOIN `expense_items_expense_tags` ON `expense_tags`.id = `expense_items_expense_tags`.expense_tag_id WHERE (`expense_items_expense_tags`.expense_item_id = 6 ) [0m
  [4;35;1mExpenseTag Columns (4.0ms)[0m   [0mSHOW FIELDS FROM `expense_tags`[0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT * FROM `expense_types` WHERE (`expense_types`.`id` = 1) [0m
  [4;35;1mExpenseTag Load (0.0ms)[0m   [0mSELECT * FROM `expense_tags` INNER JOIN `expense_items_expense_tags` ON `expense_tags`.id = `expense_items_expense_tags`.expense_tag_id WHERE (`expense_items_expense_tags`.expense_item_id = 7 ) [0m
  [4;36;1mExpenseType Load (0.0ms)[0m   [0;1mSELECT * FROM `expense_types` WHERE (`expense_types`.`id` = 2) [0m
  [4;35;1mExpenseTag Load (0.0ms)[0m   [0mSELECT * FROM `expense_tags` INNER JOIN `expense_items_expense_tags` ON `expense_tags`.id = `expense_items_expense_tags`.expense_tag_id WHERE (`expense_items_expense_tags`.expense_item_id = 8 ) [0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT * FROM `expense_types` WHERE (`expense_types`.`id` = 1) [0m
  [4;35;1mExpenseTag Load (1.0ms)[0m   [0mSELECT * FROM `expense_tags` INNER JOIN `expense_items_expense_tags` ON `expense_tags`.id = `expense_items_expense_tags`.expense_tag_id WHERE (`expense_items_expense_tags`.expense_item_id = 9 ) [0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT * FROM `expense_types` WHERE (`expense_types`.`id` = 2) [0m
  [4;35;1mExpenseTag Load (0.0ms)[0m   [0mSELECT * FROM `expense_tags` INNER JOIN `expense_items_expense_tags` ON `expense_tags`.id = `expense_items_expense_tags`.expense_tag_id WHERE (`expense_items_expense_tags`.expense_item_id = 10 ) [0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT * FROM `expense_types` WHERE (`expense_types`.`id` = 1) [0m
  [4;35;1mExpenseTag Load (2.0ms)[0m   [0mSELECT * FROM `expense_tags` INNER JOIN `expense_items_expense_tags` ON `expense_tags`.id = `expense_items_expense_tags`.expense_tag_id WHERE (`expense_items_expense_tags`.expense_item_id = 11 ) [0m
Completed in 171ms (View: 125, DB: 32) | 200 OK [http://localhost/expense/2010/5]
  [4;36;1mSQL (1.0ms)[0m   [0;1mSET NAMES 'utf8'[0m
  [4;35;1mSQL (1.0ms)[0m   [0mSET SQL_AUTO_IS_NULL=0[0m


Processing ExpenseItemsController#edit (for 127.0.0.1 at 2010-05-02 14:54:46) [GET]
  Parameters: {"id"=>"6"}
  [4;36;1mExpenseItem Columns (5.0ms)[0m   [0;1mSHOW FIELDS FROM `expense_items`[0m
  [4;35;1mExpenseItem Load (5.0ms)[0m   [0mSELECT * FROM `expense_items` WHERE (`expense_items`.`id` = 6) [0m
  [4;36;1mExpenseType Load (1.0ms)[0m   [0;1mSELECT * FROM `expense_types` [0m
  [4;35;1mExpenseType Columns (28.0ms)[0m   [0mSHOW FIELDS FROM `expense_types`[0m
Rendering template within layouts/expense_items
Rendering expense_items/edit
  [4;36;1mexpense_items_expense_tags Columns (3.0ms)[0m   [0;1mSHOW FIELDS FROM `expense_items_expense_tags`[0m
  [4;35;1mExpenseTag Load (3.0ms)[0m   [0mSELECT * FROM `expense_tags` INNER JOIN `expense_items_expense_tags` ON `expense_tags`.id = `expense_items_expense_tags`.expense_tag_id WHERE (`expense_items_expense_tags`.expense_item_id = 6 ) [0m
  [4;36;1mExpenseTag Columns (3.0ms)[0m   [0;1mSHOW FIELDS FROM `expense_tags`[0m

ActionView::TemplateError (You have a nil object when you didn't expect it!
You might have expected an instance of Array.
The error occurred while evaluating nil.each) on line #27 of app/views/expense_items/edit.html.erb:
24:       <legend>标签（空格分隔）</legend>
25:         <%= f.text_field :tag_names %>
26:       <br/>
27:       <% @expense_tags.each do |tag| %>
28:         <%= tag.name %>
29:       <% end %>
30:     </fieldset>

    app/views/expense_items/edit.html.erb:27
    app/views/expense_items/edit.html.erb:3

Rendered rescues/_trace (92.0ms)
Rendered rescues/_request_and_response (1.0ms)
Rendering rescues/layout (internal_server_error)
  [4;35;1mSQL (0.0ms)[0m   [0mSET NAMES 'utf8'[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mSET SQL_AUTO_IS_NULL=0[0m


Processing ExpenseController#index (for 127.0.0.1 at 2010-05-02 14:56:28) [GET]
  Parameters: {"month"=>"5", "year"=>"2010"}
  [4;35;1mExpenseItem Load (1.0ms)[0m   [0mSELECT * FROM `expense_items` WHERE (date BETWEEN '2010-05-01' and '2010-05-31') [0m
Rendering template within layouts/expense
Rendering expense/index
  [4;36;1mExpenseItem Columns (5.0ms)[0m   [0;1mSHOW FIELDS FROM `expense_items`[0m
  [4;35;1mExpenseType Columns (4.0ms)[0m   [0mSHOW FIELDS FROM `expense_types`[0m
  [4;36;1mExpenseType Load (4.0ms)[0m   [0;1mSELECT * FROM `expense_types` WHERE (`expense_types`.`id` = 1) [0m
  [4;35;1mexpense_items_expense_tags Columns (3.0ms)[0m   [0mSHOW FIELDS FROM `expense_items_expense_tags`[0m
  [4;36;1mExpenseTag Load (2.0ms)[0m   [0;1mSELECT * FROM `expense_tags` INNER JOIN `expense_items_expense_tags` ON `expense_tags`.id = `expense_items_expense_tags`.expense_tag_id WHERE (`expense_items_expense_tags`.expense_item_id = 4 ) [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM `expense_types` WHERE (`expense_types`.`id` = 1) [0m
  [4;36;1mExpenseTag Load (0.0ms)[0m   [0;1mSELECT * FROM `expense_tags` INNER JOIN `expense_items_expense_tags` ON `expense_tags`.id = `expense_items_expense_tags`.expense_tag_id WHERE (`expense_items_expense_tags`.expense_item_id = 5 ) [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM `expense_types` WHERE (`expense_types`.`id` = 1) [0m
  [4;36;1mExpenseTag Load (1.0ms)[0m   [0;1mSELECT * FROM `expense_tags` INNER JOIN `expense_items_expense_tags` ON `expense_tags`.id = `expense_items_expense_tags`.expense_tag_id WHERE (`expense_items_expense_tags`.expense_item_id = 6 ) [0m
  [4;35;1mExpenseTag Columns (4.0ms)[0m   [0mSHOW FIELDS FROM `expense_tags`[0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT * FROM `expense_types` WHERE (`expense_types`.`id` = 1) [0m
  [4;35;1mExpenseTag Load (0.0ms)[0m   [0mSELECT * FROM `expense_tags` INNER JOIN `expense_items_expense_tags` ON `expense_tags`.id = `expense_items_expense_tags`.expense_tag_id WHERE (`expense_items_expense_tags`.expense_item_id = 7 ) [0m
  [4;36;1mExpenseType Load (0.0ms)[0m   [0;1mSELECT * FROM `expense_types` WHERE (`expense_types`.`id` = 2) [0m
  [4;35;1mExpenseTag Load (1.0ms)[0m   [0mSELECT * FROM `expense_tags` INNER JOIN `expense_items_expense_tags` ON `expense_tags`.id = `expense_items_expense_tags`.expense_tag_id WHERE (`expense_items_expense_tags`.expense_item_id = 8 ) [0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT * FROM `expense_types` WHERE (`expense_types`.`id` = 1) [0m
  [4;35;1mExpenseTag Load (3.0ms)[0m   [0mSELECT * FROM `expense_tags` INNER JOIN `expense_items_expense_tags` ON `expense_tags`.id = `expense_items_expense_tags`.expense_tag_id WHERE (`expense_items_expense_tags`.expense_item_id = 9 ) [0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT * FROM `expense_types` WHERE (`expense_types`.`id` = 2) [0m
  [4;35;1mExpenseTag Load (0.0ms)[0m   [0mSELECT * FROM `expense_tags` INNER JOIN `expense_items_expense_tags` ON `expense_tags`.id = `expense_items_expense_tags`.expense_tag_id WHERE (`expense_items_expense_tags`.expense_item_id = 10 ) [0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT * FROM `expense_types` WHERE (`expense_types`.`id` = 1) [0m
  [4;35;1mExpenseTag Load (0.0ms)[0m   [0mSELECT * FROM `expense_tags` INNER JOIN `expense_items_expense_tags` ON `expense_tags`.id = `expense_items_expense_tags`.expense_tag_id WHERE (`expense_items_expense_tags`.expense_item_id = 11 ) [0m
Completed in 120ms (View: 73, DB: 28) | 200 OK [http://localhost/expense/2010/5]
  [4;36;1mSQL (0.0ms)[0m   [0;1mSET NAMES 'utf8'[0m
  [4;35;1mSQL (0.0ms)[0m   [0mSET SQL_AUTO_IS_NULL=0[0m


Processing ExpenseItemsController#edit (for 127.0.0.1 at 2010-05-02 14:56:31) [GET]
  Parameters: {"id"=>"6"}
  [4;36;1mExpenseItem Columns (5.0ms)[0m   [0;1mSHOW FIELDS FROM `expense_items`[0m
  [4;35;1mExpenseItem Load (9.0ms)[0m   [0mSELECT * FROM `expense_items` WHERE (`expense_items`.`id` = 6) [0m
  [4;36;1mExpenseType Load (1.0ms)[0m   [0;1mSELECT * FROM `expense_types` [0m
  [4;35;1mExpenseType Columns (5.0ms)[0m   [0mSHOW FIELDS FROM `expense_types`[0m
  [4;36;1mExpenseTag Load (0.0ms)[0m   [0;1mSELECT * FROM `expense_tags` [0m
Rendering template within layouts/expense_items
Rendering expense_items/edit
  [4;35;1mexpense_items_expense_tags Columns (3.0ms)[0m   [0mSHOW FIELDS FROM `expense_items_expense_tags`[0m
  [4;36;1mExpenseTag Load (4.0ms)[0m   [0;1mSELECT * FROM `expense_tags` INNER JOIN `expense_items_expense_tags` ON `expense_tags`.id = `expense_items_expense_tags`.expense_tag_id WHERE (`expense_items_expense_tags`.expense_item_id = 6 ) [0m
  [4;35;1mExpenseTag Columns (4.0ms)[0m   [0mSHOW FIELDS FROM `expense_tags`[0m
Completed in 81ms (View: 22, DB: 31) | 200 OK [http://localhost/expense_items/6/edit]
  [4;36;1mSQL (0.0ms)[0m   [0;1mSET NAMES 'utf8'[0m
  [4;35;1mSQL (0.0ms)[0m   [0mSET SQL_AUTO_IS_NULL=0[0m


Processing ExpenseItemsController#update (for 127.0.0.1 at 2010-05-02 14:56:50) [PUT]
  Parameters: {"commit"=>"Update", "authenticity_token"=>"OTLGmSGvRhc1cBRb535wpXCA12F+KByI+dY8S1nzB1E=", "id"=>"6", "expense_item"=>{"date(1i)"=>"2010", "date(2i)"=>"5", "date(3i)"=>"2", "value"=>"20", "tag_names"=>"李博打车 无聊", "note"=>"李博打车", "expense_type_id"=>"1"}}
  [4;36;1mExpenseItem Columns (4.0ms)[0m   [0;1mSHOW FIELDS FROM `expense_items`[0m
  [4;35;1mExpenseItem Load (9.0ms)[0m   [0mSELECT * FROM `expense_items` WHERE (`expense_items`.`id` = 6) [0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mBEGIN[0m
  [4;35;1mExpenseTag Columns (4.0ms)[0m   [0mSHOW FIELDS FROM `expense_tags`[0m
  [4;36;1mExpenseTag Load (6.0ms)[0m   [0;1mSELECT * FROM `expense_tags` WHERE (`expense_tags`.`name` = '李博打车') LIMIT 1[0m
  [4;35;1mExpenseTag Load (0.0ms)[0m   [0mSELECT * FROM `expense_tags` WHERE (`expense_tags`.`name` = '无聊') LIMIT 1[0m
  [4;36;1mexpense_items_expense_tags Columns (4.0ms)[0m   [0;1mSHOW FIELDS FROM `expense_items_expense_tags`[0m
  [4;35;1mExpenseTag Load (3.0ms)[0m   [0mSELECT * FROM `expense_tags` INNER JOIN `expense_items_expense_tags` ON `expense_tags`.id = `expense_items_expense_tags`.expense_tag_id WHERE (`expense_items_expense_tags`.expense_item_id = 6 ) [0m
  [4;36;1mSQL (4.0ms)[0m   [0;1mdescribe `expense_items_expense_tags`[0m
  [4;35;1mSQL (2.0ms)[0m   [0mINSERT INTO `expense_items_expense_tags` (`expense_tag_id`, `expense_item_id`) VALUES (5, 6)[0m
  [4;36;1mSQL (70.0ms)[0m   [0;1mCOMMIT[0m

ArgumentError (wrong number of arguments (0 for 2)):
  app/controllers/expense_items_controller.rb:67:in `expense_month_url'
  app/controllers/expense_items_controller.rb:67:in `update'
  app/controllers/expense_items_controller.rb:64:in `update'

Rendered rescues/_trace (52.0ms)
Rendered rescues/_request_and_response (0.0ms)
Rendering rescues/layout (internal_server_error)
  [4;35;1mSQL (1.0ms)[0m   [0mSET NAMES 'utf8'[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mSET SQL_AUTO_IS_NULL=0[0m


Processing ExpenseController#index (for 127.0.0.1 at 2010-05-02 14:59:54) [GET]
  [4;35;1mExpenseItem Load (1.0ms)[0m   [0mSELECT * FROM `expense_items` WHERE (date BETWEEN '2010-05-01' and '2010-05-31') [0m
Rendering template within layouts/expense
Rendering expense/index
  [4;36;1mExpenseItem Columns (9.0ms)[0m   [0;1mSHOW FIELDS FROM `expense_items`[0m
  [4;35;1mExpenseType Columns (32.0ms)[0m   [0mSHOW FIELDS FROM `expense_types`[0m
  [4;36;1mExpenseType Load (11.0ms)[0m   [0;1mSELECT * FROM `expense_types` WHERE (`expense_types`.`id` = 1) [0m
  [4;35;1mexpense_items_expense_tags Columns (3.0ms)[0m   [0mSHOW FIELDS FROM `expense_items_expense_tags`[0m
  [4;36;1mExpenseTag Load (2.0ms)[0m   [0;1mSELECT * FROM `expense_tags` INNER JOIN `expense_items_expense_tags` ON `expense_tags`.id = `expense_items_expense_tags`.expense_tag_id WHERE (`expense_items_expense_tags`.expense_item_id = 4 ) [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM `expense_types` WHERE (`expense_types`.`id` = 1) [0m
  [4;36;1mExpenseTag Load (1.0ms)[0m   [0;1mSELECT * FROM `expense_tags` INNER JOIN `expense_items_expense_tags` ON `expense_tags`.id = `expense_items_expense_tags`.expense_tag_id WHERE (`expense_items_expense_tags`.expense_item_id = 5 ) [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM `expense_types` WHERE (`expense_types`.`id` = 1) [0m
  [4;36;1mExpenseTag Load (0.0ms)[0m   [0;1mSELECT * FROM `expense_tags` INNER JOIN `expense_items_expense_tags` ON `expense_tags`.id = `expense_items_expense_tags`.expense_tag_id WHERE (`expense_items_expense_tags`.expense_item_id = 6 ) [0m
  [4;35;1mExpenseTag Columns (4.0ms)[0m   [0mSHOW FIELDS FROM `expense_tags`[0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT * FROM `expense_types` WHERE (`expense_types`.`id` = 1) [0m
  [4;35;1mExpenseTag Load (1.0ms)[0m   [0mSELECT * FROM `expense_tags` INNER JOIN `expense_items_expense_tags` ON `expense_tags`.id = `expense_items_expense_tags`.expense_tag_id WHERE (`expense_items_expense_tags`.expense_item_id = 7 ) [0m
  [4;36;1mExpenseType Load (0.0ms)[0m   [0;1mSELECT * FROM `expense_types` WHERE (`expense_types`.`id` = 2) [0m
  [4;35;1mExpenseTag Load (1.0ms)[0m   [0mSELECT * FROM `expense_tags` INNER JOIN `expense_items_expense_tags` ON `expense_tags`.id = `expense_items_expense_tags`.expense_tag_id WHERE (`expense_items_expense_tags`.expense_item_id = 8 ) [0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT * FROM `expense_types` WHERE (`expense_types`.`id` = 1) [0m
  [4;35;1mExpenseTag Load (0.0ms)[0m   [0mSELECT * FROM `expense_tags` INNER JOIN `expense_items_expense_tags` ON `expense_tags`.id = `expense_items_expense_tags`.expense_tag_id WHERE (`expense_items_expense_tags`.expense_item_id = 9 ) [0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT * FROM `expense_types` WHERE (`expense_types`.`id` = 2) [0m
  [4;35;1mExpenseTag Load (1.0ms)[0m   [0mSELECT * FROM `expense_tags` INNER JOIN `expense_items_expense_tags` ON `expense_tags`.id = `expense_items_expense_tags`.expense_tag_id WHERE (`expense_items_expense_tags`.expense_item_id = 10 ) [0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT * FROM `expense_types` WHERE (`expense_types`.`id` = 1) [0m
  [4;35;1mExpenseTag Load (0.0ms)[0m   [0mSELECT * FROM `expense_tags` INNER JOIN `expense_items_expense_tags` ON `expense_tags`.id = `expense_items_expense_tags`.expense_tag_id WHERE (`expense_items_expense_tags`.expense_item_id = 11 ) [0m
Completed in 387ms (View: 309, DB: 67) | 200 OK [http://localhost/expense]
  [4;36;1mSQL (0.0ms)[0m   [0;1mSET NAMES 'utf8'[0m
  [4;35;1mSQL (1.0ms)[0m   [0mSET SQL_AUTO_IS_NULL=0[0m


Processing ApplicationController#edit (for 127.0.0.1 at 2010-05-02 15:00:47) [GET]
  Parameters: {"id"=>"4"}

SyntaxError (d:/haipeng/ror/finance/app/controllers/expense_items_controller.rb:69: syntax error, unexpected ')', expecting '='
                        params[:expense_item][:"date(2i)"].to_i ) }
                                                                 ^):
  

Rendered rescues/_trace (44.0ms)
Rendered rescues/_request_and_response (1.0ms)
Rendering rescues/layout (internal_server_error)
  [4;36;1mSQL (0.0ms)[0m   [0;1mSET NAMES 'utf8'[0m
  [4;35;1mSQL (0.0ms)[0m   [0mSET SQL_AUTO_IS_NULL=0[0m


Processing ApplicationController#edit (for 127.0.0.1 at 2010-05-02 15:01:07) [GET]
  Parameters: {"id"=>"4"}

SyntaxError (d:/haipeng/ror/finance/app/controllers/expense_items_controller.rb:69: syntax error, unexpected ')', expecting '='
                        params[:expense_item][:"date(2i)"].to_i ) }
                                                                 ^
d:/haipeng/ror/finance/app/controllers/expense_items_controller.rb:71: syntax error, unexpected kELSE, expecting '}'
d:/haipeng/ror/finance/app/controllers/expense_items_controller.rb:75: syntax error, unexpected kEND, expecting '}'
d:/haipeng/ror/finance/app/controllers/expense_items_controller.rb:106: syntax error, unexpected kEND, expecting '}'):
  

Rendered rescues/_trace (150.0ms)
Rendered rescues/_request_and_response (0.0ms)
Rendering rescues/layout (internal_server_error)
  [4;36;1mSQL (1.0ms)[0m   [0;1mSET NAMES 'utf8'[0m
  [4;35;1mSQL (0.0ms)[0m   [0mSET SQL_AUTO_IS_NULL=0[0m


Processing ApplicationController#edit (for 127.0.0.1 at 2010-05-02 15:02:11) [GET]
  Parameters: {"id"=>"4"}

SyntaxError (d:/haipeng/ror/finance/app/controllers/expense_items_controller.rb:68: syntax error, unexpected ')', expecting '='
...year, @expense_item.date.mon ) }
                              ^
d:/haipeng/ror/finance/app/controllers/expense_items_controller.rb:70: syntax error, unexpected kELSE, expecting '}'
d:/haipeng/ror/finance/app/controllers/expense_items_controller.rb:74: syntax error, unexpected kEND, expecting '}'
d:/haipeng/ror/finance/app/controllers/expense_items_controller.rb:105: syntax error, unexpected kEND, expecting '}'):
  

Rendered rescues/_trace (44.0ms)
Rendered rescues/_request_and_response (0.0ms)
Rendering rescues/layout (internal_server_error)
  [4;36;1mSQL (1.0ms)[0m   [0;1mSET NAMES 'utf8'[0m
  [4;35;1mSQL (0.0ms)[0m   [0mSET SQL_AUTO_IS_NULL=0[0m


Processing ExpenseItemsController#edit (for 127.0.0.1 at 2010-05-02 15:02:41) [GET]
  Parameters: {"id"=>"4"}
  [4;36;1mExpenseItem Columns (5.0ms)[0m   [0;1mSHOW FIELDS FROM `expense_items`[0m
  [4;35;1mExpenseItem Load (5.0ms)[0m   [0mSELECT * FROM `expense_items` WHERE (`expense_items`.`id` = 4) [0m
  [4;36;1mExpenseType Load (1.0ms)[0m   [0;1mSELECT * FROM `expense_types` [0m
  [4;35;1mExpenseType Columns (4.0ms)[0m   [0mSHOW FIELDS FROM `expense_types`[0m
  [4;36;1mExpenseTag Load (0.0ms)[0m   [0;1mSELECT * FROM `expense_tags` [0m
Rendering template within layouts/expense_items
Rendering expense_items/edit
  [4;35;1mexpense_items_expense_tags Columns (3.0ms)[0m   [0mSHOW FIELDS FROM `expense_items_expense_tags`[0m
  [4;36;1mExpenseTag Load (3.0ms)[0m   [0;1mSELECT * FROM `expense_tags` INNER JOIN `expense_items_expense_tags` ON `expense_tags`.id = `expense_items_expense_tags`.expense_tag_id WHERE (`expense_items_expense_tags`.expense_item_id = 4 ) [0m
  [4;35;1mExpenseTag Columns (3.0ms)[0m   [0mSHOW FIELDS FROM `expense_tags`[0m
Completed in 71ms (View: 22, DB: 25) | 200 OK [http://localhost/expense_items/4/edit]
  [4;36;1mSQL (0.0ms)[0m   [0;1mSET NAMES 'utf8'[0m
  [4;35;1mSQL (0.0ms)[0m   [0mSET SQL_AUTO_IS_NULL=0[0m


Processing ExpenseItemsController#update (for 127.0.0.1 at 2010-05-02 15:02:59) [PUT]
  Parameters: {"commit"=>"Update", "authenticity_token"=>"Q0GaEkfPbau3bfyg7IUoDfgZt9A4uM8W/DMEbvS+Jlo=", "id"=>"4", "expense_item"=>{"date(1i)"=>"2010", "date(2i)"=>"5", "date(3i)"=>"2", "value"=>"10", "tag_names"=>"李博打车", "note"=>"每天都打车", "expense_type_id"=>"1"}}
  [4;36;1mExpenseItem Columns (7.0ms)[0m   [0;1mSHOW FIELDS FROM `expense_items`[0m
  [4;35;1mExpenseItem Load (7.0ms)[0m   [0mSELECT * FROM `expense_items` WHERE (`expense_items`.`id` = 4) [0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mBEGIN[0m
  [4;35;1mExpenseTag Columns (4.0ms)[0m   [0mSHOW FIELDS FROM `expense_tags`[0m
  [4;36;1mExpenseTag Load (32.0ms)[0m   [0;1mSELECT * FROM `expense_tags` WHERE (`expense_tags`.`name` = '李博打车') LIMIT 1[0m
  [4;35;1mexpense_items_expense_tags Columns (5.0ms)[0m   [0mSHOW FIELDS FROM `expense_items_expense_tags`[0m
  [4;36;1mExpenseTag Load (3.0ms)[0m   [0;1mSELECT * FROM `expense_tags` INNER JOIN `expense_items_expense_tags` ON `expense_tags`.id = `expense_items_expense_tags`.expense_tag_id WHERE (`expense_items_expense_tags`.expense_item_id = 4 ) [0m
  [4;35;1mSQL (3.0ms)[0m   [0mdescribe `expense_items_expense_tags`[0m
  [4;36;1mSQL (2.0ms)[0m   [0;1mINSERT INTO `expense_items_expense_tags` (`expense_tag_id`, `expense_item_id`) VALUES (3, 4)[0m
  [4;35;1mSQL (63.0ms)[0m   [0mCOMMIT[0m
Redirected to http://localhost:3000/expense/2010/5
Completed in 163ms (DB: 126) | 302 Found [http://localhost/expense_items/4]
  [4;36;1mSQL (0.0ms)[0m   [0;1mSET NAMES 'utf8'[0m
  [4;35;1mSQL (1.0ms)[0m   [0mSET SQL_AUTO_IS_NULL=0[0m


Processing ExpenseController#index (for 127.0.0.1 at 2010-05-02 15:03:00) [GET]
  Parameters: {"month"=>"5", "year"=>"2010"}
  [4;36;1mExpenseItem Load (2.0ms)[0m   [0;1mSELECT * FROM `expense_items` WHERE (date BETWEEN '2010-05-01' and '2010-05-31') [0m
Rendering template within layouts/expense
Rendering expense/index
  [4;35;1mExpenseItem Columns (62.0ms)[0m   [0mSHOW FIELDS FROM `expense_items`[0m
  [4;36;1mExpenseType Columns (3.0ms)[0m   [0;1mSHOW FIELDS FROM `expense_types`[0m
  [4;35;1mExpenseType Load (6.0ms)[0m   [0mSELECT * FROM `expense_types` WHERE (`expense_types`.`id` = 1) [0m
  [4;36;1mexpense_items_expense_tags Columns (4.0ms)[0m   [0;1mSHOW FIELDS FROM `expense_items_expense_tags`[0m
  [4;35;1mExpenseTag Load (2.0ms)[0m   [0mSELECT * FROM `expense_tags` INNER JOIN `expense_items_expense_tags` ON `expense_tags`.id = `expense_items_expense_tags`.expense_tag_id WHERE (`expense_items_expense_tags`.expense_item_id = 4 ) [0m
  [4;36;1mExpenseTag Columns (4.0ms)[0m   [0;1mSHOW FIELDS FROM `expense_tags`[0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM `expense_types` WHERE (`expense_types`.`id` = 1) [0m
  [4;36;1mExpenseTag Load (1.0ms)[0m   [0;1mSELECT * FROM `expense_tags` INNER JOIN `expense_items_expense_tags` ON `expense_tags`.id = `expense_items_expense_tags`.expense_tag_id WHERE (`expense_items_expense_tags`.expense_item_id = 5 ) [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM `expense_types` WHERE (`expense_types`.`id` = 1) [0m
  [4;36;1mExpenseTag Load (0.0ms)[0m   [0;1mSELECT * FROM `expense_tags` INNER JOIN `expense_items_expense_tags` ON `expense_tags`.id = `expense_items_expense_tags`.expense_tag_id WHERE (`expense_items_expense_tags`.expense_item_id = 6 ) [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM `expense_types` WHERE (`expense_types`.`id` = 1) [0m
  [4;36;1mExpenseTag Load (1.0ms)[0m   [0;1mSELECT * FROM `expense_tags` INNER JOIN `expense_items_expense_tags` ON `expense_tags`.id = `expense_items_expense_tags`.expense_tag_id WHERE (`expense_items_expense_tags`.expense_item_id = 7 ) [0m
  [4;35;1mExpenseType Load (0.0ms)[0m   [0mSELECT * FROM `expense_types` WHERE (`expense_types`.`id` = 2) [0m
  [4;36;1mExpenseTag Load (1.0ms)[0m   [0;1mSELECT * FROM `expense_tags` INNER JOIN `expense_items_expense_tags` ON `expense_tags`.id = `expense_items_expense_tags`.expense_tag_id WHERE (`expense_items_expense_tags`.expense_item_id = 8 ) [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM `expense_types` WHERE (`expense_types`.`id` = 1) [0m
  [4;36;1mExpenseTag Load (21.0ms)[0m   [0;1mSELECT * FROM `expense_tags` INNER JOIN `expense_items_expense_tags` ON `expense_tags`.id = `expense_items_expense_tags`.expense_tag_id WHERE (`expense_items_expense_tags`.expense_item_id = 9 ) [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM `expense_types` WHERE (`expense_types`.`id` = 2) [0m
  [4;36;1mExpenseTag Load (1.0ms)[0m   [0;1mSELECT * FROM `expense_tags` INNER JOIN `expense_items_expense_tags` ON `expense_tags`.id = `expense_items_expense_tags`.expense_tag_id WHERE (`expense_items_expense_tags`.expense_item_id = 10 ) [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM `expense_types` WHERE (`expense_types`.`id` = 1) [0m
  [4;36;1mExpenseTag Load (0.0ms)[0m   [0;1mSELECT * FROM `expense_tags` INNER JOIN `expense_items_expense_tags` ON `expense_tags`.id = `expense_items_expense_tags`.expense_tag_id WHERE (`expense_items_expense_tags`.expense_item_id = 11 ) [0m
Completed in 236ms (View: 116, DB: 109) | 200 OK [http://localhost/expense/2010/5]
  [4;35;1mSQL (0.0ms)[0m   [0mSET NAMES 'utf8'[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mSET SQL_AUTO_IS_NULL=0[0m


Processing ExpenseTypesController#new (for 127.0.0.1 at 2010-05-02 15:03:14) [GET]
  [4;35;1mExpenseType Columns (4.0ms)[0m   [0mSHOW FIELDS FROM `expense_types`[0m
Rendering template within layouts/expense_types
Rendering expense_types/new
Completed in 21ms (View: 7, DB: 4) | 200 OK [http://localhost/expense_types/new]
  [4;36;1mSQL (0.0ms)[0m   [0;1mSET NAMES 'utf8'[0m
  [4;35;1mSQL (0.0ms)[0m   [0mSET SQL_AUTO_IS_NULL=0[0m


Processing ExpenseItemsController#new (for 127.0.0.1 at 2010-05-02 15:03:22) [GET]
  [4;36;1mExpenseItem Columns (7.0ms)[0m   [0;1mSHOW FIELDS FROM `expense_items`[0m
  [4;35;1mExpenseType Load (7.0ms)[0m   [0mSELECT * FROM `expense_types` [0m
  [4;36;1mExpenseType Columns (4.0ms)[0m   [0;1mSHOW FIELDS FROM `expense_types`[0m
  [4;35;1mExpenseTag Load (8.0ms)[0m   [0mSELECT * FROM `expense_tags` [0m
Rendering template within layouts/expense_items
Rendering expense_items/new
  [4;36;1mExpenseTag Columns (4.0ms)[0m   [0;1mSHOW FIELDS FROM `expense_tags`[0m
Completed in 86ms (View: 30, DB: 30) | 200 OK [http://localhost/expense_items/new]
  [4;35;1mSQL (0.0ms)[0m   [0mSET NAMES 'utf8'[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mSET SQL_AUTO_IS_NULL=0[0m


Processing ExpenseController#batch_new (for 127.0.0.1 at 2010-05-02 15:03:38) [GET]
  [4;35;1mExpenseType Load (0.0ms)[0m   [0mSELECT * FROM `expense_types` [0m
  [4;36;1mExpenseType Columns (4.0ms)[0m   [0;1mSHOW FIELDS FROM `expense_types`[0m
Rendering template within layouts/expense
Rendering expense/batch_new
Completed in 34ms (View: 19, DB: 4) | 200 OK [http://localhost/expense/batch_new]
  [4;35;1mSQL (0.0ms)[0m   [0mSET NAMES 'utf8'[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mSET SQL_AUTO_IS_NULL=0[0m


Processing ExpenseController#index (for 127.0.0.1 at 2010-05-02 15:04:20) [GET]
  Parameters: {"month"=>"5", "year"=>"2010"}
  [4;35;1mExpenseItem Load (0.0ms)[0m   [0mSELECT * FROM `expense_items` WHERE (date BETWEEN '2010-05-01' and '2010-05-31') [0m
Rendering template within layouts/expense
Rendering expense/index
  [4;36;1mExpenseItem Columns (6.0ms)[0m   [0;1mSHOW FIELDS FROM `expense_items`[0m
  [4;35;1mExpenseType Columns (3.0ms)[0m   [0mSHOW FIELDS FROM `expense_types`[0m
  [4;36;1mExpenseType Load (5.0ms)[0m   [0;1mSELECT * FROM `expense_types` WHERE (`expense_types`.`id` = 1) [0m
  [4;35;1mexpense_items_expense_tags Columns (4.0ms)[0m   [0mSHOW FIELDS FROM `expense_items_expense_tags`[0m
  [4;36;1mExpenseTag Load (3.0ms)[0m   [0;1mSELECT * FROM `expense_tags` INNER JOIN `expense_items_expense_tags` ON `expense_tags`.id = `expense_items_expense_tags`.expense_tag_id WHERE (`expense_items_expense_tags`.expense_item_id = 4 ) [0m
  [4;35;1mExpenseTag Columns (4.0ms)[0m   [0mSHOW FIELDS FROM `expense_tags`[0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT * FROM `expense_types` WHERE (`expense_types`.`id` = 1) [0m
  [4;35;1mExpenseTag Load (0.0ms)[0m   [0mSELECT * FROM `expense_tags` INNER JOIN `expense_items_expense_tags` ON `expense_tags`.id = `expense_items_expense_tags`.expense_tag_id WHERE (`expense_items_expense_tags`.expense_item_id = 5 ) [0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT * FROM `expense_types` WHERE (`expense_types`.`id` = 1) [0m
  [4;35;1mExpenseTag Load (0.0ms)[0m   [0mSELECT * FROM `expense_tags` INNER JOIN `expense_items_expense_tags` ON `expense_tags`.id = `expense_items_expense_tags`.expense_tag_id WHERE (`expense_items_expense_tags`.expense_item_id = 6 ) [0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT * FROM `expense_types` WHERE (`expense_types`.`id` = 1) [0m
  [4;35;1mExpenseTag Load (1.0ms)[0m   [0mSELECT * FROM `expense_tags` INNER JOIN `expense_items_expense_tags` ON `expense_tags`.id = `expense_items_expense_tags`.expense_tag_id WHERE (`expense_items_expense_tags`.expense_item_id = 7 ) [0m
  [4;36;1mExpenseType Load (0.0ms)[0m   [0;1mSELECT * FROM `expense_types` WHERE (`expense_types`.`id` = 2) [0m
  [4;35;1mExpenseTag Load (1.0ms)[0m   [0mSELECT * FROM `expense_tags` INNER JOIN `expense_items_expense_tags` ON `expense_tags`.id = `expense_items_expense_tags`.expense_tag_id WHERE (`expense_items_expense_tags`.expense_item_id = 8 ) [0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT * FROM `expense_types` WHERE (`expense_types`.`id` = 1) [0m
  [4;35;1mExpenseTag Load (1.0ms)[0m   [0mSELECT * FROM `expense_tags` INNER JOIN `expense_items_expense_tags` ON `expense_tags`.id = `expense_items_expense_tags`.expense_tag_id WHERE (`expense_items_expense_tags`.expense_item_id = 9 ) [0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT * FROM `expense_types` WHERE (`expense_types`.`id` = 2) [0m
  [4;35;1mExpenseTag Load (1.0ms)[0m   [0mSELECT * FROM `expense_tags` INNER JOIN `expense_items_expense_tags` ON `expense_tags`.id = `expense_items_expense_tags`.expense_tag_id WHERE (`expense_items_expense_tags`.expense_item_id = 10 ) [0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT * FROM `expense_types` WHERE (`expense_types`.`id` = 1) [0m
  [4;35;1mExpenseTag Load (1.0ms)[0m   [0mSELECT * FROM `expense_tags` INNER JOIN `expense_items_expense_tags` ON `expense_tags`.id = `expense_items_expense_tags`.expense_tag_id WHERE (`expense_items_expense_tags`.expense_item_id = 11 ) [0m
Completed in 156ms (View: 115, DB: 30) | 200 OK [http://localhost/expense/2010/5]
  [4;36;1mSQL (0.0ms)[0m   [0;1mSET NAMES 'utf8'[0m
  [4;35;1mSQL (0.0ms)[0m   [0mSET SQL_AUTO_IS_NULL=0[0m


Processing ExpenseItemsController#edit (for 127.0.0.1 at 2010-05-02 15:04:24) [GET]
  Parameters: {"id"=>"5"}
  [4;36;1mExpenseItem Columns (30.0ms)[0m   [0;1mSHOW FIELDS FROM `expense_items`[0m
  [4;35;1mExpenseItem Load (5.0ms)[0m   [0mSELECT * FROM `expense_items` WHERE (`expense_items`.`id` = 5) [0m
  [4;36;1mExpenseType Load (1.0ms)[0m   [0;1mSELECT * FROM `expense_types` [0m
  [4;35;1mExpenseType Columns (4.0ms)[0m   [0mSHOW FIELDS FROM `expense_types`[0m
  [4;36;1mExpenseTag Load (2.0ms)[0m   [0;1mSELECT * FROM `expense_tags` [0m
Rendering template within layouts/expense_items
Rendering expense_items/edit
  [4;35;1mexpense_items_expense_tags Columns (5.0ms)[0m   [0mSHOW FIELDS FROM `expense_items_expense_tags`[0m
  [4;36;1mExpenseTag Load (4.0ms)[0m   [0;1mSELECT * FROM `expense_tags` INNER JOIN `expense_items_expense_tags` ON `expense_tags`.id = `expense_items_expense_tags`.expense_tag_id WHERE (`expense_items_expense_tags`.expense_item_id = 5 ) [0m
  [4;35;1mExpenseTag Columns (3.0ms)[0m   [0mSHOW FIELDS FROM `expense_tags`[0m
Completed in 108ms (View: 23, DB: 54) | 200 OK [http://localhost/expense_items/5/edit]
  [4;36;1mSQL (0.0ms)[0m   [0;1mSET NAMES 'utf8'[0m
  [4;35;1mSQL (0.0ms)[0m   [0mSET SQL_AUTO_IS_NULL=0[0m


Processing ExpenseItemsController#edit (for 127.0.0.1 at 2010-05-02 15:05:26) [GET]
  Parameters: {"id"=>"5"}
  [4;36;1mExpenseItem Columns (5.0ms)[0m   [0;1mSHOW FIELDS FROM `expense_items`[0m
  [4;35;1mExpenseItem Load (5.0ms)[0m   [0mSELECT * FROM `expense_items` WHERE (`expense_items`.`id` = 5) [0m
  [4;36;1mExpenseType Load (0.0ms)[0m   [0;1mSELECT * FROM `expense_types` [0m
  [4;35;1mExpenseType Columns (4.0ms)[0m   [0mSHOW FIELDS FROM `expense_types`[0m
  [4;36;1mExpenseTag Load (9.0ms)[0m   [0;1mSELECT * FROM `expense_tags` [0m
Rendering template within layouts/expense_items
Rendering expense_items/edit
ERROR: compiling _run_erb_app47views47expense_items47edit46html46erb RAISED compile error
d:/haipeng/ror/finance/app/views/expense_items/edit.html.erb:38: syntax error, unexpected tIVAR, expecting kDO or '{' or '('
...Back', expense_month_url @year, @month ).to_s); @output_buff...
                              ^
d:/haipeng/ror/finance/app/views/expense_items/edit.html.erb:38: syntax error, unexpected ')', expecting '='
...ense_month_url @year, @month ).to_s); @output_buffer.concat ...
                              ^
Function body:           def _run_erb_app47views47expense_items47edit46html46erb(local_assigns)
            old_output_buffer = output_buffer;;@output_buffer = '';  __in_erb_template=true ; @output_buffer.concat "<h1>Editing expense_item</h1>\n"
@output_buffer.concat "\n"
 form_for(@expense_item) do |f| ; @output_buffer.concat "\n"
@output_buffer.concat "  "; @output_buffer.concat(( f.error_messages ).to_s); @output_buffer.concat "\n"
@output_buffer.concat "\n"
@output_buffer.concat "  <p>\n"
@output_buffer.concat "    "; @output_buffer.concat(( f.label :date, '日期' ).to_s); @output_buffer.concat "<br />\n"
@output_buffer.concat "    "; @output_buffer.concat(( f.date_select :date ).to_s); @output_buffer.concat "\n"
@output_buffer.concat "  </p>\n"
@output_buffer.concat "  <p>\n"
@output_buffer.concat "    "; @output_buffer.concat(( f.label :expense_type_id, '类型' ).to_s); @output_buffer.concat "<br />\n"
@output_buffer.concat "    "; @output_buffer.concat(( f.select :expense_type_id, @expense_types ).to_s); @output_buffer.concat "\n"
@output_buffer.concat "  </p>\n"
@output_buffer.concat "  <p>\n"
@output_buffer.concat "    "; @output_buffer.concat(( f.label :value, '金额' ).to_s); @output_buffer.concat "<br />\n"
@output_buffer.concat "    "; @output_buffer.concat(( f.text_field :value ).to_s); @output_buffer.concat "\n"
@output_buffer.concat "  </p>\n"
@output_buffer.concat "  <p>\n"
@output_buffer.concat "    "; @output_buffer.concat(( f.label :note, '备注' ).to_s); @output_buffer.concat "<br />\n"
@output_buffer.concat "    "; @output_buffer.concat(( f.text_area :note ).to_s); @output_buffer.concat "\n"
@output_buffer.concat "  </p>\n"
@output_buffer.concat "  <p>\n"
@output_buffer.concat "    <fieldset>\n"
@output_buffer.concat "      <legend>\346\240\207\347\255\276\357\274\210\347\251\272\346\240\274\345\210\206\351\232\224\357\274\211</legend>\n"
@output_buffer.concat "        "; @output_buffer.concat(( f.text_field :tag_names ).to_s); @output_buffer.concat "\n"
@output_buffer.concat "      <br/>\n"
@output_buffer.concat "      ";  @expense_tags.each do |tag| ; @output_buffer.concat "\n"
@output_buffer.concat "        "; @output_buffer.concat(( tag.name ).to_s); @output_buffer.concat "\n"
@output_buffer.concat "      ";  end ; @output_buffer.concat "\n"
@output_buffer.concat "    </fieldset>\n"
@output_buffer.concat "  </p>\n"
@output_buffer.concat "  <p>\n"
@output_buffer.concat "    "; @output_buffer.concat(( f.submit 'Update' ).to_s); @output_buffer.concat "\n"
@output_buffer.concat "  </p>\n"
 end ; @output_buffer.concat "\n"
@output_buffer.concat "\n"
@output_buffer.concat(( link_to 'Show', @expense_item ).to_s); @output_buffer.concat " |\n"
@output_buffer.concat(( link_to 'Back', expense_month_url @year, @month ).to_s); @output_buffer.concat "\n"
@output_buffer
          ensure
            self.output_buffer = old_output_buffer
          end
Backtrace: d:/haipeng/ror/finance/app/views/expense_items/edit.html.erb:42:in `compile!'
d:/Ruby/lib/ruby/gems/1.8/gems/actionpack-2.3.5/lib/action_view/renderable.rb:61:in `compile'
d:/Ruby/lib/ruby/gems/1.8/gems/actionpack-2.3.5/lib/action_view/renderable.rb:28:in `render'
d:/Ruby/lib/ruby/gems/1.8/gems/actionpack-2.3.5/lib/action_view/template.rb:205:in `render_template'
d:/Ruby/lib/ruby/gems/1.8/gems/actionpack-2.3.5/lib/action_view/base.rb:265:in `render'
d:/Ruby/lib/ruby/gems/1.8/gems/actionpack-2.3.5/lib/action_view/base.rb:348:in `_render_with_layout'
d:/Ruby/lib/ruby/gems/1.8/gems/actionpack-2.3.5/lib/action_view/base.rb:262:in `render'
d:/Ruby/lib/ruby/gems/1.8/gems/actionpack-2.3.5/lib/action_controller/base.rb:1250:in `render_for_file'
d:/Ruby/lib/ruby/gems/1.8/gems/actionpack-2.3.5/lib/action_controller/base.rb:945:in `render_without_benchmark'
d:/Ruby/lib/ruby/gems/1.8/gems/actionpack-2.3.5/lib/action_controller/benchmarking.rb:51:in `render'
d:/Ruby/lib/ruby/gems/1.8/gems/activesupport-2.3.5/lib/active_support/core_ext/benchmark.rb:17:in `ms'
d:/Ruby/lib/ruby/gems/1.8/gems/activesupport-2.3.5/lib/active_support/core_ext/benchmark.rb:10:in `realtime'
d:/Ruby/lib/ruby/gems/1.8/gems/activesupport-2.3.5/lib/active_support/core_ext/benchmark.rb:17:in `ms'
d:/Ruby/lib/ruby/gems/1.8/gems/actionpack-2.3.5/lib/action_controller/benchmarking.rb:51:in `render'
d:/Ruby/lib/ruby/gems/1.8/gems/actionpack-2.3.5/lib/action_controller/base.rb:1326:in `default_render'
d:/Ruby/lib/ruby/gems/1.8/gems/actionpack-2.3.5/lib/action_controller/base.rb:1332:in `perform_action_without_filters'
d:/Ruby/lib/ruby/gems/1.8/gems/actionpack-2.3.5/lib/action_controller/filters.rb:617:in `call_filters'
d:/Ruby/lib/ruby/gems/1.8/gems/actionpack-2.3.5/lib/action_controller/filters.rb:610:in `perform_action_without_benchmark'
d:/Ruby/lib/ruby/gems/1.8/gems/actionpack-2.3.5/lib/action_controller/benchmarking.rb:68:in `perform_action_without_rescue'
d:/Ruby/lib/ruby/gems/1.8/gems/activesupport-2.3.5/lib/active_support/core_ext/benchmark.rb:17:in `ms'
d:/Ruby/lib/ruby/gems/1.8/gems/activesupport-2.3.5/lib/active_support/core_ext/benchmark.rb:10:in `realtime'
d:/Ruby/lib/ruby/gems/1.8/gems/activesupport-2.3.5/lib/active_support/core_ext/benchmark.rb:17:in `ms'
d:/Ruby/lib/ruby/gems/1.8/gems/actionpack-2.3.5/lib/action_controller/benchmarking.rb:68:in `perform_action_without_rescue'
d:/Ruby/lib/ruby/gems/1.8/gems/actionpack-2.3.5/lib/action_controller/rescue.rb:160:in `perform_action_without_flash'
d:/Ruby/lib/ruby/gems/1.8/gems/actionpack-2.3.5/lib/action_controller/flash.rb:146:in `perform_action'
d:/Ruby/lib/ruby/gems/1.8/gems/actionpack-2.3.5/lib/action_controller/base.rb:532:in `send'
d:/Ruby/lib/ruby/gems/1.8/gems/actionpack-2.3.5/lib/action_controller/base.rb:532:in `process_without_filters'
d:/Ruby/lib/ruby/gems/1.8/gems/actionpack-2.3.5/lib/action_controller/filters.rb:606:in `process'
d:/Ruby/lib/ruby/gems/1.8/gems/actionpack-2.3.5/lib/action_controller/base.rb:391:in `process'
d:/Ruby/lib/ruby/gems/1.8/gems/actionpack-2.3.5/lib/action_controller/base.rb:386:in `call'
d:/Ruby/lib/ruby/gems/1.8/gems/actionpack-2.3.5/lib/action_controller/routing/route_set.rb:437:in `call'
d:/Ruby/lib/ruby/gems/1.8/gems/actionpack-2.3.5/lib/action_controller/dispatcher.rb:87:in `dispatch'
d:/Ruby/lib/ruby/gems/1.8/gems/actionpack-2.3.5/lib/action_controller/dispatcher.rb:121:in `_call'
d:/Ruby/lib/ruby/gems/1.8/gems/actionpack-2.3.5/lib/action_controller/dispatcher.rb:130:in `build_middleware_stack'
d:/Ruby/lib/ruby/gems/1.8/gems/activerecord-2.3.5/lib/active_record/query_cache.rb:29:in `call'
d:/Ruby/lib/ruby/gems/1.8/gems/activerecord-2.3.5/lib/active_record/query_cache.rb:29:in `call'
d:/Ruby/lib/ruby/gems/1.8/gems/activerecord-2.3.5/lib/active_record/connection_adapters/abstract/query_cache.rb:34:in `cache'
d:/Ruby/lib/ruby/gems/1.8/gems/activerecord-2.3.5/lib/active_record/query_cache.rb:9:in `cache'
d:/Ruby/lib/ruby/gems/1.8/gems/activerecord-2.3.5/lib/active_record/query_cache.rb:28:in `call'
d:/Ruby/lib/ruby/gems/1.8/gems/activerecord-2.3.5/lib/active_record/connection_adapters/abstract/connection_pool.rb:361:in `call'
d:/Ruby/lib/ruby/gems/1.8/gems/actionpack-2.3.5/lib/action_controller/string_coercion.rb:25:in `call'
d:/Ruby/lib/ruby/gems/1.8/gems/rack-1.0.1/lib/rack/head.rb:9:in `call'
d:/Ruby/lib/ruby/gems/1.8/gems/rack-1.0.1/lib/rack/methodoverride.rb:24:in `call'
d:/Ruby/lib/ruby/gems/1.8/gems/actionpack-2.3.5/lib/action_controller/params_parser.rb:15:in `call'
d:/Ruby/lib/ruby/gems/1.8/gems/actionpack-2.3.5/lib/action_controller/session/cookie_store.rb:93:in `call'
d:/Ruby/lib/ruby/gems/1.8/gems/actionpack-2.3.5/lib/action_controller/failsafe.rb:26:in `call'
d:/Ruby/lib/ruby/gems/1.8/gems/rack-1.0.1/lib/rack/lock.rb:11:in `call'
d:/Ruby/lib/ruby/gems/1.8/gems/rack-1.0.1/lib/rack/lock.rb:11:in `synchronize'
d:/Ruby/lib/ruby/gems/1.8/gems/rack-1.0.1/lib/rack/lock.rb:11:in `call'
d:/Ruby/lib/ruby/gems/1.8/gems/actionpack-2.3.5/lib/action_controller/dispatcher.rb:114:in `call'
d:/Ruby/lib/ruby/gems/1.8/gems/actionpack-2.3.5/lib/action_controller/reloader.rb:34:in `run'
d:/Ruby/lib/ruby/gems/1.8/gems/actionpack-2.3.5/lib/action_controller/dispatcher.rb:108:in `call'
d:/Ruby/lib/ruby/gems/1.8/gems/rails-2.3.5/lib/rails/rack/static.rb:31:in `call'
d:/Ruby/lib/ruby/gems/1.8/gems/rack-1.0.1/lib/rack/urlmap.rb:46:in `call'
d:/Ruby/lib/ruby/gems/1.8/gems/rack-1.0.1/lib/rack/urlmap.rb:40:in `each'
d:/Ruby/lib/ruby/gems/1.8/gems/rack-1.0.1/lib/rack/urlmap.rb:40:in `call'
d:/Ruby/lib/ruby/gems/1.8/gems/rails-2.3.5/lib/rails/rack/log_tailer.rb:17:in `call'
d:/Ruby/lib/ruby/gems/1.8/gems/rack-1.0.1/lib/rack/content_length.rb:13:in `call'
d:/Ruby/lib/ruby/gems/1.8/gems/rack-1.0.1/lib/rack/chunked.rb:15:in `call'
d:/Ruby/lib/ruby/gems/1.8/gems/rack-1.0.1/lib/rack/handler/mongrel.rb:64:in `process'
d:/Ruby/lib/ruby/gems/1.8/gems/mongrel-1.1.5-x86-mswin32-60/lib/mongrel.rb:159:in `process_client'
d:/Ruby/lib/ruby/gems/1.8/gems/mongrel-1.1.5-x86-mswin32-60/lib/mongrel.rb:158:in `each'
d:/Ruby/lib/ruby/gems/1.8/gems/mongrel-1.1.5-x86-mswin32-60/lib/mongrel.rb:158:in `process_client'
d:/Ruby/lib/ruby/gems/1.8/gems/mongrel-1.1.5-x86-mswin32-60/lib/mongrel.rb:285:in `run'
d:/Ruby/lib/ruby/gems/1.8/gems/mongrel-1.1.5-x86-mswin32-60/lib/mongrel.rb:285:in `initialize'
d:/Ruby/lib/ruby/gems/1.8/gems/mongrel-1.1.5-x86-mswin32-60/lib/mongrel.rb:285:in `new'
d:/Ruby/lib/ruby/gems/1.8/gems/mongrel-1.1.5-x86-mswin32-60/lib/mongrel.rb:285:in `run'
d:/Ruby/lib/ruby/gems/1.8/gems/mongrel-1.1.5-x86-mswin32-60/lib/mongrel.rb:268:in `initialize'
d:/Ruby/lib/ruby/gems/1.8/gems/mongrel-1.1.5-x86-mswin32-60/lib/mongrel.rb:268:in `new'
d:/Ruby/lib/ruby/gems/1.8/gems/mongrel-1.1.5-x86-mswin32-60/lib/mongrel.rb:268:in `run'
d:/Ruby/lib/ruby/gems/1.8/gems/rack-1.0.1/lib/rack/handler/mongrel.rb:34:in `run'
d:/Ruby/lib/ruby/gems/1.8/gems/rails-2.3.5/lib/commands/server.rb:111
d:/Ruby/lib/ruby/site_ruby/1.8/rubygems/custom_require.rb:31:in `gem_original_require'
d:/Ruby/lib/ruby/site_ruby/1.8/rubygems/custom_require.rb:31:in `require'
script/server:3

ActionView::TemplateError (compile error
d:/haipeng/ror/finance/app/views/expense_items/edit.html.erb:38: syntax error, unexpected tIVAR, expecting kDO or '{' or '('
...Back', expense_month_url @year, @month ).to_s); @output_buff...
                              ^
d:/haipeng/ror/finance/app/views/expense_items/edit.html.erb:38: syntax error, unexpected ')', expecting '='
...ense_month_url @year, @month ).to_s); @output_buffer.concat ...
                              ^) on line #38 of app/views/expense_items/edit.html.erb:
35: <% end %>
36: 
37: <%= link_to 'Show', @expense_item %> |
38: <%= link_to 'Back', expense_month_url @year, @month %>

    app/views/expense_items/edit.html.erb:42:in `compile!'

Rendered rescues/_trace (118.0ms)
Rendered rescues/_request_and_response (1.0ms)
Rendering rescues/layout (internal_server_error)
  [4;35;1mSQL (0.0ms)[0m   [0mSET NAMES 'utf8'[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mSET SQL_AUTO_IS_NULL=0[0m


Processing ExpenseItemsController#edit (for 127.0.0.1 at 2010-05-02 15:05:41) [GET]
  Parameters: {"id"=>"5"}
  [4;35;1mExpenseItem Columns (6.0ms)[0m   [0mSHOW FIELDS FROM `expense_items`[0m
  [4;36;1mExpenseItem Load (6.0ms)[0m   [0;1mSELECT * FROM `expense_items` WHERE (`expense_items`.`id` = 5) [0m
  [4;35;1mExpenseType Load (2.0ms)[0m   [0mSELECT * FROM `expense_types` [0m
  [4;36;1mExpenseType Columns (3.0ms)[0m   [0;1mSHOW FIELDS FROM `expense_types`[0m
  [4;35;1mExpenseTag Load (5.0ms)[0m   [0mSELECT * FROM `expense_tags` [0m
Rendering template within layouts/expense_items
Rendering expense_items/edit
  [4;36;1mexpense_items_expense_tags Columns (6.0ms)[0m   [0;1mSHOW FIELDS FROM `expense_items_expense_tags`[0m
  [4;35;1mExpenseTag Load (4.0ms)[0m   [0mSELECT * FROM `expense_tags` INNER JOIN `expense_items_expense_tags` ON `expense_tags`.id = `expense_items_expense_tags`.expense_tag_id WHERE (`expense_items_expense_tags`.expense_item_id = 5 ) [0m
  [4;36;1mExpenseTag Columns (3.0ms)[0m   [0;1mSHOW FIELDS FROM `expense_tags`[0m

ActionView::TemplateError (expense_month_url failed to generate from {:month=>nil, :year=>nil, :action=>"index", :controller=>"expense"}, expected: {:action=>"index", :controller=>"expense"}, diff: {:month=>nil, :year=>nil}) on line #38 of app/views/expense_items/edit.html.erb:
35: <% end %>
36: 
37: <%= link_to 'Show', @expense_item %> |
38: <%= link_to 'Back', expense_month_url(@year, @month) %>

    (eval):16:in `expense_month_url'
    app/views/expense_items/edit.html.erb:38

Rendered rescues/_trace (97.0ms)
Rendered rescues/_request_and_response (1.0ms)
Rendering rescues/layout (internal_server_error)
  [4;35;1mSQL (1.0ms)[0m   [0mSET NAMES 'utf8'[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mSET SQL_AUTO_IS_NULL=0[0m


Processing ExpenseItemsController#edit (for 127.0.0.1 at 2010-05-02 15:07:15) [GET]
  Parameters: {"id"=>"5"}
  [4;35;1mExpenseItem Columns (4.0ms)[0m   [0mSHOW FIELDS FROM `expense_items`[0m
  [4;36;1mExpenseItem Load (6.0ms)[0m   [0;1mSELECT * FROM `expense_items` WHERE (`expense_items`.`id` = 5) [0m
  [4;35;1mExpenseType Load (1.0ms)[0m   [0mSELECT * FROM `expense_types` [0m
  [4;36;1mExpenseType Columns (4.0ms)[0m   [0;1mSHOW FIELDS FROM `expense_types`[0m
  [4;35;1mExpenseTag Load (1.0ms)[0m   [0mSELECT * FROM `expense_tags` [0m
Rendering template within layouts/expense_items
Rendering expense_items/edit
  [4;36;1mexpense_items_expense_tags Columns (3.0ms)[0m   [0;1mSHOW FIELDS FROM `expense_items_expense_tags`[0m
  [4;35;1mExpenseTag Load (3.0ms)[0m   [0mSELECT * FROM `expense_tags` INNER JOIN `expense_items_expense_tags` ON `expense_tags`.id = `expense_items_expense_tags`.expense_tag_id WHERE (`expense_items_expense_tags`.expense_item_id = 5 ) [0m
  [4;36;1mExpenseTag Columns (3.0ms)[0m   [0;1mSHOW FIELDS FROM `expense_tags`[0m

ActionView::TemplateError (expense_month_url failed to generate from {:month=>nil, :year=>nil, :action=>"index", :controller=>"expense"}, expected: {:action=>"index", :controller=>"expense"}, diff: {:month=>nil, :year=>nil}) on line #38 of app/views/expense_items/edit.html.erb:
35: <% end %>
36: 
37: <%= link_to 'Show', @expense_item %> |
38: <%= link_to 'Back', expense_month_url(@year, @month) %>

    (eval):16:in `expense_month_url'
    app/views/expense_items/edit.html.erb:38

Rendered rescues/_trace (129.0ms)
Rendered rescues/_request_and_response (0.0ms)
Rendering rescues/layout (internal_server_error)
  [4;35;1mSQL (0.0ms)[0m   [0mSET NAMES 'utf8'[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mSET SQL_AUTO_IS_NULL=0[0m


Processing ExpenseController#index (for 127.0.0.1 at 2010-05-02 15:07:25) [GET]
  Parameters: {"month"=>"5", "year"=>"2010"}
  [4;35;1mExpenseItem Load (1.0ms)[0m   [0mSELECT * FROM `expense_items` WHERE (date BETWEEN '2010-05-01' and '2010-05-31') [0m
Rendering template within layouts/expense
Rendering expense/index
  [4;36;1mExpenseItem Columns (4.0ms)[0m   [0;1mSHOW FIELDS FROM `expense_items`[0m
  [4;35;1mExpenseType Columns (3.0ms)[0m   [0mSHOW FIELDS FROM `expense_types`[0m
  [4;36;1mExpenseType Load (6.0ms)[0m   [0;1mSELECT * FROM `expense_types` WHERE (`expense_types`.`id` = 1) [0m
  [4;35;1mexpense_items_expense_tags Columns (3.0ms)[0m   [0mSHOW FIELDS FROM `expense_items_expense_tags`[0m
  [4;36;1mExpenseTag Load (3.0ms)[0m   [0;1mSELECT * FROM `expense_tags` INNER JOIN `expense_items_expense_tags` ON `expense_tags`.id = `expense_items_expense_tags`.expense_tag_id WHERE (`expense_items_expense_tags`.expense_item_id = 4 ) [0m
  [4;35;1mExpenseTag Columns (3.0ms)[0m   [0mSHOW FIELDS FROM `expense_tags`[0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT * FROM `expense_types` WHERE (`expense_types`.`id` = 1) [0m
  [4;35;1mExpenseTag Load (1.0ms)[0m   [0mSELECT * FROM `expense_tags` INNER JOIN `expense_items_expense_tags` ON `expense_tags`.id = `expense_items_expense_tags`.expense_tag_id WHERE (`expense_items_expense_tags`.expense_item_id = 5 ) [0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT * FROM `expense_types` WHERE (`expense_types`.`id` = 1) [0m
  [4;35;1mExpenseTag Load (1.0ms)[0m   [0mSELECT * FROM `expense_tags` INNER JOIN `expense_items_expense_tags` ON `expense_tags`.id = `expense_items_expense_tags`.expense_tag_id WHERE (`expense_items_expense_tags`.expense_item_id = 6 ) [0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT * FROM `expense_types` WHERE (`expense_types`.`id` = 1) [0m
  [4;35;1mExpenseTag Load (0.0ms)[0m   [0mSELECT * FROM `expense_tags` INNER JOIN `expense_items_expense_tags` ON `expense_tags`.id = `expense_items_expense_tags`.expense_tag_id WHERE (`expense_items_expense_tags`.expense_item_id = 7 ) [0m
  [4;36;1mExpenseType Load (0.0ms)[0m   [0;1mSELECT * FROM `expense_types` WHERE (`expense_types`.`id` = 2) [0m
  [4;35;1mExpenseTag Load (0.0ms)[0m   [0mSELECT * FROM `expense_tags` INNER JOIN `expense_items_expense_tags` ON `expense_tags`.id = `expense_items_expense_tags`.expense_tag_id WHERE (`expense_items_expense_tags`.expense_item_id = 8 ) [0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT * FROM `expense_types` WHERE (`expense_types`.`id` = 1) [0m
  [4;35;1mExpenseTag Load (1.0ms)[0m   [0mSELECT * FROM `expense_tags` INNER JOIN `expense_items_expense_tags` ON `expense_tags`.id = `expense_items_expense_tags`.expense_tag_id WHERE (`expense_items_expense_tags`.expense_item_id = 9 ) [0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT * FROM `expense_types` WHERE (`expense_types`.`id` = 2) [0m
  [4;35;1mExpenseTag Load (1.0ms)[0m   [0mSELECT * FROM `expense_tags` INNER JOIN `expense_items_expense_tags` ON `expense_tags`.id = `expense_items_expense_tags`.expense_tag_id WHERE (`expense_items_expense_tags`.expense_item_id = 10 ) [0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT * FROM `expense_types` WHERE (`expense_types`.`id` = 1) [0m
  [4;35;1mExpenseTag Load (1.0ms)[0m   [0mSELECT * FROM `expense_tags` INNER JOIN `expense_items_expense_tags` ON `expense_tags`.id = `expense_items_expense_tags`.expense_tag_id WHERE (`expense_items_expense_tags`.expense_item_id = 11 ) [0m
Completed in 156ms (View: 114, DB: 28) | 200 OK [http://localhost/expense/2010/5]
  [4;36;1mSQL (0.0ms)[0m   [0;1mSET NAMES 'utf8'[0m
  [4;35;1mSQL (1.0ms)[0m   [0mSET SQL_AUTO_IS_NULL=0[0m


Processing ExpenseItemsController#edit (for 127.0.0.1 at 2010-05-02 15:07:28) [GET]
  Parameters: {"id"=>"4"}
  [4;36;1mExpenseItem Columns (4.0ms)[0m   [0;1mSHOW FIELDS FROM `expense_items`[0m
  [4;35;1mExpenseItem Load (6.0ms)[0m   [0mSELECT * FROM `expense_items` WHERE (`expense_items`.`id` = 4) [0m
  [4;36;1mExpenseType Load (1.0ms)[0m   [0;1mSELECT * FROM `expense_types` [0m
  [4;35;1mExpenseType Columns (3.0ms)[0m   [0mSHOW FIELDS FROM `expense_types`[0m
  [4;36;1mExpenseTag Load (1.0ms)[0m   [0;1mSELECT * FROM `expense_tags` [0m
Rendering template within layouts/expense_items
Rendering expense_items/edit
  [4;35;1mexpense_items_expense_tags Columns (4.0ms)[0m   [0mSHOW FIELDS FROM `expense_items_expense_tags`[0m
  [4;36;1mExpenseTag Load (2.0ms)[0m   [0;1mSELECT * FROM `expense_tags` INNER JOIN `expense_items_expense_tags` ON `expense_tags`.id = `expense_items_expense_tags`.expense_tag_id WHERE (`expense_items_expense_tags`.expense_item_id = 4 ) [0m
  [4;35;1mExpenseTag Columns (3.0ms)[0m   [0mSHOW FIELDS FROM `expense_tags`[0m

ActionView::TemplateError (expense_month_url failed to generate from {:month=>nil, :year=>nil, :action=>"index", :controller=>"expense"}, expected: {:action=>"index", :controller=>"expense"}, diff: {:month=>nil, :year=>nil}) on line #38 of app/views/expense_items/edit.html.erb:
35: <% end %>
36: 
37: <%= link_to 'Show', @expense_item %> |
38: <%= link_to 'Back', expense_month_url(@year, @month) %>

    (eval):16:in `expense_month_url'
    app/views/expense_items/edit.html.erb:38

Rendered rescues/_trace (110.0ms)
Rendered rescues/_request_and_response (1.0ms)
Rendering rescues/layout (internal_server_error)
  [4;36;1mSQL (1.0ms)[0m   [0;1mSET NAMES 'utf8'[0m
  [4;35;1mSQL (1.0ms)[0m   [0mSET SQL_AUTO_IS_NULL=0[0m


Processing ExpenseItemsController#edit (for 127.0.0.1 at 2010-05-02 15:08:03) [GET]
  Parameters: {"id"=>"4"}
  [4;36;1mExpenseItem Columns (6.0ms)[0m   [0;1mSHOW FIELDS FROM `expense_items`[0m
  [4;35;1mExpenseItem Load (32.0ms)[0m   [0mSELECT * FROM `expense_items` WHERE (`expense_items`.`id` = 4) [0m
  [4;36;1mExpenseType Load (0.0ms)[0m   [0;1mSELECT * FROM `expense_types` [0m
  [4;35;1mExpenseType Columns (3.0ms)[0m   [0mSHOW FIELDS FROM `expense_types`[0m
  [4;36;1mExpenseTag Load (0.0ms)[0m   [0;1mSELECT * FROM `expense_tags` [0m
Rendering template within layouts/expense_items
Rendering expense_items/edit
  [4;35;1mexpense_items_expense_tags Columns (4.0ms)[0m   [0mSHOW FIELDS FROM `expense_items_expense_tags`[0m
  [4;36;1mExpenseTag Load (2.0ms)[0m   [0;1mSELECT * FROM `expense_tags` INNER JOIN `expense_items_expense_tags` ON `expense_tags`.id = `expense_items_expense_tags`.expense_tag_id WHERE (`expense_items_expense_tags`.expense_item_id = 4 ) [0m
  [4;35;1mExpenseTag Columns (3.0ms)[0m   [0mSHOW FIELDS FROM `expense_tags`[0m
Completed in 101ms (View: 22, DB: 52) | 200 OK [http://localhost/expense_items/4/edit]
  [4;36;1mSQL (1.0ms)[0m   [0;1mSET NAMES 'utf8'[0m
  [4;35;1mSQL (1.0ms)[0m   [0mSET SQL_AUTO_IS_NULL=0[0m


Processing ExpenseController#index (for 127.0.0.1 at 2010-05-02 15:08:12) [GET]
  Parameters: {"month"=>"5", "year"=>"2010"}
  [4;36;1mExpenseItem Load (0.0ms)[0m   [0;1mSELECT * FROM `expense_items` WHERE (date BETWEEN '2010-05-01' and '2010-05-31') [0m
Rendering template within layouts/expense
Rendering expense/index
  [4;35;1mExpenseItem Columns (22.0ms)[0m   [0mSHOW FIELDS FROM `expense_items`[0m
  [4;36;1mExpenseType Columns (3.0ms)[0m   [0;1mSHOW FIELDS FROM `expense_types`[0m
  [4;35;1mExpenseType Load (5.0ms)[0m   [0mSELECT * FROM `expense_types` WHERE (`expense_types`.`id` = 1) [0m
  [4;36;1mexpense_items_expense_tags Columns (4.0ms)[0m   [0;1mSHOW FIELDS FROM `expense_items_expense_tags`[0m
  [4;35;1mExpenseTag Load (2.0ms)[0m   [0mSELECT * FROM `expense_tags` INNER JOIN `expense_items_expense_tags` ON `expense_tags`.id = `expense_items_expense_tags`.expense_tag_id WHERE (`expense_items_expense_tags`.expense_item_id = 4 ) [0m
  [4;36;1mExpenseTag Columns (3.0ms)[0m   [0;1mSHOW FIELDS FROM `expense_tags`[0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM `expense_types` WHERE (`expense_types`.`id` = 1) [0m
  [4;36;1mExpenseTag Load (0.0ms)[0m   [0;1mSELECT * FROM `expense_tags` INNER JOIN `expense_items_expense_tags` ON `expense_tags`.id = `expense_items_expense_tags`.expense_tag_id WHERE (`expense_items_expense_tags`.expense_item_id = 5 ) [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM `expense_types` WHERE (`expense_types`.`id` = 1) [0m
  [4;36;1mExpenseTag Load (1.0ms)[0m   [0;1mSELECT * FROM `expense_tags` INNER JOIN `expense_items_expense_tags` ON `expense_tags`.id = `expense_items_expense_tags`.expense_tag_id WHERE (`expense_items_expense_tags`.expense_item_id = 6 ) [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM `expense_types` WHERE (`expense_types`.`id` = 1) [0m
  [4;36;1mExpenseTag Load (0.0ms)[0m   [0;1mSELECT * FROM `expense_tags` INNER JOIN `expense_items_expense_tags` ON `expense_tags`.id = `expense_items_expense_tags`.expense_tag_id WHERE (`expense_items_expense_tags`.expense_item_id = 7 ) [0m
  [4;35;1mExpenseType Load (0.0ms)[0m   [0mSELECT * FROM `expense_types` WHERE (`expense_types`.`id` = 2) [0m
  [4;36;1mExpenseTag Load (0.0ms)[0m   [0;1mSELECT * FROM `expense_tags` INNER JOIN `expense_items_expense_tags` ON `expense_tags`.id = `expense_items_expense_tags`.expense_tag_id WHERE (`expense_items_expense_tags`.expense_item_id = 8 ) [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM `expense_types` WHERE (`expense_types`.`id` = 1) [0m
  [4;36;1mExpenseTag Load (1.0ms)[0m   [0;1mSELECT * FROM `expense_tags` INNER JOIN `expense_items_expense_tags` ON `expense_tags`.id = `expense_items_expense_tags`.expense_tag_id WHERE (`expense_items_expense_tags`.expense_item_id = 9 ) [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM `expense_types` WHERE (`expense_types`.`id` = 2) [0m
  [4;36;1mExpenseTag Load (1.0ms)[0m   [0;1mSELECT * FROM `expense_tags` INNER JOIN `expense_items_expense_tags` ON `expense_tags`.id = `expense_items_expense_tags`.expense_tag_id WHERE (`expense_items_expense_tags`.expense_item_id = 10 ) [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM `expense_types` WHERE (`expense_types`.`id` = 1) [0m
  [4;36;1mExpenseTag Load (0.0ms)[0m   [0;1mSELECT * FROM `expense_tags` INNER JOIN `expense_items_expense_tags` ON `expense_tags`.id = `expense_items_expense_tags`.expense_tag_id WHERE (`expense_items_expense_tags`.expense_item_id = 11 ) [0m
Completed in 121ms (View: 68, DB: 44) | 200 OK [http://localhost/expense/2010/5]
  [4;35;1mSQL (0.0ms)[0m   [0mSET NAMES 'utf8'[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mSET SQL_AUTO_IS_NULL=0[0m


Processing ExpenseItemsController#edit (for 127.0.0.1 at 2010-05-02 15:08:17) [GET]
  Parameters: {"id"=>"10"}
  [4;35;1mExpenseItem Columns (5.0ms)[0m   [0mSHOW FIELDS FROM `expense_items`[0m
  [4;36;1mExpenseItem Load (5.0ms)[0m   [0;1mSELECT * FROM `expense_items` WHERE (`expense_items`.`id` = 10) [0m
  [4;35;1mExpenseType Load (1.0ms)[0m   [0mSELECT * FROM `expense_types` [0m
  [4;36;1mExpenseType Columns (4.0ms)[0m   [0;1mSHOW FIELDS FROM `expense_types`[0m
  [4;35;1mExpenseTag Load (1.0ms)[0m   [0mSELECT * FROM `expense_tags` [0m
Rendering template within layouts/expense_items
Rendering expense_items/edit
  [4;36;1mexpense_items_expense_tags Columns (4.0ms)[0m   [0;1mSHOW FIELDS FROM `expense_items_expense_tags`[0m
  [4;35;1mExpenseTag Load (3.0ms)[0m   [0mSELECT * FROM `expense_tags` INNER JOIN `expense_items_expense_tags` ON `expense_tags`.id = `expense_items_expense_tags`.expense_tag_id WHERE (`expense_items_expense_tags`.expense_item_id = 10 ) [0m
  [4;36;1mExpenseTag Columns (3.0ms)[0m   [0;1mSHOW FIELDS FROM `expense_tags`[0m
Completed in 118ms (View: 67, DB: 26) | 200 OK [http://localhost/expense_items/10/edit]
  [4;35;1mSQL (0.0ms)[0m   [0mSET NAMES 'utf8'[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mSET SQL_AUTO_IS_NULL=0[0m


Processing ExpenseController#index (for 127.0.0.1 at 2010-05-02 15:08:24) [GET]
  Parameters: {"month"=>"5", "year"=>"2010"}
  [4;35;1mExpenseItem Load (1.0ms)[0m   [0mSELECT * FROM `expense_items` WHERE (date BETWEEN '2010-05-01' and '2010-05-31') [0m
Rendering template within layouts/expense
Rendering expense/index
  [4;36;1mExpenseItem Columns (6.0ms)[0m   [0;1mSHOW FIELDS FROM `expense_items`[0m
  [4;35;1mExpenseType Columns (6.0ms)[0m   [0mSHOW FIELDS FROM `expense_types`[0m
  [4;36;1mExpenseType Load (14.0ms)[0m   [0;1mSELECT * FROM `expense_types` WHERE (`expense_types`.`id` = 1) [0m
  [4;35;1mexpense_items_expense_tags Columns (4.0ms)[0m   [0mSHOW FIELDS FROM `expense_items_expense_tags`[0m
  [4;36;1mExpenseTag Load (4.0ms)[0m   [0;1mSELECT * FROM `expense_tags` INNER JOIN `expense_items_expense_tags` ON `expense_tags`.id = `expense_items_expense_tags`.expense_tag_id WHERE (`expense_items_expense_tags`.expense_item_id = 4 ) [0m
  [4;35;1mExpenseTag Columns (4.0ms)[0m   [0mSHOW FIELDS FROM `expense_tags`[0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT * FROM `expense_types` WHERE (`expense_types`.`id` = 1) [0m
  [4;35;1mExpenseTag Load (0.0ms)[0m   [0mSELECT * FROM `expense_tags` INNER JOIN `expense_items_expense_tags` ON `expense_tags`.id = `expense_items_expense_tags`.expense_tag_id WHERE (`expense_items_expense_tags`.expense_item_id = 5 ) [0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT * FROM `expense_types` WHERE (`expense_types`.`id` = 1) [0m
  [4;35;1mExpenseTag Load (1.0ms)[0m   [0mSELECT * FROM `expense_tags` INNER JOIN `expense_items_expense_tags` ON `expense_tags`.id = `expense_items_expense_tags`.expense_tag_id WHERE (`expense_items_expense_tags`.expense_item_id = 6 ) [0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT * FROM `expense_types` WHERE (`expense_types`.`id` = 1) [0m
  [4;35;1mExpenseTag Load (1.0ms)[0m   [0mSELECT * FROM `expense_tags` INNER JOIN `expense_items_expense_tags` ON `expense_tags`.id = `expense_items_expense_tags`.expense_tag_id WHERE (`expense_items_expense_tags`.expense_item_id = 7 ) [0m
  [4;36;1mExpenseType Load (0.0ms)[0m   [0;1mSELECT * FROM `expense_types` WHERE (`expense_types`.`id` = 2) [0m
  [4;35;1mExpenseTag Load (0.0ms)[0m   [0mSELECT * FROM `expense_tags` INNER JOIN `expense_items_expense_tags` ON `expense_tags`.id = `expense_items_expense_tags`.expense_tag_id WHERE (`expense_items_expense_tags`.expense_item_id = 8 ) [0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT * FROM `expense_types` WHERE (`expense_types`.`id` = 1) [0m
  [4;35;1mExpenseTag Load (1.0ms)[0m   [0mSELECT * FROM `expense_tags` INNER JOIN `expense_items_expense_tags` ON `expense_tags`.id = `expense_items_expense_tags`.expense_tag_id WHERE (`expense_items_expense_tags`.expense_item_id = 9 ) [0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT * FROM `expense_types` WHERE (`expense_types`.`id` = 2) [0m
  [4;35;1mExpenseTag Load (0.0ms)[0m   [0mSELECT * FROM `expense_tags` INNER JOIN `expense_items_expense_tags` ON `expense_tags`.id = `expense_items_expense_tags`.expense_tag_id WHERE (`expense_items_expense_tags`.expense_item_id = 10 ) [0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT * FROM `expense_types` WHERE (`expense_types`.`id` = 1) [0m
  [4;35;1mExpenseTag Load (0.0ms)[0m   [0mSELECT * FROM `expense_tags` INNER JOIN `expense_items_expense_tags` ON `expense_tags`.id = `expense_items_expense_tags`.expense_tag_id WHERE (`expense_items_expense_tags`.expense_item_id = 11 ) [0m
Completed in 125ms (View: 73, DB: 42) | 200 OK [http://localhost/expense/2010/5]
  [4;36;1mSQL (0.0ms)[0m   [0;1mSET NAMES 'utf8'[0m
  [4;35;1mSQL (0.0ms)[0m   [0mSET SQL_AUTO_IS_NULL=0[0m


Processing ExpenseItemsController#edit (for 127.0.0.1 at 2010-05-02 15:08:36) [GET]
  Parameters: {"id"=>"5"}
  [4;36;1mExpenseItem Columns (5.0ms)[0m   [0;1mSHOW FIELDS FROM `expense_items`[0m
  [4;35;1mExpenseItem Load (4.0ms)[0m   [0mSELECT * FROM `expense_items` WHERE (`expense_items`.`id` = 5) [0m
  [4;36;1mExpenseType Load (0.0ms)[0m   [0;1mSELECT * FROM `expense_types` [0m
  [4;35;1mExpenseType Columns (3.0ms)[0m   [0mSHOW FIELDS FROM `expense_types`[0m
  [4;36;1mExpenseTag Load (1.0ms)[0m   [0;1mSELECT * FROM `expense_tags` [0m
Rendering template within layouts/expense_items
Rendering expense_items/edit
  [4;35;1mexpense_items_expense_tags Columns (4.0ms)[0m   [0mSHOW FIELDS FROM `expense_items_expense_tags`[0m
  [4;36;1mExpenseTag Load (2.0ms)[0m   [0;1mSELECT * FROM `expense_tags` INNER JOIN `expense_items_expense_tags` ON `expense_tags`.id = `expense_items_expense_tags`.expense_tag_id WHERE (`expense_items_expense_tags`.expense_item_id = 5 ) [0m
  [4;35;1mExpenseTag Columns (3.0ms)[0m   [0mSHOW FIELDS FROM `expense_tags`[0m
Completed in 72ms (View: 22, DB: 22) | 200 OK [http://localhost/expense_items/5/edit]
  [4;36;1mSQL (1.0ms)[0m   [0;1mSET NAMES 'utf8'[0m
  [4;35;1mSQL (1.0ms)[0m   [0mSET SQL_AUTO_IS_NULL=0[0m


Processing ExpenseController#index (for 127.0.0.1 at 2010-05-02 15:08:45) [GET]
  Parameters: {"month"=>"5", "year"=>"2010"}
  [4;36;1mExpenseItem Load (1.0ms)[0m   [0;1mSELECT * FROM `expense_items` WHERE (date BETWEEN '2010-05-01' and '2010-05-31') [0m
Rendering template within layouts/expense
Rendering expense/index
  [4;35;1mExpenseItem Columns (28.0ms)[0m   [0mSHOW FIELDS FROM `expense_items`[0m
  [4;36;1mExpenseType Columns (3.0ms)[0m   [0;1mSHOW FIELDS FROM `expense_types`[0m
  [4;35;1mExpenseType Load (6.0ms)[0m   [0mSELECT * FROM `expense_types` WHERE (`expense_types`.`id` = 1) [0m
  [4;36;1mexpense_items_expense_tags Columns (4.0ms)[0m   [0;1mSHOW FIELDS FROM `expense_items_expense_tags`[0m
  [4;35;1mExpenseTag Load (2.0ms)[0m   [0mSELECT * FROM `expense_tags` INNER JOIN `expense_items_expense_tags` ON `expense_tags`.id = `expense_items_expense_tags`.expense_tag_id WHERE (`expense_items_expense_tags`.expense_item_id = 4 ) [0m
  [4;36;1mExpenseTag Columns (3.0ms)[0m   [0;1mSHOW FIELDS FROM `expense_tags`[0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM `expense_types` WHERE (`expense_types`.`id` = 1) [0m
  [4;36;1mExpenseTag Load (1.0ms)[0m   [0;1mSELECT * FROM `expense_tags` INNER JOIN `expense_items_expense_tags` ON `expense_tags`.id = `expense_items_expense_tags`.expense_tag_id WHERE (`expense_items_expense_tags`.expense_item_id = 5 ) [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM `expense_types` WHERE (`expense_types`.`id` = 1) [0m
  [4;36;1mExpenseTag Load (1.0ms)[0m   [0;1mSELECT * FROM `expense_tags` INNER JOIN `expense_items_expense_tags` ON `expense_tags`.id = `expense_items_expense_tags`.expense_tag_id WHERE (`expense_items_expense_tags`.expense_item_id = 6 ) [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM `expense_types` WHERE (`expense_types`.`id` = 1) [0m
  [4;36;1mExpenseTag Load (0.0ms)[0m   [0;1mSELECT * FROM `expense_tags` INNER JOIN `expense_items_expense_tags` ON `expense_tags`.id = `expense_items_expense_tags`.expense_tag_id WHERE (`expense_items_expense_tags`.expense_item_id = 7 ) [0m
  [4;35;1mExpenseType Load (0.0ms)[0m   [0mSELECT * FROM `expense_types` WHERE (`expense_types`.`id` = 2) [0m
  [4;36;1mExpenseTag Load (1.0ms)[0m   [0;1mSELECT * FROM `expense_tags` INNER JOIN `expense_items_expense_tags` ON `expense_tags`.id = `expense_items_expense_tags`.expense_tag_id WHERE (`expense_items_expense_tags`.expense_item_id = 8 ) [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM `expense_types` WHERE (`expense_types`.`id` = 1) [0m
  [4;36;1mExpenseTag Load (0.0ms)[0m   [0;1mSELECT * FROM `expense_tags` INNER JOIN `expense_items_expense_tags` ON `expense_tags`.id = `expense_items_expense_tags`.expense_tag_id WHERE (`expense_items_expense_tags`.expense_item_id = 9 ) [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM `expense_types` WHERE (`expense_types`.`id` = 2) [0m
  [4;36;1mExpenseTag Load (1.0ms)[0m   [0;1mSELECT * FROM `expense_tags` INNER JOIN `expense_items_expense_tags` ON `expense_tags`.id = `expense_items_expense_tags`.expense_tag_id WHERE (`expense_items_expense_tags`.expense_item_id = 10 ) [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM `expense_types` WHERE (`expense_types`.`id` = 1) [0m
  [4;36;1mExpenseTag Load (1.0ms)[0m   [0;1mSELECT * FROM `expense_tags` INNER JOIN `expense_items_expense_tags` ON `expense_tags`.id = `expense_items_expense_tags`.expense_tag_id WHERE (`expense_items_expense_tags`.expense_item_id = 11 ) [0m
Completed in 173ms (View: 110, DB: 54) | 200 OK [http://localhost/expense/2010/5]
  [4;35;1mSQL (0.0ms)[0m   [0mSET NAMES 'utf8'[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mSET SQL_AUTO_IS_NULL=0[0m


Processing ExpenseTypesController#new (for 127.0.0.1 at 2010-05-02 15:25:48) [GET]
  [4;35;1mExpenseType Columns (5.0ms)[0m   [0mSHOW FIELDS FROM `expense_types`[0m
Rendering template within layouts/expense_types
Rendering expense_types/new
Completed in 21ms (View: 7, DB: 5) | 200 OK [http://localhost/expense_types/new]
  [4;36;1mSQL (0.0ms)[0m   [0;1mSET NAMES 'utf8'[0m
  [4;35;1mSQL (0.0ms)[0m   [0mSET SQL_AUTO_IS_NULL=0[0m


Processing ExpenseTypesController#index (for 127.0.0.1 at 2010-05-02 15:25:57) [GET]
  [4;36;1mExpenseType Load (0.0ms)[0m   [0;1mSELECT * FROM `expense_types` [0m
Rendering template within layouts/expense_types
Rendering expense_types/index
  [4;35;1mExpenseType Columns (5.0ms)[0m   [0mSHOW FIELDS FROM `expense_types`[0m
Completed in 27ms (View: 13, DB: 5) | 200 OK [http://localhost/expense_types/]
  [4;36;1mSQL (0.0ms)[0m   [0;1mSET NAMES 'utf8'[0m
  [4;35;1mSQL (0.0ms)[0m   [0mSET SQL_AUTO_IS_NULL=0[0m


Processing ExpenseTypesController#new (for 127.0.0.1 at 2010-05-02 15:26:15) [GET]
  [4;36;1mExpenseType Columns (5.0ms)[0m   [0;1mSHOW FIELDS FROM `expense_types`[0m
Rendering template within layouts/expense_types
Rendering expense_types/new
Completed in 27ms (View: 7, DB: 5) | 200 OK [http://localhost/expense_types/new]
  [4;35;1mSQL (1.0ms)[0m   [0mSET NAMES 'utf8'[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mSET SQL_AUTO_IS_NULL=0[0m


Processing ExpenseTypesController#create (for 127.0.0.1 at 2010-05-02 15:26:27) [POST]
  Parameters: {"commit"=>"Create", "authenticity_token"=>"Q0GaEkfPbau3bfyg7IUoDfgZt9A4uM8W/DMEbvS+Jlo=", "expense_type"=>{"description"=>"外出就餐"}}
  [4;35;1mExpenseType Columns (5.0ms)[0m   [0mSHOW FIELDS FROM `expense_types`[0m
  [4;36;1mSQL (5.0ms)[0m   [0;1mBEGIN[0m
  [4;35;1mExpenseType Create (1.0ms)[0m   [0mINSERT INTO `expense_types` (`updated_at`, `description`, `created_at`) VALUES('2010-05-02 07:26:27', '外出就餐', '2010-05-02 07:26:27')[0m
  [4;36;1mSQL (43.0ms)[0m   [0;1mCOMMIT[0m
Redirected to http://localhost:3000/expense_types/3
Completed in 67ms (DB: 55) | 302 Found [http://localhost/expense_types]
  [4;35;1mSQL (1.0ms)[0m   [0mSET NAMES 'utf8'[0m
  [4;36;1mSQL (1.0ms)[0m   [0;1mSET SQL_AUTO_IS_NULL=0[0m


Processing ExpenseTypesController#show (for 127.0.0.1 at 2010-05-02 15:26:28) [GET]
  Parameters: {"id"=>"3"}
  [4;35;1mExpenseType Columns (4.0ms)[0m   [0mSHOW FIELDS FROM `expense_types`[0m
  [4;36;1mExpenseType Load (5.0ms)[0m   [0;1mSELECT * FROM `expense_types` WHERE (`expense_types`.`id` = 3) [0m
Rendering template within layouts/expense_types
Rendering expense_types/show
Completed in 23ms (View: 4, DB: 11) | 200 OK [http://localhost/expense_types/3]
  [4;35;1mSQL (0.0ms)[0m   [0mSET NAMES 'utf8'[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mSET SQL_AUTO_IS_NULL=0[0m


Processing ExpenseTypesController#index (for 127.0.0.1 at 2010-05-02 15:26:33) [GET]
  [4;35;1mExpenseType Load (0.0ms)[0m   [0mSELECT * FROM `expense_types` [0m
Rendering template within layouts/expense_types
Rendering expense_types/index
  [4;36;1mExpenseType Columns (5.0ms)[0m   [0;1mSHOW FIELDS FROM `expense_types`[0m
Completed in 81ms (View: 61, DB: 5) | 200 OK [http://localhost/expense_types]
  [4;35;1mSQL (0.0ms)[0m   [0mSET NAMES 'utf8'[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mSET SQL_AUTO_IS_NULL=0[0m


Processing ExpenseTypesController#new (for 127.0.0.1 at 2010-05-02 15:26:40) [GET]
  [4;35;1mExpenseType Columns (11.0ms)[0m   [0mSHOW FIELDS FROM `expense_types`[0m
Rendering template within layouts/expense_types
Rendering expense_types/new
Completed in 28ms (View: 8, DB: 11) | 200 OK [http://localhost/expense_types/new]
  [4;36;1mSQL (0.0ms)[0m   [0;1mSET NAMES 'utf8'[0m
  [4;35;1mSQL (0.0ms)[0m   [0mSET SQL_AUTO_IS_NULL=0[0m


Processing ExpenseTypesController#create (for 127.0.0.1 at 2010-05-02 15:27:03) [POST]
  Parameters: {"commit"=>"Create", "authenticity_token"=>"Q0GaEkfPbau3bfyg7IUoDfgZt9A4uM8W/DMEbvS+Jlo=", "expense_type"=>{"description"=>"日用品"}}
  [4;36;1mExpenseType Columns (36.0ms)[0m   [0;1mSHOW FIELDS FROM `expense_types`[0m
  [4;35;1mSQL (7.0ms)[0m   [0mBEGIN[0m
  [4;36;1mExpenseType Create (1.0ms)[0m   [0;1mINSERT INTO `expense_types` (`updated_at`, `description`, `created_at`) VALUES('2010-05-02 07:27:03', '日用品', '2010-05-02 07:27:03')[0m
  [4;35;1mSQL (87.0ms)[0m   [0mCOMMIT[0m
Redirected to http://localhost:3000/expense_types/4
Completed in 146ms (DB: 131) | 302 Found [http://localhost/expense_types]
  [4;36;1mSQL (0.0ms)[0m   [0;1mSET NAMES 'utf8'[0m
  [4;35;1mSQL (1.0ms)[0m   [0mSET SQL_AUTO_IS_NULL=0[0m


Processing ExpenseTypesController#show (for 127.0.0.1 at 2010-05-02 15:27:04) [GET]
  Parameters: {"id"=>"4"}
  [4;36;1mExpenseType Columns (9.0ms)[0m   [0;1mSHOW FIELDS FROM `expense_types`[0m
  [4;35;1mExpenseType Load (7.0ms)[0m   [0mSELECT * FROM `expense_types` WHERE (`expense_types`.`id` = 4) [0m
Rendering template within layouts/expense_types
Rendering expense_types/show
Completed in 32ms (View: 4, DB: 17) | 200 OK [http://localhost/expense_types/4]
  [4;36;1mSQL (0.0ms)[0m   [0;1mSET NAMES 'utf8'[0m
  [4;35;1mSQL (1.0ms)[0m   [0mSET SQL_AUTO_IS_NULL=0[0m


Processing ExpenseTypesController#index (for 127.0.0.1 at 2010-05-02 15:27:08) [GET]
  [4;36;1mExpenseType Load (0.0ms)[0m   [0;1mSELECT * FROM `expense_types` [0m
Rendering template within layouts/expense_types
Rendering expense_types/index
  [4;35;1mExpenseType Columns (6.0ms)[0m   [0mSHOW FIELDS FROM `expense_types`[0m
Completed in 36ms (View: 20, DB: 7) | 200 OK [http://localhost/expense_types]
  [4;36;1mSQL (1.0ms)[0m   [0;1mSET NAMES 'utf8'[0m
  [4;35;1mSQL (0.0ms)[0m   [0mSET SQL_AUTO_IS_NULL=0[0m


Processing ExpenseTypesController#new (for 127.0.0.1 at 2010-05-02 15:27:12) [GET]
  [4;36;1mExpenseType Columns (30.0ms)[0m   [0;1mSHOW FIELDS FROM `expense_types`[0m
Rendering template within layouts/expense_types
Rendering expense_types/new
Completed in 48ms (View: 7, DB: 31) | 200 OK [http://localhost/expense_types/new]
  [4;35;1mSQL (0.0ms)[0m   [0mSET NAMES 'utf8'[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mSET SQL_AUTO_IS_NULL=0[0m


Processing ExpenseTypesController#create (for 127.0.0.1 at 2010-05-02 15:27:21) [POST]
  Parameters: {"commit"=>"Create", "authenticity_token"=>"Q0GaEkfPbau3bfyg7IUoDfgZt9A4uM8W/DMEbvS+Jlo=", "expense_type"=>{"description"=>"食品"}}
  [4;35;1mExpenseType Columns (5.0ms)[0m   [0mSHOW FIELDS FROM `expense_types`[0m
  [4;36;1mSQL (3.0ms)[0m   [0;1mBEGIN[0m
  [4;35;1mExpenseType Create (0.0ms)[0m   [0mINSERT INTO `expense_types` (`updated_at`, `description`, `created_at`) VALUES('2010-05-02 07:27:21', '食品', '2010-05-02 07:27:21')[0m
  [4;36;1mSQL (43.0ms)[0m   [0;1mCOMMIT[0m
Redirected to http://localhost:3000/expense_types/5
Completed in 66ms (DB: 51) | 302 Found [http://localhost/expense_types]
  [4;35;1mSQL (1.0ms)[0m   [0mSET NAMES 'utf8'[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mSET SQL_AUTO_IS_NULL=0[0m


Processing ExpenseTypesController#show (for 127.0.0.1 at 2010-05-02 15:27:22) [GET]
  Parameters: {"id"=>"5"}
  [4;35;1mExpenseType Columns (6.0ms)[0m   [0mSHOW FIELDS FROM `expense_types`[0m
  [4;36;1mExpenseType Load (16.0ms)[0m   [0;1mSELECT * FROM `expense_types` WHERE (`expense_types`.`id` = 5) [0m
Rendering template within layouts/expense_types
Rendering expense_types/show
Completed in 37ms (View: 5, DB: 23) | 200 OK [http://localhost/expense_types/5]
  [4;35;1mSQL (1.0ms)[0m   [0mSET NAMES 'utf8'[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mSET SQL_AUTO_IS_NULL=0[0m


Processing ExpenseTypesController#index (for 127.0.0.1 at 2010-05-02 15:27:28) [GET]
  [4;35;1mExpenseType Load (0.0ms)[0m   [0mSELECT * FROM `expense_types` [0m
Rendering template within layouts/expense_types
Rendering expense_types/index
  [4;36;1mExpenseType Columns (5.0ms)[0m   [0;1mSHOW FIELDS FROM `expense_types`[0m
Completed in 38ms (View: 24, DB: 6) | 200 OK [http://localhost/expense_types]
  [4;35;1mSQL (1.0ms)[0m   [0mSET NAMES 'utf8'[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mSET SQL_AUTO_IS_NULL=0[0m


Processing ExpenseController#index (for 127.0.0.1 at 2010-05-02 15:27:34) [GET]
  [4;35;1mExpenseItem Load (1.0ms)[0m   [0mSELECT * FROM `expense_items` WHERE (date BETWEEN '2010-05-01' and '2010-05-31') [0m
Rendering template within layouts/expense
Rendering expense/index
  [4;36;1mExpenseItem Columns (5.0ms)[0m   [0;1mSHOW FIELDS FROM `expense_items`[0m
  [4;35;1mExpenseType Columns (4.0ms)[0m   [0mSHOW FIELDS FROM `expense_types`[0m
  [4;36;1mExpenseType Load (5.0ms)[0m   [0;1mSELECT * FROM `expense_types` WHERE (`expense_types`.`id` = 1) [0m
  [4;35;1mexpense_items_expense_tags Columns (4.0ms)[0m   [0mSHOW FIELDS FROM `expense_items_expense_tags`[0m
  [4;36;1mExpenseTag Load (5.0ms)[0m   [0;1mSELECT * FROM `expense_tags` INNER JOIN `expense_items_expense_tags` ON `expense_tags`.id = `expense_items_expense_tags`.expense_tag_id WHERE (`expense_items_expense_tags`.expense_item_id = 4 ) [0m
  [4;35;1mExpenseTag Columns (4.0ms)[0m   [0mSHOW FIELDS FROM `expense_tags`[0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT * FROM `expense_types` WHERE (`expense_types`.`id` = 1) [0m
  [4;35;1mExpenseTag Load (1.0ms)[0m   [0mSELECT * FROM `expense_tags` INNER JOIN `expense_items_expense_tags` ON `expense_tags`.id = `expense_items_expense_tags`.expense_tag_id WHERE (`expense_items_expense_tags`.expense_item_id = 5 ) [0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT * FROM `expense_types` WHERE (`expense_types`.`id` = 1) [0m
  [4;35;1mExpenseTag Load (1.0ms)[0m   [0mSELECT * FROM `expense_tags` INNER JOIN `expense_items_expense_tags` ON `expense_tags`.id = `expense_items_expense_tags`.expense_tag_id WHERE (`expense_items_expense_tags`.expense_item_id = 6 ) [0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT * FROM `expense_types` WHERE (`expense_types`.`id` = 1) [0m
  [4;35;1mExpenseTag Load (1.0ms)[0m   [0mSELECT * FROM `expense_tags` INNER JOIN `expense_items_expense_tags` ON `expense_tags`.id = `expense_items_expense_tags`.expense_tag_id WHERE (`expense_items_expense_tags`.expense_item_id = 7 ) [0m
  [4;36;1mExpenseType Load (1.0ms)[0m   [0;1mSELECT * FROM `expense_types` WHERE (`expense_types`.`id` = 2) [0m
  [4;35;1mExpenseTag Load (0.0ms)[0m   [0mSELECT * FROM `expense_tags` INNER JOIN `expense_items_expense_tags` ON `expense_tags`.id = `expense_items_expense_tags`.expense_tag_id WHERE (`expense_items_expense_tags`.expense_item_id = 8 ) [0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT * FROM `expense_types` WHERE (`expense_types`.`id` = 1) [0m
  [4;35;1mExpenseTag Load (0.0ms)[0m   [0mSELECT * FROM `expense_tags` INNER JOIN `expense_items_expense_tags` ON `expense_tags`.id = `expense_items_expense_tags`.expense_tag_id WHERE (`expense_items_expense_tags`.expense_item_id = 9 ) [0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT * FROM `expense_types` WHERE (`expense_types`.`id` = 2) [0m
  [4;35;1mExpenseTag Load (1.0ms)[0m   [0mSELECT * FROM `expense_tags` INNER JOIN `expense_items_expense_tags` ON `expense_tags`.id = `expense_items_expense_tags`.expense_tag_id WHERE (`expense_items_expense_tags`.expense_item_id = 10 ) [0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT * FROM `expense_types` WHERE (`expense_types`.`id` = 1) [0m
  [4;35;1mExpenseTag Load (1.0ms)[0m   [0mSELECT * FROM `expense_tags` INNER JOIN `expense_items_expense_tags` ON `expense_tags`.id = `expense_items_expense_tags`.expense_tag_id WHERE (`expense_items_expense_tags`.expense_item_id = 11 ) [0m
Completed in 116ms (View: 69, DB: 35) | 200 OK [http://localhost/expense]
  [4;36;1mSQL (0.0ms)[0m   [0;1mSET NAMES 'utf8'[0m
  [4;35;1mSQL (0.0ms)[0m   [0mSET SQL_AUTO_IS_NULL=0[0m


Processing ExpenseItemsController#new (for 127.0.0.1 at 2010-05-02 15:27:42) [GET]
  [4;36;1mExpenseItem Columns (6.0ms)[0m   [0;1mSHOW FIELDS FROM `expense_items`[0m
  [4;35;1mExpenseType Load (4.0ms)[0m   [0mSELECT * FROM `expense_types` [0m
  [4;36;1mExpenseType Columns (4.0ms)[0m   [0;1mSHOW FIELDS FROM `expense_types`[0m
  [4;35;1mExpenseTag Load (4.0ms)[0m   [0mSELECT * FROM `expense_tags` [0m
Rendering template within layouts/expense_items
Rendering expense_items/new
  [4;36;1mExpenseTag Columns (4.0ms)[0m   [0;1mSHOW FIELDS FROM `expense_tags`[0m
Completed in 75ms (View: 21, DB: 22) | 200 OK [http://localhost/expense_items/new]
  [4;35;1mSQL (0.0ms)[0m   [0mSET NAMES 'utf8'[0m
  [4;36;1mSQL (1.0ms)[0m   [0;1mSET SQL_AUTO_IS_NULL=0[0m


Processing ExpenseTypesController#index (for 127.0.0.1 at 2010-05-02 15:28:44) [GET]
  [4;35;1mExpenseType Load (0.0ms)[0m   [0mSELECT * FROM `expense_types` [0m
Rendering template within layouts/expense_types
Rendering expense_types/index
  [4;36;1mExpenseType Columns (5.0ms)[0m   [0;1mSHOW FIELDS FROM `expense_types`[0m
Completed in 37ms (View: 23, DB: 6) | 200 OK [http://localhost/expense_types]
  [4;35;1mSQL (0.0ms)[0m   [0mSET NAMES 'utf8'[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mSET SQL_AUTO_IS_NULL=0[0m


Processing ExpenseTagsController#index (for 127.0.0.1 at 2010-05-02 15:29:45) [GET]
  [4;35;1mExpenseTag Load (1.0ms)[0m   [0mSELECT * FROM `expense_tags` [0m
Rendering template within layouts/expense_tags
Rendering expense_tags/index
  [4;36;1mExpenseTag Columns (5.0ms)[0m   [0;1mSHOW FIELDS FROM `expense_tags`[0m
Completed in 40ms (View: 24, DB: 6) | 200 OK [http://localhost/expense_tags]
  [4;35;1mSQL (0.0ms)[0m   [0mSET NAMES 'utf8'[0m
  [4;36;1mSQL (1.0ms)[0m   [0;1mSET SQL_AUTO_IS_NULL=0[0m


Processing ExpenseTagsController#index (for 127.0.0.1 at 2010-05-02 15:33:18) [GET]
  [4;35;1mExpenseTag Load (1.0ms)[0m   [0mSELECT * FROM `expense_tags` [0m
Rendering template within layouts/expense_tags
Rendering expense_tags/index
  [4;36;1mExpenseTag Columns (4.0ms)[0m   [0;1mSHOW FIELDS FROM `expense_tags`[0m
Completed in 38ms (View: 23, DB: 6) | 200 OK [http://localhost/expense_tags]
  [4;35;1mSQL (1.0ms)[0m   [0mSET NAMES 'utf8'[0m
  [4;36;1mSQL (1.0ms)[0m   [0;1mSET SQL_AUTO_IS_NULL=0[0m


Processing ExpenseTagsController#index (for 127.0.0.1 at 2010-05-02 15:33:23) [GET]
  [4;35;1mExpenseTag Load (1.0ms)[0m   [0mSELECT * FROM `expense_tags` [0m
Rendering template within layouts/expense_tags
Rendering expense_tags/index
  [4;36;1mExpenseTag Columns (6.0ms)[0m   [0;1mSHOW FIELDS FROM `expense_tags`[0m
Completed in 114ms (View: 98, DB: 9) | 200 OK [http://localhost/expense_tags]
  [4;35;1mSQL (0.0ms)[0m   [0mSET NAMES 'utf8'[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mSET SQL_AUTO_IS_NULL=0[0m


Processing ExpenseTypesController#index (for 127.0.0.1 at 2010-05-02 15:33:28) [GET]
  [4;35;1mExpenseType Load (3.0ms)[0m   [0mSELECT * FROM `expense_types` [0m
Rendering template within layouts/expense_types
Rendering expense_types/index
  [4;36;1mExpenseType Columns (4.0ms)[0m   [0;1mSHOW FIELDS FROM `expense_types`[0m
Completed in 47ms (View: 29, DB: 7) | 200 OK [http://localhost/expense_types]
  [4;35;1mSQL (0.0ms)[0m   [0mSET NAMES 'utf8'[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mSET SQL_AUTO_IS_NULL=0[0m


Processing ExpenseTypesController#index (for 127.0.0.1 at 2010-05-02 15:33:53) [GET]
  [4;35;1mExpenseType Load (1.0ms)[0m   [0mSELECT * FROM `expense_types` [0m
Rendering template within layouts/expense_types
Rendering expense_types/index
  [4;36;1mExpenseType Columns (6.0ms)[0m   [0;1mSHOW FIELDS FROM `expense_types`[0m
Completed in 47ms (View: 30, DB: 7) | 200 OK [http://localhost/expense_types]
  [4;35;1mSQL (0.0ms)[0m   [0mSET NAMES 'utf8'[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mSET SQL_AUTO_IS_NULL=0[0m


Processing ExpenseTypesController#edit (for 127.0.0.1 at 2010-05-02 15:34:56) [GET]
  Parameters: {"id"=>"2"}
  [4;35;1mExpenseType Columns (6.0ms)[0m   [0mSHOW FIELDS FROM `expense_types`[0m
  [4;36;1mExpenseType Load (5.0ms)[0m   [0;1mSELECT * FROM `expense_types` WHERE (`expense_types`.`id` = 2) [0m
Rendering template within layouts/expense_types
Rendering expense_types/edit
Completed in 53ms (View: 35, DB: 11) | 200 OK [http://localhost/expense_types/2/edit]
  [4;35;1mSQL (1.0ms)[0m   [0mSET NAMES 'utf8'[0m
  [4;36;1mSQL (1.0ms)[0m   [0;1mSET SQL_AUTO_IS_NULL=0[0m


Processing ExpenseTypesController#index (for 127.0.0.1 at 2010-05-02 15:35:01) [GET]
  [4;35;1mExpenseType Load (0.0ms)[0m   [0mSELECT * FROM `expense_types` [0m
Rendering template within layouts/expense_types
Rendering expense_types/index
  [4;36;1mExpenseType Columns (4.0ms)[0m   [0;1mSHOW FIELDS FROM `expense_types`[0m
Completed in 60ms (View: 46, DB: 6) | 200 OK [http://localhost/expense_types]
  [4;35;1mSQL (0.0ms)[0m   [0mSET NAMES 'utf8'[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mSET SQL_AUTO_IS_NULL=0[0m


Processing ExpenseTypesController#edit (for 127.0.0.1 at 2010-05-02 15:35:18) [GET]
  Parameters: {"id"=>"4"}
  [4;35;1mExpenseType Columns (5.0ms)[0m   [0mSHOW FIELDS FROM `expense_types`[0m
  [4;36;1mExpenseType Load (34.0ms)[0m   [0;1mSELECT * FROM `expense_types` WHERE (`expense_types`.`id` = 4) [0m
Rendering template within layouts/expense_types
Rendering expense_types/edit
Completed in 60ms (View: 13, DB: 39) | 200 OK [http://localhost/expense_types/4/edit]
  [4;35;1mSQL (0.0ms)[0m   [0mSET NAMES 'utf8'[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mSET SQL_AUTO_IS_NULL=0[0m


Processing ExpenseTypesController#index (for 127.0.0.1 at 2010-05-02 15:35:22) [GET]
  [4;35;1mExpenseType Load (0.0ms)[0m   [0mSELECT * FROM `expense_types` [0m
Rendering template within layouts/expense_types
Rendering expense_types/index
  [4;36;1mExpenseType Columns (4.0ms)[0m   [0;1mSHOW FIELDS FROM `expense_types`[0m
Completed in 35ms (View: 22, DB: 4) | 200 OK [http://localhost/expense_types]
  [4;35;1mSQL (0.0ms)[0m   [0mSET NAMES 'utf8'[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mSET SQL_AUTO_IS_NULL=0[0m


Processing ExpenseTypesController#new (for 127.0.0.1 at 2010-05-02 15:35:54) [GET]
  [4;35;1mExpenseType Columns (5.0ms)[0m   [0mSHOW FIELDS FROM `expense_types`[0m
Rendering template within layouts/expense_types
Rendering expense_types/new
Completed in 26ms (View: 12, DB: 5) | 200 OK [http://localhost/expense_types/new]
  [4;36;1mSQL (0.0ms)[0m   [0;1mSET NAMES 'utf8'[0m
  [4;35;1mSQL (1.0ms)[0m   [0mSET SQL_AUTO_IS_NULL=0[0m


Processing ExpenseTypesController#create (for 127.0.0.1 at 2010-05-02 15:36:28) [POST]
  Parameters: {"commit"=>"创建", "authenticity_token"=>"Q0GaEkfPbau3bfyg7IUoDfgZt9A4uM8W/DMEbvS+Jlo=", "expense_type"=>{"description"=>"书报杂志"}}
  [4;36;1mExpenseType Columns (5.0ms)[0m   [0;1mSHOW FIELDS FROM `expense_types`[0m
  [4;35;1mSQL (4.0ms)[0m   [0mBEGIN[0m
  [4;36;1mExpenseType Create (1.0ms)[0m   [0;1mINSERT INTO `expense_types` (`updated_at`, `description`, `created_at`) VALUES('2010-05-02 07:36:28', '书报杂志', '2010-05-02 07:36:28')[0m
  [4;35;1mSQL (27.0ms)[0m   [0mCOMMIT[0m
Redirected to http://localhost:3000/expense_types/6
Completed in 50ms (DB: 38) | 302 Found [http://localhost/expense_types]
  [4;36;1mSQL (1.0ms)[0m   [0;1mSET NAMES 'utf8'[0m
  [4;35;1mSQL (0.0ms)[0m   [0mSET SQL_AUTO_IS_NULL=0[0m


Processing ExpenseTypesController#show (for 127.0.0.1 at 2010-05-02 15:36:29) [GET]
  Parameters: {"id"=>"6"}
  [4;36;1mExpenseType Columns (5.0ms)[0m   [0;1mSHOW FIELDS FROM `expense_types`[0m
  [4;35;1mExpenseType Load (4.0ms)[0m   [0mSELECT * FROM `expense_types` WHERE (`expense_types`.`id` = 6) [0m
Rendering template within layouts/expense_types
Rendering expense_types/show
Completed in 23ms (View: 4, DB: 10) | 200 OK [http://localhost/expense_types/6]
  [4;36;1mSQL (0.0ms)[0m   [0;1mSET NAMES 'utf8'[0m
  [4;35;1mSQL (0.0ms)[0m   [0mSET SQL_AUTO_IS_NULL=0[0m


Processing ExpenseTypesController#index (for 127.0.0.1 at 2010-05-02 15:36:36) [GET]
  [4;36;1mExpenseType Load (1.0ms)[0m   [0;1mSELECT * FROM `expense_types` [0m
Rendering template within layouts/expense_types
Rendering expense_types/index
  [4;35;1mExpenseType Columns (4.0ms)[0m   [0mSHOW FIELDS FROM `expense_types`[0m
Completed in 85ms (View: 70, DB: 5) | 200 OK [http://localhost/expense_types]
  [4;36;1mSQL (0.0ms)[0m   [0;1mSET NAMES 'utf8'[0m
  [4;35;1mSQL (0.0ms)[0m   [0mSET SQL_AUTO_IS_NULL=0[0m


Processing ExpenseController#index (for 127.0.0.1 at 2010-05-02 15:38:37) [GET]
  [4;36;1mExpenseItem Load (1.0ms)[0m   [0;1mSELECT * FROM `expense_items` WHERE (date BETWEEN '2010-05-01' and '2010-05-31') [0m
Rendering template within layouts/expense
Rendering expense/index
  [4;35;1mExpenseItem Columns (4.0ms)[0m   [0mSHOW FIELDS FROM `expense_items`[0m
  [4;36;1mExpenseType Columns (3.0ms)[0m   [0;1mSHOW FIELDS FROM `expense_types`[0m
  [4;35;1mExpenseType Load (4.0ms)[0m   [0mSELECT * FROM `expense_types` WHERE (`expense_types`.`id` = 1) [0m
  [4;36;1mexpense_items_expense_tags Columns (3.0ms)[0m   [0;1mSHOW FIELDS FROM `expense_items_expense_tags`[0m
  [4;35;1mExpenseTag Load (2.0ms)[0m   [0mSELECT * FROM `expense_tags` INNER JOIN `expense_items_expense_tags` ON `expense_tags`.id = `expense_items_expense_tags`.expense_tag_id WHERE (`expense_items_expense_tags`.expense_item_id = 4 ) [0m
  [4;36;1mExpenseTag Columns (3.0ms)[0m   [0;1mSHOW FIELDS FROM `expense_tags`[0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM `expense_types` WHERE (`expense_types`.`id` = 1) [0m
  [4;36;1mExpenseTag Load (1.0ms)[0m   [0;1mSELECT * FROM `expense_tags` INNER JOIN `expense_items_expense_tags` ON `expense_tags`.id = `expense_items_expense_tags`.expense_tag_id WHERE (`expense_items_expense_tags`.expense_item_id = 5 ) [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM `expense_types` WHERE (`expense_types`.`id` = 1) [0m
  [4;36;1mExpenseTag Load (0.0ms)[0m   [0;1mSELECT * FROM `expense_tags` INNER JOIN `expense_items_expense_tags` ON `expense_tags`.id = `expense_items_expense_tags`.expense_tag_id WHERE (`expense_items_expense_tags`.expense_item_id = 6 ) [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM `expense_types` WHERE (`expense_types`.`id` = 1) [0m
  [4;36;1mExpenseTag Load (0.0ms)[0m   [0;1mSELECT * FROM `expense_tags` INNER JOIN `expense_items_expense_tags` ON `expense_tags`.id = `expense_items_expense_tags`.expense_tag_id WHERE (`expense_items_expense_tags`.expense_item_id = 7 ) [0m
  [4;35;1mExpenseType Load (1.0ms)[0m   [0mSELECT * FROM `expense_types` WHERE (`expense_types`.`id` = 2) [0m
  [4;36;1mExpenseTag Load (0.0ms)[0m   [0;1mSELECT * FROM `expense_tags` INNER JOIN `expense_items_expense_tags` ON `expense_tags`.id = `expense_items_expense_tags`.expense_tag_id WHERE (`expense_items_expense_tags`.expense_item_id = 8 ) [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM `expense_types` WHERE (`expense_types`.`id` = 1) [0m
  [4;36;1mExpenseTag Load (1.0ms)[0m   [0;1mSELECT * FROM `expense_tags` INNER JOIN `expense_items_expense_tags` ON `expense_tags`.id = `expense_items_expense_tags`.expense_tag_id WHERE (`expense_items_expense_tags`.expense_item_id = 9 ) [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM `expense_types` WHERE (`expense_types`.`id` = 2) [0m
  [4;36;1mExpenseTag Load (0.0ms)[0m   [0;1mSELECT * FROM `expense_tags` INNER JOIN `expense_items_expense_tags` ON `expense_tags`.id = `expense_items_expense_tags`.expense_tag_id WHERE (`expense_items_expense_tags`.expense_item_id = 10 ) [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM `expense_types` WHERE (`expense_types`.`id` = 1) [0m
  [4;36;1mExpenseTag Load (1.0ms)[0m   [0;1mSELECT * FROM `expense_tags` INNER JOIN `expense_items_expense_tags` ON `expense_tags`.id = `expense_items_expense_tags`.expense_tag_id WHERE (`expense_items_expense_tags`.expense_item_id = 11 ) [0m
Completed in 104ms (View: 69, DB: 24) | 200 OK [http://localhost/expense]
  [4;35;1mSQL (1.0ms)[0m   [0mSET NAMES 'utf8'[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mSET SQL_AUTO_IS_NULL=0[0m


Processing ExpenseItemsController#edit (for 127.0.0.1 at 2010-05-02 15:38:42) [GET]
  Parameters: {"id"=>"6"}
  [4;35;1mExpenseItem Columns (4.0ms)[0m   [0mSHOW FIELDS FROM `expense_items`[0m
  [4;36;1mExpenseItem Load (6.0ms)[0m   [0;1mSELECT * FROM `expense_items` WHERE (`expense_items`.`id` = 6) [0m
  [4;35;1mExpenseType Load (0.0ms)[0m   [0mSELECT * FROM `expense_types` [0m
  [4;36;1mExpenseType Columns (3.0ms)[0m   [0;1mSHOW FIELDS FROM `expense_types`[0m
  [4;35;1mExpenseTag Load (24.0ms)[0m   [0mSELECT * FROM `expense_tags` [0m
Rendering template within layouts/expense_items
Rendering expense_items/edit
  [4;36;1mexpense_items_expense_tags Columns (3.0ms)[0m   [0;1mSHOW FIELDS FROM `expense_items_expense_tags`[0m
  [4;35;1mExpenseTag Load (3.0ms)[0m   [0mSELECT * FROM `expense_tags` INNER JOIN `expense_items_expense_tags` ON `expense_tags`.id = `expense_items_expense_tags`.expense_tag_id WHERE (`expense_items_expense_tags`.expense_item_id = 6 ) [0m
  [4;36;1mExpenseTag Columns (4.0ms)[0m   [0;1mSHOW FIELDS FROM `expense_tags`[0m
Completed in 110ms (View: 35, DB: 48) | 200 OK [http://localhost/expense_items/6/edit]
  [4;35;1mSQL (0.0ms)[0m   [0mSET NAMES 'utf8'[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mSET SQL_AUTO_IS_NULL=0[0m


Processing ExpenseController#index (for 127.0.0.1 at 2010-05-02 15:38:53) [GET]
  Parameters: {"month"=>"5", "year"=>"2010"}
  [4;35;1mExpenseItem Load (1.0ms)[0m   [0mSELECT * FROM `expense_items` WHERE (date BETWEEN '2010-05-01' and '2010-05-31') [0m
Rendering template within layouts/expense
Rendering expense/index
  [4;36;1mExpenseItem Columns (5.0ms)[0m   [0;1mSHOW FIELDS FROM `expense_items`[0m
  [4;35;1mExpenseType Columns (4.0ms)[0m   [0mSHOW FIELDS FROM `expense_types`[0m
  [4;36;1mExpenseType Load (4.0ms)[0m   [0;1mSELECT * FROM `expense_types` WHERE (`expense_types`.`id` = 1) [0m
  [4;35;1mexpense_items_expense_tags Columns (3.0ms)[0m   [0mSHOW FIELDS FROM `expense_items_expense_tags`[0m
  [4;36;1mExpenseTag Load (2.0ms)[0m   [0;1mSELECT * FROM `expense_tags` INNER JOIN `expense_items_expense_tags` ON `expense_tags`.id = `expense_items_expense_tags`.expense_tag_id WHERE (`expense_items_expense_tags`.expense_item_id = 4 ) [0m
  [4;35;1mExpenseTag Columns (3.0ms)[0m   [0mSHOW FIELDS FROM `expense_tags`[0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT * FROM `expense_types` WHERE (`expense_types`.`id` = 1) [0m
  [4;35;1mExpenseTag Load (0.0ms)[0m   [0mSELECT * FROM `expense_tags` INNER JOIN `expense_items_expense_tags` ON `expense_tags`.id = `expense_items_expense_tags`.expense_tag_id WHERE (`expense_items_expense_tags`.expense_item_id = 5 ) [0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT * FROM `expense_types` WHERE (`expense_types`.`id` = 1) [0m
  [4;35;1mExpenseTag Load (1.0ms)[0m   [0mSELECT * FROM `expense_tags` INNER JOIN `expense_items_expense_tags` ON `expense_tags`.id = `expense_items_expense_tags`.expense_tag_id WHERE (`expense_items_expense_tags`.expense_item_id = 6 ) [0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT * FROM `expense_types` WHERE (`expense_types`.`id` = 1) [0m
  [4;35;1mExpenseTag Load (1.0ms)[0m   [0mSELECT * FROM `expense_tags` INNER JOIN `expense_items_expense_tags` ON `expense_tags`.id = `expense_items_expense_tags`.expense_tag_id WHERE (`expense_items_expense_tags`.expense_item_id = 7 ) [0m
  [4;36;1mExpenseType Load (0.0ms)[0m   [0;1mSELECT * FROM `expense_types` WHERE (`expense_types`.`id` = 2) [0m
  [4;35;1mExpenseTag Load (1.0ms)[0m   [0mSELECT * FROM `expense_tags` INNER JOIN `expense_items_expense_tags` ON `expense_tags`.id = `expense_items_expense_tags`.expense_tag_id WHERE (`expense_items_expense_tags`.expense_item_id = 8 ) [0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT * FROM `expense_types` WHERE (`expense_types`.`id` = 1) [0m
  [4;35;1mExpenseTag Load (1.0ms)[0m   [0mSELECT * FROM `expense_tags` INNER JOIN `expense_items_expense_tags` ON `expense_tags`.id = `expense_items_expense_tags`.expense_tag_id WHERE (`expense_items_expense_tags`.expense_item_id = 9 ) [0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT * FROM `expense_types` WHERE (`expense_types`.`id` = 2) [0m
  [4;35;1mExpenseTag Load (0.0ms)[0m   [0mSELECT * FROM `expense_tags` INNER JOIN `expense_items_expense_tags` ON `expense_tags`.id = `expense_items_expense_tags`.expense_tag_id WHERE (`expense_items_expense_tags`.expense_item_id = 10 ) [0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT * FROM `expense_types` WHERE (`expense_types`.`id` = 1) [0m
  [4;35;1mExpenseTag Load (0.0ms)[0m   [0mSELECT * FROM `expense_tags` INNER JOIN `expense_items_expense_tags` ON `expense_tags`.id = `expense_items_expense_tags`.expense_tag_id WHERE (`expense_items_expense_tags`.expense_item_id = 11 ) [0m
Completed in 151ms (View: 114, DB: 26) | 200 OK [http://localhost/expense/2010/5]
  [4;36;1mSQL (1.0ms)[0m   [0;1mSET NAMES 'utf8'[0m
  [4;35;1mSQL (0.0ms)[0m   [0mSET SQL_AUTO_IS_NULL=0[0m


Processing ExpenseController#index (for 127.0.0.1 at 2010-05-02 15:40:50) [GET]
  Parameters: {"month"=>"5", "year"=>"2010"}
  [4;36;1mExpenseItem Load (0.0ms)[0m   [0;1mSELECT * FROM `expense_items` WHERE (date BETWEEN '2010-05-01' and '2010-05-31') [0m
Rendering template within layouts/expense
Rendering expense/index

ActionView::TemplateError (expense_type_url failed to generate from {:action=>"show", :controller=>"expense_types"} - you may have ambiguous routes, or you may need to supply additional parameters for this route.  content_url has the following required parameters: ["expense_types", :id] - are they all satisfied?) on line #4 of app/views/expense/index.html.erb:
1: <div>
2:   <h2>花销记录</h2> 
3:   <%= link_to "创建花销记录", new_expense_item_path %>
4:   <%= link_to "管理花销类型", expense_type_path %>
5:   <%= link_to "批量创建花销记录", :action => 'batch_new' %>
6:   <%= link_to_if @previous_month, "上一月", :year => @previous_month.year, :month => @previous_month.month %>
7:   <%= link_to_if @next_month, "下一月", :year => @next_month.year, :month => @next_month.month %>

    (eval):16:in `expense_type_path'
    app/views/expense/index.html.erb:4

Rendered rescues/_trace (67.0ms)
Rendered rescues/_request_and_response (1.0ms)
Rendering rescues/layout (internal_server_error)
  [4;35;1mSQL (0.0ms)[0m   [0mSET NAMES 'utf8'[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mSET SQL_AUTO_IS_NULL=0[0m


Processing ExpenseController#index (for 127.0.0.1 at 2010-05-02 15:41:23) [GET]
  Parameters: {"month"=>"5", "year"=>"2010"}
  [4;35;1mExpenseItem Load (0.0ms)[0m   [0mSELECT * FROM `expense_items` WHERE (date BETWEEN '2010-05-01' and '2010-05-31') [0m
Rendering template within layouts/expense
Rendering expense/index
  [4;36;1mExpenseItem Columns (6.0ms)[0m   [0;1mSHOW FIELDS FROM `expense_items`[0m
  [4;35;1mExpenseType Columns (4.0ms)[0m   [0mSHOW FIELDS FROM `expense_types`[0m
  [4;36;1mExpenseType Load (6.0ms)[0m   [0;1mSELECT * FROM `expense_types` WHERE (`expense_types`.`id` = 1) [0m
  [4;35;1mexpense_items_expense_tags Columns (4.0ms)[0m   [0mSHOW FIELDS FROM `expense_items_expense_tags`[0m
  [4;36;1mExpenseTag Load (9.0ms)[0m   [0;1mSELECT * FROM `expense_tags` INNER JOIN `expense_items_expense_tags` ON `expense_tags`.id = `expense_items_expense_tags`.expense_tag_id WHERE (`expense_items_expense_tags`.expense_item_id = 4 ) [0m
  [4;35;1mExpenseTag Columns (6.0ms)[0m   [0mSHOW FIELDS FROM `expense_tags`[0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT * FROM `expense_types` WHERE (`expense_types`.`id` = 1) [0m
  [4;35;1mExpenseTag Load (0.0ms)[0m   [0mSELECT * FROM `expense_tags` INNER JOIN `expense_items_expense_tags` ON `expense_tags`.id = `expense_items_expense_tags`.expense_tag_id WHERE (`expense_items_expense_tags`.expense_item_id = 5 ) [0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT * FROM `expense_types` WHERE (`expense_types`.`id` = 1) [0m
  [4;35;1mExpenseTag Load (0.0ms)[0m   [0mSELECT * FROM `expense_tags` INNER JOIN `expense_items_expense_tags` ON `expense_tags`.id = `expense_items_expense_tags`.expense_tag_id WHERE (`expense_items_expense_tags`.expense_item_id = 6 ) [0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT * FROM `expense_types` WHERE (`expense_types`.`id` = 1) [0m
  [4;35;1mExpenseTag Load (1.0ms)[0m   [0mSELECT * FROM `expense_tags` INNER JOIN `expense_items_expense_tags` ON `expense_tags`.id = `expense_items_expense_tags`.expense_tag_id WHERE (`expense_items_expense_tags`.expense_item_id = 7 ) [0m
  [4;36;1mExpenseType Load (0.0ms)[0m   [0;1mSELECT * FROM `expense_types` WHERE (`expense_types`.`id` = 2) [0m
  [4;35;1mExpenseTag Load (0.0ms)[0m   [0mSELECT * FROM `expense_tags` INNER JOIN `expense_items_expense_tags` ON `expense_tags`.id = `expense_items_expense_tags`.expense_tag_id WHERE (`expense_items_expense_tags`.expense_item_id = 8 ) [0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT * FROM `expense_types` WHERE (`expense_types`.`id` = 1) [0m
  [4;35;1mExpenseTag Load (0.0ms)[0m   [0mSELECT * FROM `expense_tags` INNER JOIN `expense_items_expense_tags` ON `expense_tags`.id = `expense_items_expense_tags`.expense_tag_id WHERE (`expense_items_expense_tags`.expense_item_id = 9 ) [0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT * FROM `expense_types` WHERE (`expense_types`.`id` = 2) [0m
  [4;35;1mExpenseTag Load (1.0ms)[0m   [0mSELECT * FROM `expense_tags` INNER JOIN `expense_items_expense_tags` ON `expense_tags`.id = `expense_items_expense_tags`.expense_tag_id WHERE (`expense_items_expense_tags`.expense_item_id = 10 ) [0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT * FROM `expense_types` WHERE (`expense_types`.`id` = 1) [0m
  [4;35;1mExpenseTag Load (0.0ms)[0m   [0mSELECT * FROM `expense_tags` INNER JOIN `expense_items_expense_tags` ON `expense_tags`.id = `expense_items_expense_tags`.expense_tag_id WHERE (`expense_items_expense_tags`.expense_item_id = 11 ) [0m
Completed in 128ms (View: 80, DB: 37) | 200 OK [http://localhost/expense/2010/5]
  [4;36;1mSQL (0.0ms)[0m   [0;1mSET NAMES 'utf8'[0m
  [4;35;1mSQL (0.0ms)[0m   [0mSET SQL_AUTO_IS_NULL=0[0m


Processing ExpenseTypesController#index (for 127.0.0.1 at 2010-05-02 15:41:27) [GET]
  [4;36;1mExpenseType Load (5.0ms)[0m   [0;1mSELECT * FROM `expense_types` [0m
Rendering template within layouts/expense_types
Rendering expense_types/index
  [4;35;1mExpenseType Columns (5.0ms)[0m   [0mSHOW FIELDS FROM `expense_types`[0m
Completed in 47ms (View: 28, DB: 10) | 200 OK [http://localhost/expense_types]
  [4;36;1mSQL (0.0ms)[0m   [0;1mSET NAMES 'utf8'[0m
  [4;35;1mSQL (0.0ms)[0m   [0mSET SQL_AUTO_IS_NULL=0[0m


Processing ExpenseItemsController#show (for 127.0.0.1 at 2010-05-02 15:42:56) [GET]
  Parameters: {"id"=>"6"}
  [4;36;1mExpenseItem Columns (5.0ms)[0m   [0;1mSHOW FIELDS FROM `expense_items`[0m
  [4;35;1mExpenseItem Load (6.0ms)[0m   [0mSELECT * FROM `expense_items` WHERE (`expense_items`.`id` = 6) [0m
Rendering template within layouts/expense_items
Rendering expense_items/show
  [4;36;1mexpense_items_expense_tags Columns (4.0ms)[0m   [0;1mSHOW FIELDS FROM `expense_items_expense_tags`[0m
  [4;35;1mExpenseTag Load (16.0ms)[0m   [0mSELECT * FROM `expense_tags` INNER JOIN `expense_items_expense_tags` ON `expense_tags`.id = `expense_items_expense_tags`.expense_tag_id WHERE (`expense_items_expense_tags`.expense_item_id = 6 ) [0m
  [4;36;1mExpenseTag Columns (4.0ms)[0m   [0;1mSHOW FIELDS FROM `expense_tags`[0m
Completed in 66ms (View: 21, DB: 35) | 200 OK [http://localhost/expense_items/6]
  [4;35;1mSQL (0.0ms)[0m   [0mSET NAMES 'utf8'[0m
  [4;36;1mSQL (3.0ms)[0m   [0;1mSET SQL_AUTO_IS_NULL=0[0m


Processing ExpenseItemsController#index (for 127.0.0.1 at 2010-05-02 15:43:23) [GET]
  [4;35;1mExpenseItem Load (1.0ms)[0m   [0mSELECT * FROM `expense_items` [0m
Rendering template within layouts/expense_items
Rendering expense_items/index
  [4;36;1mExpenseItem Columns (5.0ms)[0m   [0;1mSHOW FIELDS FROM `expense_items`[0m
  [4;35;1mexpense_items_expense_tags Columns (4.0ms)[0m   [0mSHOW FIELDS FROM `expense_items_expense_tags`[0m
  [4;36;1mExpenseTag Load (11.0ms)[0m   [0;1mSELECT * FROM `expense_tags` INNER JOIN `expense_items_expense_tags` ON `expense_tags`.id = `expense_items_expense_tags`.expense_tag_id WHERE (`expense_items_expense_tags`.expense_item_id = 1 ) [0m
  [4;35;1mExpenseTag Load (1.0ms)[0m   [0mSELECT * FROM `expense_tags` INNER JOIN `expense_items_expense_tags` ON `expense_tags`.id = `expense_items_expense_tags`.expense_tag_id WHERE (`expense_items_expense_tags`.expense_item_id = 2 ) [0m
  [4;36;1mExpenseTag Load (1.0ms)[0m   [0;1mSELECT * FROM `expense_tags` INNER JOIN `expense_items_expense_tags` ON `expense_tags`.id = `expense_items_expense_tags`.expense_tag_id WHERE (`expense_items_expense_tags`.expense_item_id = 3 ) [0m
  [4;35;1mExpenseTag Load (1.0ms)[0m   [0mSELECT * FROM `expense_tags` INNER JOIN `expense_items_expense_tags` ON `expense_tags`.id = `expense_items_expense_tags`.expense_tag_id WHERE (`expense_items_expense_tags`.expense_item_id = 4 ) [0m
  [4;36;1mExpenseTag Columns (3.0ms)[0m   [0;1mSHOW FIELDS FROM `expense_tags`[0m
  [4;35;1mExpenseTag Load (1.0ms)[0m   [0mSELECT * FROM `expense_tags` INNER JOIN `expense_items_expense_tags` ON `expense_tags`.id = `expense_items_expense_tags`.expense_tag_id WHERE (`expense_items_expense_tags`.expense_item_id = 5 ) [0m
  [4;36;1mExpenseTag Load (0.0ms)[0m   [0;1mSELECT * FROM `expense_tags` INNER JOIN `expense_items_expense_tags` ON `expense_tags`.id = `expense_items_expense_tags`.expense_tag_id WHERE (`expense_items_expense_tags`.expense_item_id = 6 ) [0m
  [4;35;1mExpenseTag Load (1.0ms)[0m   [0mSELECT * FROM `expense_tags` INNER JOIN `expense_items_expense_tags` ON `expense_tags`.id = `expense_items_expense_tags`.expense_tag_id WHERE (`expense_items_expense_tags`.expense_item_id = 7 ) [0m
  [4;36;1mExpenseTag Load (1.0ms)[0m   [0;1mSELECT * FROM `expense_tags` INNER JOIN `expense_items_expense_tags` ON `expense_tags`.id = `expense_items_expense_tags`.expense_tag_id WHERE (`expense_items_expense_tags`.expense_item_id = 8 ) [0m
  [4;35;1mExpenseTag Load (1.0ms)[0m   [0mSELECT * FROM `expense_tags` INNER JOIN `expense_items_expense_tags` ON `expense_tags`.id = `expense_items_expense_tags`.expense_tag_id WHERE (`expense_items_expense_tags`.expense_item_id = 9 ) [0m
  [4;36;1mExpenseTag Load (0.0ms)[0m   [0;1mSELECT * FROM `expense_tags` INNER JOIN `expense_items_expense_tags` ON `expense_tags`.id = `expense_items_expense_tags`.expense_tag_id WHERE (`expense_items_expense_tags`.expense_item_id = 10 ) [0m
  [4;35;1mExpenseTag Load (0.0ms)[0m   [0mSELECT * FROM `expense_tags` INNER JOIN `expense_items_expense_tags` ON `expense_tags`.id = `expense_items_expense_tags`.expense_tag_id WHERE (`expense_items_expense_tags`.expense_item_id = 11 ) [0m
Completed in 202ms (View: 159, DB: 34) | 200 OK [http://localhost/expense_items]
  [4;36;1mSQL (0.0ms)[0m   [0;1mSET NAMES 'utf8'[0m
  [4;35;1mSQL (1.0ms)[0m   [0mSET SQL_AUTO_IS_NULL=0[0m


Processing ExpenseItemsController#show (for 127.0.0.1 at 2010-05-02 15:43:26) [GET]
  Parameters: {"id"=>"7"}
  [4;36;1mExpenseItem Columns (5.0ms)[0m   [0;1mSHOW FIELDS FROM `expense_items`[0m
  [4;35;1mExpenseItem Load (5.0ms)[0m   [0mSELECT * FROM `expense_items` WHERE (`expense_items`.`id` = 7) [0m
Rendering template within layouts/expense_items
Rendering expense_items/show
  [4;36;1mexpense_items_expense_tags Columns (3.0ms)[0m   [0;1mSHOW FIELDS FROM `expense_items_expense_tags`[0m
  [4;35;1mExpenseTag Load (32.0ms)[0m   [0mSELECT * FROM `expense_tags` INNER JOIN `expense_items_expense_tags` ON `expense_tags`.id = `expense_items_expense_tags`.expense_tag_id WHERE (`expense_items_expense_tags`.expense_item_id = 7 ) [0m
  [4;36;1mExpenseTag Columns (3.0ms)[0m   [0;1mSHOW FIELDS FROM `expense_tags`[0m
Completed in 76ms (View: 17, DB: 49) | 200 OK [http://localhost/expense_items/7]
  [4;35;1mSQL (1.0ms)[0m   [0mSET NAMES 'utf8'[0m
  [4;36;1mSQL (1.0ms)[0m   [0;1mSET SQL_AUTO_IS_NULL=0[0m


Processing ExpenseItemsController#index (for 127.0.0.1 at 2010-05-02 15:43:28) [GET]
  [4;35;1mExpenseItem Load (0.0ms)[0m   [0mSELECT * FROM `expense_items` [0m
Rendering template within layouts/expense_items
Rendering expense_items/index
  [4;36;1mExpenseItem Columns (5.0ms)[0m   [0;1mSHOW FIELDS FROM `expense_items`[0m
  [4;35;1mexpense_items_expense_tags Columns (3.0ms)[0m   [0mSHOW FIELDS FROM `expense_items_expense_tags`[0m
  [4;36;1mExpenseTag Load (3.0ms)[0m   [0;1mSELECT * FROM `expense_tags` INNER JOIN `expense_items_expense_tags` ON `expense_tags`.id = `expense_items_expense_tags`.expense_tag_id WHERE (`expense_items_expense_tags`.expense_item_id = 1 ) [0m
  [4;35;1mExpenseTag Load (0.0ms)[0m   [0mSELECT * FROM `expense_tags` INNER JOIN `expense_items_expense_tags` ON `expense_tags`.id = `expense_items_expense_tags`.expense_tag_id WHERE (`expense_items_expense_tags`.expense_item_id = 2 ) [0m
  [4;36;1mExpenseTag Load (1.0ms)[0m   [0;1mSELECT * FROM `expense_tags` INNER JOIN `expense_items_expense_tags` ON `expense_tags`.id = `expense_items_expense_tags`.expense_tag_id WHERE (`expense_items_expense_tags`.expense_item_id = 3 ) [0m
  [4;35;1mExpenseTag Load (1.0ms)[0m   [0mSELECT * FROM `expense_tags` INNER JOIN `expense_items_expense_tags` ON `expense_tags`.id = `expense_items_expense_tags`.expense_tag_id WHERE (`expense_items_expense_tags`.expense_item_id = 4 ) [0m
  [4;36;1mExpenseTag Columns (4.0ms)[0m   [0;1mSHOW FIELDS FROM `expense_tags`[0m
  [4;35;1mExpenseTag Load (0.0ms)[0m   [0mSELECT * FROM `expense_tags` INNER JOIN `expense_items_expense_tags` ON `expense_tags`.id = `expense_items_expense_tags`.expense_tag_id WHERE (`expense_items_expense_tags`.expense_item_id = 5 ) [0m
  [4;36;1mExpenseTag Load (1.0ms)[0m   [0;1mSELECT * FROM `expense_tags` INNER JOIN `expense_items_expense_tags` ON `expense_tags`.id = `expense_items_expense_tags`.expense_tag_id WHERE (`expense_items_expense_tags`.expense_item_id = 6 ) [0m
  [4;35;1mExpenseTag Load (1.0ms)[0m   [0mSELECT * FROM `expense_tags` INNER JOIN `expense_items_expense_tags` ON `expense_tags`.id = `expense_items_expense_tags`.expense_tag_id WHERE (`expense_items_expense_tags`.expense_item_id = 7 ) [0m
  [4;36;1mExpenseTag Load (0.0ms)[0m   [0;1mSELECT * FROM `expense_tags` INNER JOIN `expense_items_expense_tags` ON `expense_tags`.id = `expense_items_expense_tags`.expense_tag_id WHERE (`expense_items_expense_tags`.expense_item_id = 8 ) [0m
  [4;35;1mExpenseTag Load (1.0ms)[0m   [0mSELECT * FROM `expense_tags` INNER JOIN `expense_items_expense_tags` ON `expense_tags`.id = `expense_items_expense_tags`.expense_tag_id WHERE (`expense_items_expense_tags`.expense_item_id = 9 ) [0m
  [4;36;1mExpenseTag Load (1.0ms)[0m   [0;1mSELECT * FROM `expense_tags` INNER JOIN `expense_items_expense_tags` ON `expense_tags`.id = `expense_items_expense_tags`.expense_tag_id WHERE (`expense_items_expense_tags`.expense_item_id = 10 ) [0m
  [4;35;1mExpenseTag Load (1.0ms)[0m   [0mSELECT * FROM `expense_tags` INNER JOIN `expense_items_expense_tags` ON `expense_tags`.id = `expense_items_expense_tags`.expense_tag_id WHERE (`expense_items_expense_tags`.expense_item_id = 11 ) [0m
Completed in 106ms (View: 72, DB: 24) | 200 OK [http://localhost/expense_items]
  [4;36;1mSQL (0.0ms)[0m   [0;1mSET NAMES 'utf8'[0m
  [4;35;1mSQL (1.0ms)[0m   [0mSET SQL_AUTO_IS_NULL=0[0m


Processing ExpenseController#index (for 127.0.0.1 at 2010-05-02 15:43:37) [GET]
  [4;36;1mExpenseItem Load (0.0ms)[0m   [0;1mSELECT * FROM `expense_items` WHERE (date BETWEEN '2010-05-01' and '2010-05-31') [0m
Rendering template within layouts/expense
Rendering expense/index
  [4;35;1mExpenseItem Columns (5.0ms)[0m   [0mSHOW FIELDS FROM `expense_items`[0m
  [4;36;1mExpenseType Columns (4.0ms)[0m   [0;1mSHOW FIELDS FROM `expense_types`[0m
  [4;35;1mExpenseType Load (5.0ms)[0m   [0mSELECT * FROM `expense_types` WHERE (`expense_types`.`id` = 1) [0m
  [4;36;1mexpense_items_expense_tags Columns (3.0ms)[0m   [0;1mSHOW FIELDS FROM `expense_items_expense_tags`[0m
  [4;35;1mExpenseTag Load (2.0ms)[0m   [0mSELECT * FROM `expense_tags` INNER JOIN `expense_items_expense_tags` ON `expense_tags`.id = `expense_items_expense_tags`.expense_tag_id WHERE (`expense_items_expense_tags`.expense_item_id = 4 ) [0m
  [4;36;1mExpenseTag Columns (3.0ms)[0m   [0;1mSHOW FIELDS FROM `expense_tags`[0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM `expense_types` WHERE (`expense_types`.`id` = 1) [0m
  [4;36;1mExpenseTag Load (0.0ms)[0m   [0;1mSELECT * FROM `expense_tags` INNER JOIN `expense_items_expense_tags` ON `expense_tags`.id = `expense_items_expense_tags`.expense_tag_id WHERE (`expense_items_expense_tags`.expense_item_id = 5 ) [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM `expense_types` WHERE (`expense_types`.`id` = 1) [0m
  [4;36;1mExpenseTag Load (62.0ms)[0m   [0;1mSELECT * FROM `expense_tags` INNER JOIN `expense_items_expense_tags` ON `expense_tags`.id = `expense_items_expense_tags`.expense_tag_id WHERE (`expense_items_expense_tags`.expense_item_id = 6 ) [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM `expense_types` WHERE (`expense_types`.`id` = 1) [0m
  [4;36;1mExpenseTag Load (0.0ms)[0m   [0;1mSELECT * FROM `expense_tags` INNER JOIN `expense_items_expense_tags` ON `expense_tags`.id = `expense_items_expense_tags`.expense_tag_id WHERE (`expense_items_expense_tags`.expense_item_id = 7 ) [0m
  [4;35;1mExpenseType Load (1.0ms)[0m   [0mSELECT * FROM `expense_types` WHERE (`expense_types`.`id` = 2) [0m
  [4;36;1mExpenseTag Load (0.0ms)[0m   [0;1mSELECT * FROM `expense_tags` INNER JOIN `expense_items_expense_tags` ON `expense_tags`.id = `expense_items_expense_tags`.expense_tag_id WHERE (`expense_items_expense_tags`.expense_item_id = 8 ) [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM `expense_types` WHERE (`expense_types`.`id` = 1) [0m
  [4;36;1mExpenseTag Load (1.0ms)[0m   [0;1mSELECT * FROM `expense_tags` INNER JOIN `expense_items_expense_tags` ON `expense_tags`.id = `expense_items_expense_tags`.expense_tag_id WHERE (`expense_items_expense_tags`.expense_item_id = 9 ) [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM `expense_types` WHERE (`expense_types`.`id` = 2) [0m
  [4;36;1mExpenseTag Load (0.0ms)[0m   [0;1mSELECT * FROM `expense_tags` INNER JOIN `expense_items_expense_tags` ON `expense_tags`.id = `expense_items_expense_tags`.expense_tag_id WHERE (`expense_items_expense_tags`.expense_item_id = 10 ) [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM `expense_types` WHERE (`expense_types`.`id` = 1) [0m
  [4;36;1mExpenseTag Load (1.0ms)[0m   [0;1mSELECT * FROM `expense_tags` INNER JOIN `expense_items_expense_tags` ON `expense_tags`.id = `expense_items_expense_tags`.expense_tag_id WHERE (`expense_items_expense_tags`.expense_item_id = 11 ) [0m
Completed in 184ms (View: 86, DB: 88) | 200 OK [http://localhost/expense]
  [4;35;1mSQL (0.0ms)[0m   [0mSET NAMES 'utf8'[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mSET SQL_AUTO_IS_NULL=0[0m


Processing ExpenseItemsController#edit (for 127.0.0.1 at 2010-05-02 15:43:40) [GET]
  Parameters: {"id"=>"6"}
  [4;35;1mExpenseItem Columns (5.0ms)[0m   [0mSHOW FIELDS FROM `expense_items`[0m
  [4;36;1mExpenseItem Load (5.0ms)[0m   [0;1mSELECT * FROM `expense_items` WHERE (`expense_items`.`id` = 6) [0m
  [4;35;1mExpenseType Load (0.0ms)[0m   [0mSELECT * FROM `expense_types` [0m
  [4;36;1mExpenseType Columns (4.0ms)[0m   [0;1mSHOW FIELDS FROM `expense_types`[0m
  [4;35;1mExpenseTag Load (1.0ms)[0m   [0mSELECT * FROM `expense_tags` [0m
Rendering template within layouts/expense_items
Rendering expense_items/edit
  [4;36;1mexpense_items_expense_tags Columns (4.0ms)[0m   [0;1mSHOW FIELDS FROM `expense_items_expense_tags`[0m
  [4;35;1mExpenseTag Load (2.0ms)[0m   [0mSELECT * FROM `expense_tags` INNER JOIN `expense_items_expense_tags` ON `expense_tags`.id = `expense_items_expense_tags`.expense_tag_id WHERE (`expense_items_expense_tags`.expense_item_id = 6 ) [0m
  [4;36;1mExpenseTag Columns (4.0ms)[0m   [0;1mSHOW FIELDS FROM `expense_tags`[0m
Completed in 82ms (View: 30, DB: 25) | 200 OK [http://localhost/expense_items/6/edit]
  [4;35;1mSQL (0.0ms)[0m   [0mSET NAMES 'utf8'[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mSET SQL_AUTO_IS_NULL=0[0m


Processing ExpenseController#index (for 127.0.0.1 at 2010-05-02 15:43:59) [GET]
  Parameters: {"month"=>"5", "year"=>"2010"}
  [4;35;1mExpenseItem Load (0.0ms)[0m   [0mSELECT * FROM `expense_items` WHERE (date BETWEEN '2010-05-01' and '2010-05-31') [0m
Rendering template within layouts/expense
Rendering expense/index
  [4;36;1mExpenseItem Columns (4.0ms)[0m   [0;1mSHOW FIELDS FROM `expense_items`[0m
  [4;35;1mExpenseType Columns (4.0ms)[0m   [0mSHOW FIELDS FROM `expense_types`[0m
  [4;36;1mExpenseType Load (5.0ms)[0m   [0;1mSELECT * FROM `expense_types` WHERE (`expense_types`.`id` = 1) [0m
  [4;35;1mexpense_items_expense_tags Columns (3.0ms)[0m   [0mSHOW FIELDS FROM `expense_items_expense_tags`[0m
  [4;36;1mExpenseTag Load (4.0ms)[0m   [0;1mSELECT * FROM `expense_tags` INNER JOIN `expense_items_expense_tags` ON `expense_tags`.id = `expense_items_expense_tags`.expense_tag_id WHERE (`expense_items_expense_tags`.expense_item_id = 4 ) [0m
  [4;35;1mExpenseTag Columns (4.0ms)[0m   [0mSHOW FIELDS FROM `expense_tags`[0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT * FROM `expense_types` WHERE (`expense_types`.`id` = 1) [0m
  [4;35;1mExpenseTag Load (1.0ms)[0m   [0mSELECT * FROM `expense_tags` INNER JOIN `expense_items_expense_tags` ON `expense_tags`.id = `expense_items_expense_tags`.expense_tag_id WHERE (`expense_items_expense_tags`.expense_item_id = 5 ) [0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT * FROM `expense_types` WHERE (`expense_types`.`id` = 1) [0m
  [4;35;1mExpenseTag Load (0.0ms)[0m   [0mSELECT * FROM `expense_tags` INNER JOIN `expense_items_expense_tags` ON `expense_tags`.id = `expense_items_expense_tags`.expense_tag_id WHERE (`expense_items_expense_tags`.expense_item_id = 6 ) [0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT * FROM `expense_types` WHERE (`expense_types`.`id` = 1) [0m
  [4;35;1mExpenseTag Load (1.0ms)[0m   [0mSELECT * FROM `expense_tags` INNER JOIN `expense_items_expense_tags` ON `expense_tags`.id = `expense_items_expense_tags`.expense_tag_id WHERE (`expense_items_expense_tags`.expense_item_id = 7 ) [0m
  [4;36;1mExpenseType Load (0.0ms)[0m   [0;1mSELECT * FROM `expense_types` WHERE (`expense_types`.`id` = 2) [0m
  [4;35;1mExpenseTag Load (1.0ms)[0m   [0mSELECT * FROM `expense_tags` INNER JOIN `expense_items_expense_tags` ON `expense_tags`.id = `expense_items_expense_tags`.expense_tag_id WHERE (`expense_items_expense_tags`.expense_item_id = 8 ) [0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT * FROM `expense_types` WHERE (`expense_types`.`id` = 1) [0m
  [4;35;1mExpenseTag Load (0.0ms)[0m   [0mSELECT * FROM `expense_tags` INNER JOIN `expense_items_expense_tags` ON `expense_tags`.id = `expense_items_expense_tags`.expense_tag_id WHERE (`expense_items_expense_tags`.expense_item_id = 9 ) [0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT * FROM `expense_types` WHERE (`expense_types`.`id` = 2) [0m
  [4;35;1mExpenseTag Load (1.0ms)[0m   [0mSELECT * FROM `expense_tags` INNER JOIN `expense_items_expense_tags` ON `expense_tags`.id = `expense_items_expense_tags`.expense_tag_id WHERE (`expense_items_expense_tags`.expense_item_id = 10 ) [0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT * FROM `expense_types` WHERE (`expense_types`.`id` = 1) [0m
  [4;35;1mExpenseTag Load (0.0ms)[0m   [0mSELECT * FROM `expense_tags` INNER JOIN `expense_items_expense_tags` ON `expense_tags`.id = `expense_items_expense_tags`.expense_tag_id WHERE (`expense_items_expense_tags`.expense_item_id = 11 ) [0m
Completed in 150ms (View: 111, DB: 28) | 200 OK [http://localhost/expense/2010/5]
  [4;36;1mSQL (1.0ms)[0m   [0;1mSET NAMES 'utf8'[0m
  [4;35;1mSQL (0.0ms)[0m   [0mSET SQL_AUTO_IS_NULL=0[0m


Processing ExpenseController#index (for 127.0.0.1 at 2010-05-02 15:44:04) [GET]
  Parameters: {"month"=>"6", "year"=>"2010"}
  [4;36;1mExpenseItem Load (0.0ms)[0m   [0;1mSELECT * FROM `expense_items` WHERE (date BETWEEN '2010-06-01' and '2010-06-30') [0m
Rendering template within layouts/expense
Rendering expense/index
Completed in 17ms (View: 5, DB: 1) | 200 OK [http://localhost/expense/2010/6]
  [4;35;1mSQL (1.0ms)[0m   [0mSET NAMES 'utf8'[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mSET SQL_AUTO_IS_NULL=0[0m


Processing ExpenseController#index (for 127.0.0.1 at 2010-05-02 15:44:07) [GET]
  Parameters: {"month"=>"5", "year"=>"2010"}
  [4;35;1mExpenseItem Load (1.0ms)[0m   [0mSELECT * FROM `expense_items` WHERE (date BETWEEN '2010-05-01' and '2010-05-31') [0m
Rendering template within layouts/expense
Rendering expense/index
  [4;36;1mExpenseItem Columns (5.0ms)[0m   [0;1mSHOW FIELDS FROM `expense_items`[0m
  [4;35;1mExpenseType Columns (3.0ms)[0m   [0mSHOW FIELDS FROM `expense_types`[0m
  [4;36;1mExpenseType Load (29.0ms)[0m   [0;1mSELECT * FROM `expense_types` WHERE (`expense_types`.`id` = 1) [0m
  [4;35;1mexpense_items_expense_tags Columns (4.0ms)[0m   [0mSHOW FIELDS FROM `expense_items_expense_tags`[0m
  [4;36;1mExpenseTag Load (3.0ms)[0m   [0;1mSELECT * FROM `expense_tags` INNER JOIN `expense_items_expense_tags` ON `expense_tags`.id = `expense_items_expense_tags`.expense_tag_id WHERE (`expense_items_expense_tags`.expense_item_id = 4 ) [0m
  [4;35;1mExpenseTag Columns (3.0ms)[0m   [0mSHOW FIELDS FROM `expense_tags`[0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT * FROM `expense_types` WHERE (`expense_types`.`id` = 1) [0m
  [4;35;1mExpenseTag Load (1.0ms)[0m   [0mSELECT * FROM `expense_tags` INNER JOIN `expense_items_expense_tags` ON `expense_tags`.id = `expense_items_expense_tags`.expense_tag_id WHERE (`expense_items_expense_tags`.expense_item_id = 5 ) [0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT * FROM `expense_types` WHERE (`expense_types`.`id` = 1) [0m
  [4;35;1mExpenseTag Load (0.0ms)[0m   [0mSELECT * FROM `expense_tags` INNER JOIN `expense_items_expense_tags` ON `expense_tags`.id = `expense_items_expense_tags`.expense_tag_id WHERE (`expense_items_expense_tags`.expense_item_id = 6 ) [0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT * FROM `expense_types` WHERE (`expense_types`.`id` = 1) [0m
  [4;35;1mExpenseTag Load (1.0ms)[0m   [0mSELECT * FROM `expense_tags` INNER JOIN `expense_items_expense_tags` ON `expense_tags`.id = `expense_items_expense_tags`.expense_tag_id WHERE (`expense_items_expense_tags`.expense_item_id = 7 ) [0m
  [4;36;1mExpenseType Load (0.0ms)[0m   [0;1mSELECT * FROM `expense_types` WHERE (`expense_types`.`id` = 2) [0m
  [4;35;1mExpenseTag Load (1.0ms)[0m   [0mSELECT * FROM `expense_tags` INNER JOIN `expense_items_expense_tags` ON `expense_tags`.id = `expense_items_expense_tags`.expense_tag_id WHERE (`expense_items_expense_tags`.expense_item_id = 8 ) [0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT * FROM `expense_types` WHERE (`expense_types`.`id` = 1) [0m
  [4;35;1mExpenseTag Load (0.0ms)[0m   [0mSELECT * FROM `expense_tags` INNER JOIN `expense_items_expense_tags` ON `expense_tags`.id = `expense_items_expense_tags`.expense_tag_id WHERE (`expense_items_expense_tags`.expense_item_id = 9 ) [0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT * FROM `expense_types` WHERE (`expense_types`.`id` = 2) [0m
  [4;35;1mExpenseTag Load (0.0ms)[0m   [0mSELECT * FROM `expense_tags` INNER JOIN `expense_items_expense_tags` ON `expense_tags`.id = `expense_items_expense_tags`.expense_tag_id WHERE (`expense_items_expense_tags`.expense_item_id = 10 ) [0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT * FROM `expense_types` WHERE (`expense_types`.`id` = 1) [0m
  [4;35;1mExpenseTag Load (0.0ms)[0m   [0mSELECT * FROM `expense_tags` INNER JOIN `expense_items_expense_tags` ON `expense_tags`.id = `expense_items_expense_tags`.expense_tag_id WHERE (`expense_items_expense_tags`.expense_item_id = 11 ) [0m
Completed in 128ms (View: 66, DB: 52) | 200 OK [http://localhost/expense/2010/5]
  [4;36;1mSQL (1.0ms)[0m   [0;1mSET NAMES 'utf8'[0m
  [4;35;1mSQL (0.0ms)[0m   [0mSET SQL_AUTO_IS_NULL=0[0m


Processing ExpenseController#index (for 127.0.0.1 at 2010-05-02 15:44:09) [GET]
  Parameters: {"month"=>"6", "year"=>"2010"}
  [4;36;1mExpenseItem Load (0.0ms)[0m   [0;1mSELECT * FROM `expense_items` WHERE (date BETWEEN '2010-06-01' and '2010-06-30') [0m
Rendering template within layouts/expense
Rendering expense/index
Completed in 14ms (View: 4, DB: 1) | 200 OK [http://localhost/expense/2010/6]
  [4;35;1mSQL (0.0ms)[0m   [0mSET NAMES 'utf8'[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mSET SQL_AUTO_IS_NULL=0[0m


Processing ExpenseController#index (for 127.0.0.1 at 2010-05-02 15:44:10) [GET]
  Parameters: {"month"=>"5", "year"=>"2010"}
  [4;35;1mExpenseItem Load (0.0ms)[0m   [0mSELECT * FROM `expense_items` WHERE (date BETWEEN '2010-05-01' and '2010-05-31') [0m
Rendering template within layouts/expense
Rendering expense/index
  [4;36;1mExpenseItem Columns (5.0ms)[0m   [0;1mSHOW FIELDS FROM `expense_items`[0m
  [4;35;1mExpenseType Columns (4.0ms)[0m   [0mSHOW FIELDS FROM `expense_types`[0m
  [4;36;1mExpenseType Load (5.0ms)[0m   [0;1mSELECT * FROM `expense_types` WHERE (`expense_types`.`id` = 1) [0m
  [4;35;1mexpense_items_expense_tags Columns (4.0ms)[0m   [0mSHOW FIELDS FROM `expense_items_expense_tags`[0m
  [4;36;1mExpenseTag Load (3.0ms)[0m   [0;1mSELECT * FROM `expense_tags` INNER JOIN `expense_items_expense_tags` ON `expense_tags`.id = `expense_items_expense_tags`.expense_tag_id WHERE (`expense_items_expense_tags`.expense_item_id = 4 ) [0m
  [4;35;1mExpenseTag Columns (3.0ms)[0m   [0mSHOW FIELDS FROM `expense_tags`[0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT * FROM `expense_types` WHERE (`expense_types`.`id` = 1) [0m
  [4;35;1mExpenseTag Load (2.0ms)[0m   [0mSELECT * FROM `expense_tags` INNER JOIN `expense_items_expense_tags` ON `expense_tags`.id = `expense_items_expense_tags`.expense_tag_id WHERE (`expense_items_expense_tags`.expense_item_id = 5 ) [0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT * FROM `expense_types` WHERE (`expense_types`.`id` = 1) [0m
  [4;35;1mExpenseTag Load (1.0ms)[0m   [0mSELECT * FROM `expense_tags` INNER JOIN `expense_items_expense_tags` ON `expense_tags`.id = `expense_items_expense_tags`.expense_tag_id WHERE (`expense_items_expense_tags`.expense_item_id = 6 ) [0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT * FROM `expense_types` WHERE (`expense_types`.`id` = 1) [0m
  [4;35;1mExpenseTag Load (1.0ms)[0m   [0mSELECT * FROM `expense_tags` INNER JOIN `expense_items_expense_tags` ON `expense_tags`.id = `expense_items_expense_tags`.expense_tag_id WHERE (`expense_items_expense_tags`.expense_item_id = 7 ) [0m
  [4;36;1mExpenseType Load (0.0ms)[0m   [0;1mSELECT * FROM `expense_types` WHERE (`expense_types`.`id` = 2) [0m
  [4;35;1mExpenseTag Load (1.0ms)[0m   [0mSELECT * FROM `expense_tags` INNER JOIN `expense_items_expense_tags` ON `expense_tags`.id = `expense_items_expense_tags`.expense_tag_id WHERE (`expense_items_expense_tags`.expense_item_id = 8 ) [0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT * FROM `expense_types` WHERE (`expense_types`.`id` = 1) [0m
  [4;35;1mExpenseTag Load (1.0ms)[0m   [0mSELECT * FROM `expense_tags` INNER JOIN `expense_items_expense_tags` ON `expense_tags`.id = `expense_items_expense_tags`.expense_tag_id WHERE (`expense_items_expense_tags`.expense_item_id = 9 ) [0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT * FROM `expense_types` WHERE (`expense_types`.`id` = 2) [0m
  [4;35;1mExpenseTag Load (0.0ms)[0m   [0mSELECT * FROM `expense_tags` INNER JOIN `expense_items_expense_tags` ON `expense_tags`.id = `expense_items_expense_tags`.expense_tag_id WHERE (`expense_items_expense_tags`.expense_item_id = 10 ) [0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT * FROM `expense_types` WHERE (`expense_types`.`id` = 1) [0m
  [4;35;1mExpenseTag Load (0.0ms)[0m   [0mSELECT * FROM `expense_tags` INNER JOIN `expense_items_expense_tags` ON `expense_tags`.id = `expense_items_expense_tags`.expense_tag_id WHERE (`expense_items_expense_tags`.expense_item_id = 11 ) [0m
Completed in 152ms (View: 111, DB: 30) | 200 OK [http://localhost/expense/2010/5]
  [4;36;1mSQL (0.0ms)[0m   [0;1mSET NAMES 'utf8'[0m
  [4;35;1mSQL (0.0ms)[0m   [0mSET SQL_AUTO_IS_NULL=0[0m


Processing ExpenseController#batch_new (for 127.0.0.1 at 2010-05-02 15:45:41) [GET]
  [4;36;1mExpenseType Load (0.0ms)[0m   [0;1mSELECT * FROM `expense_types` [0m
  [4;35;1mExpenseType Columns (5.0ms)[0m   [0mSHOW FIELDS FROM `expense_types`[0m
Rendering template within layouts/expense
Rendering expense/batch_new
Completed in 35ms (View: 19, DB: 5) | 200 OK [http://localhost/expense/batch_new]
  [4;36;1mSQL (0.0ms)[0m   [0;1mSET NAMES 'utf8'[0m
  [4;35;1mSQL (0.0ms)[0m   [0mSET SQL_AUTO_IS_NULL=0[0m


Processing ExpenseController#index (for 127.0.0.1 at 2010-05-02 15:45:45) [GET]
  Parameters: {"month"=>"5", "year"=>"2010"}
  [4;36;1mExpenseItem Load (1.0ms)[0m   [0;1mSELECT * FROM `expense_items` WHERE (date BETWEEN '2010-05-01' and '2010-05-31') [0m
Rendering template within layouts/expense
Rendering expense/index
  [4;35;1mExpenseItem Columns (32.0ms)[0m   [0mSHOW FIELDS FROM `expense_items`[0m
  [4;36;1mExpenseType Columns (4.0ms)[0m   [0;1mSHOW FIELDS FROM `expense_types`[0m
  [4;35;1mExpenseType Load (5.0ms)[0m   [0mSELECT * FROM `expense_types` WHERE (`expense_types`.`id` = 1) [0m
  [4;36;1mexpense_items_expense_tags Columns (4.0ms)[0m   [0;1mSHOW FIELDS FROM `expense_items_expense_tags`[0m
  [4;35;1mExpenseTag Load (4.0ms)[0m   [0mSELECT * FROM `expense_tags` INNER JOIN `expense_items_expense_tags` ON `expense_tags`.id = `expense_items_expense_tags`.expense_tag_id WHERE (`expense_items_expense_tags`.expense_item_id = 4 ) [0m
  [4;36;1mExpenseTag Columns (4.0ms)[0m   [0;1mSHOW FIELDS FROM `expense_tags`[0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM `expense_types` WHERE (`expense_types`.`id` = 1) [0m
  [4;36;1mExpenseTag Load (0.0ms)[0m   [0;1mSELECT * FROM `expense_tags` INNER JOIN `expense_items_expense_tags` ON `expense_tags`.id = `expense_items_expense_tags`.expense_tag_id WHERE (`expense_items_expense_tags`.expense_item_id = 5 ) [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM `expense_types` WHERE (`expense_types`.`id` = 1) [0m
  [4;36;1mExpenseTag Load (1.0ms)[0m   [0;1mSELECT * FROM `expense_tags` INNER JOIN `expense_items_expense_tags` ON `expense_tags`.id = `expense_items_expense_tags`.expense_tag_id WHERE (`expense_items_expense_tags`.expense_item_id = 6 ) [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM `expense_types` WHERE (`expense_types`.`id` = 1) [0m
  [4;36;1mExpenseTag Load (1.0ms)[0m   [0;1mSELECT * FROM `expense_tags` INNER JOIN `expense_items_expense_tags` ON `expense_tags`.id = `expense_items_expense_tags`.expense_tag_id WHERE (`expense_items_expense_tags`.expense_item_id = 7 ) [0m
  [4;35;1mExpenseType Load (1.0ms)[0m   [0mSELECT * FROM `expense_types` WHERE (`expense_types`.`id` = 2) [0m
  [4;36;1mExpenseTag Load (1.0ms)[0m   [0;1mSELECT * FROM `expense_tags` INNER JOIN `expense_items_expense_tags` ON `expense_tags`.id = `expense_items_expense_tags`.expense_tag_id WHERE (`expense_items_expense_tags`.expense_item_id = 8 ) [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM `expense_types` WHERE (`expense_types`.`id` = 1) [0m
  [4;36;1mExpenseTag Load (0.0ms)[0m   [0;1mSELECT * FROM `expense_tags` INNER JOIN `expense_items_expense_tags` ON `expense_tags`.id = `expense_items_expense_tags`.expense_tag_id WHERE (`expense_items_expense_tags`.expense_item_id = 9 ) [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM `expense_types` WHERE (`expense_types`.`id` = 2) [0m
  [4;36;1mExpenseTag Load (2.0ms)[0m   [0;1mSELECT * FROM `expense_tags` INNER JOIN `expense_items_expense_tags` ON `expense_tags`.id = `expense_items_expense_tags`.expense_tag_id WHERE (`expense_items_expense_tags`.expense_item_id = 10 ) [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM `expense_types` WHERE (`expense_types`.`id` = 1) [0m
  [4;36;1mExpenseTag Load (1.0ms)[0m   [0;1mSELECT * FROM `expense_tags` INNER JOIN `expense_items_expense_tags` ON `expense_tags`.id = `expense_items_expense_tags`.expense_tag_id WHERE (`expense_items_expense_tags`.expense_item_id = 11 ) [0m
Completed in 142ms (View: 71, DB: 61) | 200 OK [http://localhost/expense/2010/5]
  [4;36;1mSQL (0.0ms)[0m   [0;1mSET NAMES 'utf8'[0m
  [4;35;1mSQL (0.0ms)[0m   [0mSET SQL_AUTO_IS_NULL=0[0m
  [4;36;1mSQL (331.0ms)[0m   [0;1mSHOW TABLES[0m
  [4;35;1mSQL (87.0ms)[0m   [0mSELECT version FROM schema_migrations[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mSET NAMES 'utf8'[0m
  [4;35;1mSQL (0.0ms)[0m   [0mSET SQL_AUTO_IS_NULL=0[0m
  [4;36;1mSQL (652.0ms)[0m   [0;1mDROP DATABASE IF EXISTS `finance_test`[0m
  [4;35;1mSQL (3.0ms)[0m   [0mCREATE DATABASE `finance_test` DEFAULT CHARACTER SET `utf8`[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mSET NAMES 'utf8'[0m
  [4;35;1mSQL (1.0ms)[0m   [0mSET SQL_AUTO_IS_NULL=0[0m
  [4;36;1mSQL (15.0ms)[0m   [0;1mSHOW TABLES[0m
  [4;35;1mSQL (196.0ms)[0m   [0mCREATE TABLE `expense_items` (`id` int(11) DEFAULT NULL auto_increment PRIMARY KEY, `date` date NOT NULL, `expense_type_id` int(11) NOT NULL, `value` float NOT NULL, `note` text, `created_at` datetime, `updated_at` datetime) ENGINE=InnoDB[0m
  [4;36;1mSQL (255.0ms)[0m   [0;1mCREATE INDEX `expense_type_foreign_key` ON `expense_items` (`expense_type_id`)[0m
  [4;35;1mSQL (4.0ms)[0m   [0mSHOW TABLES[0m
  [4;36;1mSQL (216.0ms)[0m   [0;1mCREATE TABLE `expense_items_expense_tags` (`expense_item_id` int(11) NOT NULL, `expense_tag_id` int(11) NOT NULL) ENGINE=InnoDB[0m
  [4;35;1mSQL (171.0ms)[0m   [0mCREATE UNIQUE INDEX `index_items_tags` ON `expense_items_expense_tags` (`expense_item_id`, `expense_tag_id`)[0m
  [4;36;1mSQL (132.0ms)[0m   [0;1mCREATE INDEX `index_tags` ON `expense_items_expense_tags` (`expense_item_id`)[0m
  [4;35;1mSQL (158.0ms)[0m   [0mCREATE INDEX `foreign_key_tag_id` ON `expense_items_expense_tags` (`expense_tag_id`)[0m
  [4;36;1mSQL (5.0ms)[0m   [0;1mSHOW TABLES[0m
  [4;35;1mSQL (69.0ms)[0m   [0mCREATE TABLE `expense_tags` (`id` int(11) DEFAULT NULL auto_increment PRIMARY KEY, `name` varchar(255) NOT NULL, `created_at` datetime, `updated_at` datetime) ENGINE=InnoDB[0m
  [4;36;1mSQL (2.0ms)[0m   [0;1mSHOW TABLES[0m
  [4;35;1mSQL (63.0ms)[0m   [0mCREATE TABLE `expense_types` (`id` int(11) DEFAULT NULL auto_increment PRIMARY KEY, `description` varchar(255) NOT NULL, `created_at` datetime, `updated_at` datetime) ENGINE=InnoDB[0m
  [4;36;1mSQL (3.0ms)[0m   [0;1mSHOW TABLES[0m
  [4;35;1mSQL (54.0ms)[0m   [0mCREATE TABLE `schema_migrations` (`version` varchar(255) NOT NULL) ENGINE=InnoDB[0m
  [4;36;1mSQL (125.0ms)[0m   [0;1mCREATE UNIQUE INDEX `unique_schema_migrations` ON `schema_migrations` (`version`)[0m
  [4;35;1mSQL (9.0ms)[0m   [0mSHOW TABLES[0m
  [4;36;1mSQL (1.0ms)[0m   [0;1mSELECT version FROM `schema_migrations`[0m
  [4;35;1mSQL (50.0ms)[0m   [0mINSERT INTO `schema_migrations` (version) VALUES ('20100430145224')[0m
  [4;36;1mSQL (18.0ms)[0m   [0;1mINSERT INTO `schema_migrations` (version) VALUES ('20100422124419')[0m
  [4;35;1mSQL (146.0ms)[0m   [0mINSERT INTO `schema_migrations` (version) VALUES ('20100422125245')[0m
  [4;36;1mSQL (22.0ms)[0m   [0;1mINSERT INTO `schema_migrations` (version) VALUES ('20100422125532')[0m
  [4;35;1mSQL (20.0ms)[0m   [0mINSERT INTO `schema_migrations` (version) VALUES ('20100430075711')[0m
  [4;36;1mSQL (16.0ms)[0m   [0;1mINSERT INTO `schema_migrations` (version) VALUES ('20100430084030')[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mSET NAMES 'utf8'[0m
  [4;35;1mSQL (0.0ms)[0m   [0mSET SQL_AUTO_IS_NULL=0[0m


Processing ExpenseController#index (for 127.0.0.1 at 2010-05-04 22:00:55) [GET]
  [4;36;1mExpenseItem Load (90.0ms)[0m   [0;1mSELECT * FROM `expense_items` WHERE (date BETWEEN '2010-05-01' and '2010-05-31') [0m
Rendering template within layouts/expense
Rendering expense/index
  [4;35;1mExpenseItem Columns (9.0ms)[0m   [0mSHOW FIELDS FROM `expense_items`[0m
  [4;36;1mExpenseType Columns (115.0ms)[0m   [0;1mSHOW FIELDS FROM `expense_types`[0m
  [4;35;1mExpenseType Load (43.0ms)[0m   [0mSELECT * FROM `expense_types` WHERE (`expense_types`.`id` = 1) [0m
  [4;36;1mexpense_items_expense_tags Columns (8.0ms)[0m   [0;1mSHOW FIELDS FROM `expense_items_expense_tags`[0m
  [4;35;1mExpenseTag Load (29.0ms)[0m   [0mSELECT * FROM `expense_tags` INNER JOIN `expense_items_expense_tags` ON `expense_tags`.id = `expense_items_expense_tags`.expense_tag_id WHERE (`expense_items_expense_tags`.expense_item_id = 4 ) [0m
  [4;36;1mExpenseTag Columns (10.0ms)[0m   [0;1mSHOW FIELDS FROM `expense_tags`[0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM `expense_types` WHERE (`expense_types`.`id` = 1) [0m
  [4;36;1mExpenseTag Load (1.0ms)[0m   [0;1mSELECT * FROM `expense_tags` INNER JOIN `expense_items_expense_tags` ON `expense_tags`.id = `expense_items_expense_tags`.expense_tag_id WHERE (`expense_items_expense_tags`.expense_item_id = 5 ) [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM `expense_types` WHERE (`expense_types`.`id` = 1) [0m
  [4;36;1mExpenseTag Load (1.0ms)[0m   [0;1mSELECT * FROM `expense_tags` INNER JOIN `expense_items_expense_tags` ON `expense_tags`.id = `expense_items_expense_tags`.expense_tag_id WHERE (`expense_items_expense_tags`.expense_item_id = 6 ) [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM `expense_types` WHERE (`expense_types`.`id` = 1) [0m
  [4;36;1mExpenseTag Load (0.0ms)[0m   [0;1mSELECT * FROM `expense_tags` INNER JOIN `expense_items_expense_tags` ON `expense_tags`.id = `expense_items_expense_tags`.expense_tag_id WHERE (`expense_items_expense_tags`.expense_item_id = 7 ) [0m
  [4;35;1mExpenseType Load (0.0ms)[0m   [0mSELECT * FROM `expense_types` WHERE (`expense_types`.`id` = 2) [0m
  [4;36;1mExpenseTag Load (1.0ms)[0m   [0;1mSELECT * FROM `expense_tags` INNER JOIN `expense_items_expense_tags` ON `expense_tags`.id = `expense_items_expense_tags`.expense_tag_id WHERE (`expense_items_expense_tags`.expense_item_id = 8 ) [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM `expense_types` WHERE (`expense_types`.`id` = 1) [0m
  [4;36;1mExpenseTag Load (0.0ms)[0m   [0;1mSELECT * FROM `expense_tags` INNER JOIN `expense_items_expense_tags` ON `expense_tags`.id = `expense_items_expense_tags`.expense_tag_id WHERE (`expense_items_expense_tags`.expense_item_id = 9 ) [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM `expense_types` WHERE (`expense_types`.`id` = 2) [0m
  [4;36;1mExpenseTag Load (1.0ms)[0m   [0;1mSELECT * FROM `expense_tags` INNER JOIN `expense_items_expense_tags` ON `expense_tags`.id = `expense_items_expense_tags`.expense_tag_id WHERE (`expense_items_expense_tags`.expense_item_id = 10 ) [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM `expense_types` WHERE (`expense_types`.`id` = 1) [0m
  [4;36;1mExpenseTag Load (1.0ms)[0m   [0;1mSELECT * FROM `expense_tags` INNER JOIN `expense_items_expense_tags` ON `expense_tags`.id = `expense_items_expense_tags`.expense_tag_id WHERE (`expense_items_expense_tags`.expense_item_id = 11 ) [0m
Completed in 6696ms (View: 6198, DB: 309) | 200 OK [http://localhost/expense]
  [4;35;1mSQL (1.0ms)[0m   [0mSET NAMES 'utf8'[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mSET SQL_AUTO_IS_NULL=0[0m


Processing ExpenseController#batch_new (for 127.0.0.1 at 2010-05-04 22:01:06) [GET]
  [4;35;1mExpenseType Load (1.0ms)[0m   [0mSELECT * FROM `expense_types` [0m
  [4;36;1mExpenseType Columns (8.0ms)[0m   [0;1mSHOW FIELDS FROM `expense_types`[0m
Rendering template within layouts/expense
Rendering expense/batch_new
Completed in 636ms (View: 608, DB: 10) | 200 OK [http://localhost/expense/batch_new]
  [4;35;1mSQL (1.0ms)[0m   [0mSET NAMES 'utf8'[0m
  [4;36;1mSQL (1.0ms)[0m   [0;1mSET SQL_AUTO_IS_NULL=0[0m


Processing ExpenseController#batch_create (for 127.0.0.1 at 2010-05-04 22:01:16) [POST]
  Parameters: {"commit"=>"提交", "authenticity_token"=>"cTww+TbHRYOQLcdBklYW2yXD6lpRFpvMXfoCXyEnWyM=", "expense_items"=>{"date_to(1i)"=>"2010", "date_to(2i)"=>"5", "date_to(3i)"=>"5", "value"=>"10", "note"=>"ddd", "expense_type_id"=>"1", "date_from(1i)"=>"2010", "date_from(2i)"=>"5", "date_from(3i)"=>"4"}}
  [4;35;1mExpenseItem Columns (9.0ms)[0m   [0mSHOW FIELDS FROM `expense_items`[0m
  [4;36;1mSQL (6.0ms)[0m   [0;1mBEGIN[0m
  [4;35;1mExpenseItem Create (1.0ms)[0m   [0mINSERT INTO `expense_items` (`updated_at`, `date`, `value`, `expense_type_id`, `note`, `created_at`) VALUES('2010-05-04 14:01:16', '2010-05-04', 10.0, 1, 'ddd', '2010-05-04 14:01:16')[0m
  [4;36;1mSQL (29.0ms)[0m   [0;1mCOMMIT[0m
  [4;35;1mSQL (0.0ms)[0m   [0mBEGIN[0m
  [4;36;1mExpenseItem Create (0.0ms)[0m   [0;1mINSERT INTO `expense_items` (`updated_at`, `date`, `value`, `expense_type_id`, `note`, `created_at`) VALUES('2010-05-04 14:01:17', '2010-05-05', 10.0, 1, 'ddd', '2010-05-04 14:01:17')[0m
  [4;35;1mSQL (18.0ms)[0m   [0mCOMMIT[0m
Redirected to http://localhost:3000/expense/2010/5
Completed in 102ms (DB: 65) | 302 Found [http://localhost/expense/batch_create]
  [4;36;1mSQL (0.0ms)[0m   [0;1mSET NAMES 'utf8'[0m
  [4;35;1mSQL (1.0ms)[0m   [0mSET SQL_AUTO_IS_NULL=0[0m


Processing ExpenseController#index (for 127.0.0.1 at 2010-05-04 22:01:18) [GET]
  Parameters: {"month"=>"5", "year"=>"2010"}
  [4;36;1mExpenseItem Load (1.0ms)[0m   [0;1mSELECT * FROM `expense_items` WHERE (date BETWEEN '2010-05-01' and '2010-05-31') [0m
Rendering template within layouts/expense
Rendering expense/index
  [4;35;1mExpenseItem Columns (9.0ms)[0m   [0mSHOW FIELDS FROM `expense_items`[0m
  [4;36;1mExpenseType Columns (7.0ms)[0m   [0;1mSHOW FIELDS FROM `expense_types`[0m
  [4;35;1mExpenseType Load (8.0ms)[0m   [0mSELECT * FROM `expense_types` WHERE (`expense_types`.`id` = 1) [0m
  [4;36;1mexpense_items_expense_tags Columns (7.0ms)[0m   [0;1mSHOW FIELDS FROM `expense_items_expense_tags`[0m
  [4;35;1mExpenseTag Load (5.0ms)[0m   [0mSELECT * FROM `expense_tags` INNER JOIN `expense_items_expense_tags` ON `expense_tags`.id = `expense_items_expense_tags`.expense_tag_id WHERE (`expense_items_expense_tags`.expense_item_id = 4 ) [0m
  [4;36;1mExpenseTag Columns (37.0ms)[0m   [0;1mSHOW FIELDS FROM `expense_tags`[0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM `expense_types` WHERE (`expense_types`.`id` = 1) [0m
  [4;36;1mExpenseTag Load (12.0ms)[0m   [0;1mSELECT * FROM `expense_tags` INNER JOIN `expense_items_expense_tags` ON `expense_tags`.id = `expense_items_expense_tags`.expense_tag_id WHERE (`expense_items_expense_tags`.expense_item_id = 5 ) [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM `expense_types` WHERE (`expense_types`.`id` = 1) [0m
  [4;36;1mExpenseTag Load (1.0ms)[0m   [0;1mSELECT * FROM `expense_tags` INNER JOIN `expense_items_expense_tags` ON `expense_tags`.id = `expense_items_expense_tags`.expense_tag_id WHERE (`expense_items_expense_tags`.expense_item_id = 6 ) [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM `expense_types` WHERE (`expense_types`.`id` = 1) [0m
  [4;36;1mExpenseTag Load (1.0ms)[0m   [0;1mSELECT * FROM `expense_tags` INNER JOIN `expense_items_expense_tags` ON `expense_tags`.id = `expense_items_expense_tags`.expense_tag_id WHERE (`expense_items_expense_tags`.expense_item_id = 7 ) [0m
  [4;35;1mExpenseType Load (1.0ms)[0m   [0mSELECT * FROM `expense_types` WHERE (`expense_types`.`id` = 2) [0m
  [4;36;1mExpenseTag Load (1.0ms)[0m   [0;1mSELECT * FROM `expense_tags` INNER JOIN `expense_items_expense_tags` ON `expense_tags`.id = `expense_items_expense_tags`.expense_tag_id WHERE (`expense_items_expense_tags`.expense_item_id = 8 ) [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM `expense_types` WHERE (`expense_types`.`id` = 1) [0m
  [4;36;1mExpenseTag Load (1.0ms)[0m   [0;1mSELECT * FROM `expense_tags` INNER JOIN `expense_items_expense_tags` ON `expense_tags`.id = `expense_items_expense_tags`.expense_tag_id WHERE (`expense_items_expense_tags`.expense_item_id = 9 ) [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM `expense_types` WHERE (`expense_types`.`id` = 2) [0m
  [4;36;1mExpenseTag Load (0.0ms)[0m   [0;1mSELECT * FROM `expense_tags` INNER JOIN `expense_items_expense_tags` ON `expense_tags`.id = `expense_items_expense_tags`.expense_tag_id WHERE (`expense_items_expense_tags`.expense_item_id = 10 ) [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM `expense_types` WHERE (`expense_types`.`id` = 1) [0m
  [4;36;1mExpenseTag Load (1.0ms)[0m   [0;1mSELECT * FROM `expense_tags` INNER JOIN `expense_items_expense_tags` ON `expense_tags`.id = `expense_items_expense_tags`.expense_tag_id WHERE (`expense_items_expense_tags`.expense_item_id = 11 ) [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM `expense_types` WHERE (`expense_types`.`id` = 1) [0m
  [4;36;1mExpenseTag Load (1.0ms)[0m   [0;1mSELECT * FROM `expense_tags` INNER JOIN `expense_items_expense_tags` ON `expense_tags`.id = `expense_items_expense_tags`.expense_tag_id WHERE (`expense_items_expense_tags`.expense_item_id = 12 ) [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM `expense_types` WHERE (`expense_types`.`id` = 1) [0m
  [4;36;1mExpenseTag Load (1.0ms)[0m   [0;1mSELECT * FROM `expense_tags` INNER JOIN `expense_items_expense_tags` ON `expense_tags`.id = `expense_items_expense_tags`.expense_tag_id WHERE (`expense_items_expense_tags`.expense_item_id = 13 ) [0m
Completed in 269ms (View: 156, DB: 95) | 200 OK [http://localhost/expense/2010/5]
  [4;35;1mSQL (0.0ms)[0m   [0mSET NAMES 'utf8'[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mSET SQL_AUTO_IS_NULL=0[0m


Processing ExpenseController#unknown_request (for 127.0.0.1 at 2010-05-04 22:40:04) [GET]
  Parameters: {"anything"=>["expensee"]}
Rendering template within layouts/expense
Rendering expense/unknown_request

ActionView::TemplateError (expense_month_url failed to generate from {:action=>"index", :controller=>"expense"} - you may have ambiguous routes, or you may need to supply additional parameters for this route.  content_url has the following required parameters: ["expense", :year, :month] - are they all satisfied?) on line #2 of app/views/expense/unknown_request.html.erb:
1: <h2>抱歉，你请求的页面不存在！</h2>
2: <%= link_to expense_month_path %>

    (eval):16:in `expense_month_path'
    app/views/expense/unknown_request.html.erb:2

Rendered rescues/_trace (198.0ms)
Rendered rescues/_request_and_response (4.0ms)
Rendering rescues/layout (internal_server_error)
  [4;35;1mSQL (1.0ms)[0m   [0mSET NAMES 'utf8'[0m
  [4;36;1mSQL (1.0ms)[0m   [0;1mSET SQL_AUTO_IS_NULL=0[0m


Processing ExpenseController#unknown_request (for 127.0.0.1 at 2010-05-04 22:40:50) [GET]
  Parameters: {"anything"=>["expensee"]}
Rendering template within layouts/expense
Rendering expense/unknown_request
Completed in 21ms (View: 16, DB: 2) | 200 OK [http://localhost/expensee]
  [4;35;1mSQL (0.0ms)[0m   [0mSET NAMES 'utf8'[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mSET SQL_AUTO_IS_NULL=0[0m


Processing ExpenseController#unknown_request (for 127.0.0.1 at 2010-05-04 22:41:17) [GET]
  Parameters: {"anything"=>["expensee"]}
Rendering template within layouts/expense
Rendering expense/unknown_request
Completed in 20ms (View: 17, DB: 0) | 200 OK [http://localhost/expensee]
  [4;35;1mSQL (0.0ms)[0m   [0mSET NAMES 'utf8'[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mSET SQL_AUTO_IS_NULL=0[0m


Processing ExpenseController#index (for 127.0.0.1 at 2010-05-04 22:41:22) [GET]
  Parameters: {"month"=>"5", "year"=>"2010"}
  [4;35;1mExpenseItem Load (1.0ms)[0m   [0mSELECT * FROM `expense_items` WHERE (date BETWEEN '2010-05-01' and '2010-05-31') [0m
Rendering template within layouts/expense
Rendering expense/index

ActionView::TemplateError (No route matches {:action=>"batch_new"}) on line #5 of app/views/expense/index.html.erb:
2:   <h2>花销记录</h2> 
3:   <%= link_to "创建花销记录", new_expense_item_path %>
4:   <%= link_to "管理花销类型", expense_types_path %>
5:   <%= link_to "批量创建花销记录", :action => 'batch_new' %>
6:   <%= link_to_if @previous_month, "上一月", :year => @previous_month.year, :month => @previous_month.month %>
7:   <%= link_to_if @next_month, "下一月", :year => @next_month.year, :month => @next_month.month %>
8:   <p>

    app/views/expense/index.html.erb:5

Rendered rescues/_trace (213.0ms)
Rendered rescues/_request_and_response (1.0ms)
Rendering rescues/layout (internal_server_error)
  [4;36;1mSQL (0.0ms)[0m   [0;1mSET NAMES 'utf8'[0m
  [4;35;1mSQL (1.0ms)[0m   [0mSET SQL_AUTO_IS_NULL=0[0m


Processing ExpenseController#index (for 127.0.0.1 at 2010-05-04 22:43:55) [GET]
  Parameters: {"month"=>"5", "year"=>"2010"}
  [4;36;1mExpenseItem Load (1.0ms)[0m   [0;1mSELECT * FROM `expense_items` WHERE (date BETWEEN '2010-05-01' and '2010-05-31') [0m
Rendering template within layouts/expense
Rendering expense/index

ActionView::TemplateError (No route matches {:action=>"batch_new"}) on line #5 of app/views/expense/index.html.erb:
2:   <h2>花销记录</h2> 
3:   <%= link_to "创建花销记录", new_expense_item_path %>
4:   <%= link_to "管理花销类型", expense_types_path %>
5:   <%= link_to "批量创建花销记录", :action => 'batch_new' %>
6:   <%= link_to_if @previous_month, "上一月", :year => @previous_month.year, :month => @previous_month.month %>
7:   <%= link_to_if @next_month, "下一月", :year => @next_month.year, :month => @next_month.month %>
8:   <p>

    app/views/expense/index.html.erb:5

Rendered rescues/_trace (201.0ms)
Rendered rescues/_request_and_response (1.0ms)
Rendering rescues/layout (internal_server_error)
  [4;35;1mSQL (0.0ms)[0m   [0mSET NAMES 'utf8'[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mSET SQL_AUTO_IS_NULL=0[0m


Processing ApplicationController#index (for 127.0.0.1 at 2010-05-04 22:44:36) [GET]

ActionController::RoutingError (No route matches "/expense" with {:method=>:get}):
  

Rendering rescues/layout (not_found)
  [4;35;1mSQL (0.0ms)[0m   [0mSET NAMES 'utf8'[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mSET SQL_AUTO_IS_NULL=0[0m


Processing ExpenseController#index (for 127.0.0.1 at 2010-05-04 22:45:12) [GET]
  [4;35;1mExpenseItem Load (1.0ms)[0m   [0mSELECT * FROM `expense_items` WHERE (date BETWEEN '2010-05-01' and '2010-05-31') [0m
Rendering template within layouts/expense
Rendering expense/index
  [4;36;1mExpenseItem Columns (9.0ms)[0m   [0;1mSHOW FIELDS FROM `expense_items`[0m
  [4;35;1mExpenseType Columns (31.0ms)[0m   [0mSHOW FIELDS FROM `expense_types`[0m
  [4;36;1mExpenseType Load (12.0ms)[0m   [0;1mSELECT * FROM `expense_types` WHERE (`expense_types`.`id` = 1) [0m
  [4;35;1mexpense_items_expense_tags Columns (9.0ms)[0m   [0mSHOW FIELDS FROM `expense_items_expense_tags`[0m
  [4;36;1mExpenseTag Load (27.0ms)[0m   [0;1mSELECT * FROM `expense_tags` INNER JOIN `expense_items_expense_tags` ON `expense_tags`.id = `expense_items_expense_tags`.expense_tag_id WHERE (`expense_items_expense_tags`.expense_item_id = 4 ) [0m
  [4;35;1mExpenseTag Columns (7.0ms)[0m   [0mSHOW FIELDS FROM `expense_tags`[0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT * FROM `expense_types` WHERE (`expense_types`.`id` = 1) [0m
  [4;35;1mExpenseTag Load (1.0ms)[0m   [0mSELECT * FROM `expense_tags` INNER JOIN `expense_items_expense_tags` ON `expense_tags`.id = `expense_items_expense_tags`.expense_tag_id WHERE (`expense_items_expense_tags`.expense_item_id = 5 ) [0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT * FROM `expense_types` WHERE (`expense_types`.`id` = 1) [0m
  [4;35;1mExpenseTag Load (1.0ms)[0m   [0mSELECT * FROM `expense_tags` INNER JOIN `expense_items_expense_tags` ON `expense_tags`.id = `expense_items_expense_tags`.expense_tag_id WHERE (`expense_items_expense_tags`.expense_item_id = 6 ) [0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT * FROM `expense_types` WHERE (`expense_types`.`id` = 1) [0m
  [4;35;1mExpenseTag Load (1.0ms)[0m   [0mSELECT * FROM `expense_tags` INNER JOIN `expense_items_expense_tags` ON `expense_tags`.id = `expense_items_expense_tags`.expense_tag_id WHERE (`expense_items_expense_tags`.expense_item_id = 7 ) [0m
  [4;36;1mExpenseType Load (1.0ms)[0m   [0;1mSELECT * FROM `expense_types` WHERE (`expense_types`.`id` = 2) [0m
  [4;35;1mExpenseTag Load (1.0ms)[0m   [0mSELECT * FROM `expense_tags` INNER JOIN `expense_items_expense_tags` ON `expense_tags`.id = `expense_items_expense_tags`.expense_tag_id WHERE (`expense_items_expense_tags`.expense_item_id = 8 ) [0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT * FROM `expense_types` WHERE (`expense_types`.`id` = 1) [0m
  [4;35;1mExpenseTag Load (0.0ms)[0m   [0mSELECT * FROM `expense_tags` INNER JOIN `expense_items_expense_tags` ON `expense_tags`.id = `expense_items_expense_tags`.expense_tag_id WHERE (`expense_items_expense_tags`.expense_item_id = 9 ) [0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT * FROM `expense_types` WHERE (`expense_types`.`id` = 2) [0m
  [4;35;1mExpenseTag Load (1.0ms)[0m   [0mSELECT * FROM `expense_tags` INNER JOIN `expense_items_expense_tags` ON `expense_tags`.id = `expense_items_expense_tags`.expense_tag_id WHERE (`expense_items_expense_tags`.expense_item_id = 10 ) [0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT * FROM `expense_types` WHERE (`expense_types`.`id` = 1) [0m
  [4;35;1mExpenseTag Load (1.0ms)[0m   [0mSELECT * FROM `expense_tags` INNER JOIN `expense_items_expense_tags` ON `expense_tags`.id = `expense_items_expense_tags`.expense_tag_id WHERE (`expense_items_expense_tags`.expense_item_id = 11 ) [0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT * FROM `expense_types` WHERE (`expense_types`.`id` = 1) [0m
  [4;35;1mExpenseTag Load (1.0ms)[0m   [0mSELECT * FROM `expense_tags` INNER JOIN `expense_items_expense_tags` ON `expense_tags`.id = `expense_items_expense_tags`.expense_tag_id WHERE (`expense_items_expense_tags`.expense_item_id = 12 ) [0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT * FROM `expense_types` WHERE (`expense_types`.`id` = 1) [0m
  [4;35;1mExpenseTag Load (1.0ms)[0m   [0mSELECT * FROM `expense_tags` INNER JOIN `expense_items_expense_tags` ON `expense_tags`.id = `expense_items_expense_tags`.expense_tag_id WHERE (`expense_items_expense_tags`.expense_item_id = 13 ) [0m
Completed in 274ms (View: 149, DB: 105) | 200 OK [http://localhost/expense]
  [4;36;1mSQL (1.0ms)[0m   [0;1mSET NAMES 'utf8'[0m
  [4;35;1mSQL (0.0ms)[0m   [0mSET SQL_AUTO_IS_NULL=0[0m


Processing ExpenseController#batch_new (for 127.0.0.1 at 2010-05-04 22:45:17) [GET]
  [4;36;1mExpenseType Load (1.0ms)[0m   [0;1mSELECT * FROM `expense_types` [0m
  [4;35;1mExpenseType Columns (10.0ms)[0m   [0mSHOW FIELDS FROM `expense_types`[0m
Rendering template within layouts/expense
Rendering expense/batch_new
Completed in 68ms (View: 38, DB: 12) | 200 OK [http://localhost/expense/batch_new]
  [4;36;1mSQL (1.0ms)[0m   [0;1mSET NAMES 'utf8'[0m
  [4;35;1mSQL (0.0ms)[0m   [0mSET SQL_AUTO_IS_NULL=0[0m


Processing ExpenseController#unknown_request (for 127.0.0.1 at 2010-05-04 22:45:44) [GET]
  Parameters: {"anything"=>["expensee"]}
Rendering template within layouts/expense
Rendering expense/unknown_request
Completed in 10ms (View: 6, DB: 1) | 200 OK [http://localhost/expensee]
  [4;36;1mSQL (1.0ms)[0m   [0;1mSET NAMES 'utf8'[0m
  [4;35;1mSQL (0.0ms)[0m   [0mSET SQL_AUTO_IS_NULL=0[0m


Processing ExpenseController#index (for 127.0.0.1 at 2010-05-04 22:45:48) [GET]
  Parameters: {"month"=>"5", "year"=>"2010"}
  [4;36;1mExpenseItem Load (2.0ms)[0m   [0;1mSELECT * FROM `expense_items` WHERE (date BETWEEN '2010-05-01' and '2010-05-31') [0m
Rendering template within layouts/expense
Rendering expense/index
  [4;35;1mExpenseItem Columns (9.0ms)[0m   [0mSHOW FIELDS FROM `expense_items`[0m
  [4;36;1mExpenseType Columns (7.0ms)[0m   [0;1mSHOW FIELDS FROM `expense_types`[0m
  [4;35;1mExpenseType Load (9.0ms)[0m   [0mSELECT * FROM `expense_types` WHERE (`expense_types`.`id` = 1) [0m
  [4;36;1mexpense_items_expense_tags Columns (7.0ms)[0m   [0;1mSHOW FIELDS FROM `expense_items_expense_tags`[0m
  [4;35;1mExpenseTag Load (6.0ms)[0m   [0mSELECT * FROM `expense_tags` INNER JOIN `expense_items_expense_tags` ON `expense_tags`.id = `expense_items_expense_tags`.expense_tag_id WHERE (`expense_items_expense_tags`.expense_item_id = 4 ) [0m
  [4;36;1mExpenseTag Columns (6.0ms)[0m   [0;1mSHOW FIELDS FROM `expense_tags`[0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM `expense_types` WHERE (`expense_types`.`id` = 1) [0m
  [4;36;1mExpenseTag Load (1.0ms)[0m   [0;1mSELECT * FROM `expense_tags` INNER JOIN `expense_items_expense_tags` ON `expense_tags`.id = `expense_items_expense_tags`.expense_tag_id WHERE (`expense_items_expense_tags`.expense_item_id = 5 ) [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM `expense_types` WHERE (`expense_types`.`id` = 1) [0m
  [4;36;1mExpenseTag Load (1.0ms)[0m   [0;1mSELECT * FROM `expense_tags` INNER JOIN `expense_items_expense_tags` ON `expense_tags`.id = `expense_items_expense_tags`.expense_tag_id WHERE (`expense_items_expense_tags`.expense_item_id = 6 ) [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM `expense_types` WHERE (`expense_types`.`id` = 1) [0m
  [4;36;1mExpenseTag Load (0.0ms)[0m   [0;1mSELECT * FROM `expense_tags` INNER JOIN `expense_items_expense_tags` ON `expense_tags`.id = `expense_items_expense_tags`.expense_tag_id WHERE (`expense_items_expense_tags`.expense_item_id = 7 ) [0m
  [4;35;1mExpenseType Load (1.0ms)[0m   [0mSELECT * FROM `expense_types` WHERE (`expense_types`.`id` = 2) [0m
  [4;36;1mExpenseTag Load (0.0ms)[0m   [0;1mSELECT * FROM `expense_tags` INNER JOIN `expense_items_expense_tags` ON `expense_tags`.id = `expense_items_expense_tags`.expense_tag_id WHERE (`expense_items_expense_tags`.expense_item_id = 8 ) [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM `expense_types` WHERE (`expense_types`.`id` = 1) [0m
  [4;36;1mExpenseTag Load (1.0ms)[0m   [0;1mSELECT * FROM `expense_tags` INNER JOIN `expense_items_expense_tags` ON `expense_tags`.id = `expense_items_expense_tags`.expense_tag_id WHERE (`expense_items_expense_tags`.expense_item_id = 9 ) [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM `expense_types` WHERE (`expense_types`.`id` = 2) [0m
  [4;36;1mExpenseTag Load (1.0ms)[0m   [0;1mSELECT * FROM `expense_tags` INNER JOIN `expense_items_expense_tags` ON `expense_tags`.id = `expense_items_expense_tags`.expense_tag_id WHERE (`expense_items_expense_tags`.expense_item_id = 10 ) [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM `expense_types` WHERE (`expense_types`.`id` = 1) [0m
  [4;36;1mExpenseTag Load (1.0ms)[0m   [0;1mSELECT * FROM `expense_tags` INNER JOIN `expense_items_expense_tags` ON `expense_tags`.id = `expense_items_expense_tags`.expense_tag_id WHERE (`expense_items_expense_tags`.expense_item_id = 11 ) [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM `expense_types` WHERE (`expense_types`.`id` = 1) [0m
  [4;36;1mExpenseTag Load (1.0ms)[0m   [0;1mSELECT * FROM `expense_tags` INNER JOIN `expense_items_expense_tags` ON `expense_tags`.id = `expense_items_expense_tags`.expense_tag_id WHERE (`expense_items_expense_tags`.expense_item_id = 12 ) [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM `expense_types` WHERE (`expense_types`.`id` = 1) [0m
  [4;36;1mExpenseTag Load (1.0ms)[0m   [0;1mSELECT * FROM `expense_tags` INNER JOIN `expense_items_expense_tags` ON `expense_tags`.id = `expense_items_expense_tags`.expense_tag_id WHERE (`expense_items_expense_tags`.expense_item_id = 13 ) [0m
Completed in 225ms (View: 150, DB: 55) | 200 OK [http://localhost/expense/2010/5]
  [4;35;1mSQL (1.0ms)[0m   [0mSET NAMES 'utf8'[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mSET SQL_AUTO_IS_NULL=0[0m


Processing ExpenseItemsController#new (for 127.0.0.1 at 2010-05-04 22:59:12) [GET]
  [4;35;1mExpenseItem Columns (6.0ms)[0m   [0mSHOW FIELDS FROM `expense_items`[0m
  [4;36;1mExpenseType Load (1.0ms)[0m   [0;1mSELECT * FROM `expense_types` [0m
  [4;35;1mExpenseType Columns (4.0ms)[0m   [0mSHOW FIELDS FROM `expense_types`[0m
  [4;36;1mExpenseTag Load (1.0ms)[0m   [0;1mSELECT * FROM `expense_tags` [0m
Rendering template within layouts/expense_items
Rendering expense_items/new
  [4;35;1mExpenseTag Columns (4.0ms)[0m   [0mSHOW FIELDS FROM `expense_tags`[0m
Completed in 126ms (View: 81, DB: 17) | 200 OK [http://localhost/expense_items/new]
  [4;36;1mSQL (136.0ms)[0m   [0;1mSET NAMES 'utf8'[0m
  [4;35;1mSQL (45.0ms)[0m   [0mSET SQL_AUTO_IS_NULL=0[0m


Processing ExpenseController#index (for 127.0.0.1 at 2010-05-08 11:39:47) [GET]
  [4;36;1mExpenseItem Load (919.1ms)[0m   [0;1mSELECT * FROM `expense_items` WHERE (date BETWEEN '2010-05-01' and '2010-05-31') [0m
Rendering template within layouts/expense
Rendering expense/index
  [4;35;1mExpenseItem Columns (230.0ms)[0m   [0mSHOW FIELDS FROM `expense_items`[0m
  [4;36;1mExpenseType Columns (30.0ms)[0m   [0;1mSHOW FIELDS FROM `expense_types`[0m
  [4;35;1mExpenseType Load (51.0ms)[0m   [0mSELECT * FROM `expense_types` WHERE (`expense_types`.`id` = 1) [0m
  [4;36;1mexpense_items_expense_tags Columns (15.0ms)[0m   [0;1mSHOW FIELDS FROM `expense_items_expense_tags`[0m
  [4;35;1mExpenseTag Load (45.0ms)[0m   [0mSELECT * FROM `expense_tags` INNER JOIN `expense_items_expense_tags` ON `expense_tags`.id = `expense_items_expense_tags`.expense_tag_id WHERE (`expense_items_expense_tags`.expense_item_id = 4 ) [0m
  [4;36;1mExpenseTag Columns (21.0ms)[0m   [0;1mSHOW FIELDS FROM `expense_tags`[0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM `expense_types` WHERE (`expense_types`.`id` = 1) [0m
  [4;36;1mExpenseTag Load (1.0ms)[0m   [0;1mSELECT * FROM `expense_tags` INNER JOIN `expense_items_expense_tags` ON `expense_tags`.id = `expense_items_expense_tags`.expense_tag_id WHERE (`expense_items_expense_tags`.expense_item_id = 5 ) [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM `expense_types` WHERE (`expense_types`.`id` = 1) [0m
  [4;36;1mExpenseTag Load (1.0ms)[0m   [0;1mSELECT * FROM `expense_tags` INNER JOIN `expense_items_expense_tags` ON `expense_tags`.id = `expense_items_expense_tags`.expense_tag_id WHERE (`expense_items_expense_tags`.expense_item_id = 6 ) [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM `expense_types` WHERE (`expense_types`.`id` = 1) [0m
  [4;36;1mExpenseTag Load (0.0ms)[0m   [0;1mSELECT * FROM `expense_tags` INNER JOIN `expense_items_expense_tags` ON `expense_tags`.id = `expense_items_expense_tags`.expense_tag_id WHERE (`expense_items_expense_tags`.expense_item_id = 7 ) [0m
  [4;35;1mExpenseType Load (0.0ms)[0m   [0mSELECT * FROM `expense_types` WHERE (`expense_types`.`id` = 2) [0m
  [4;36;1mExpenseTag Load (1.0ms)[0m   [0;1mSELECT * FROM `expense_tags` INNER JOIN `expense_items_expense_tags` ON `expense_tags`.id = `expense_items_expense_tags`.expense_tag_id WHERE (`expense_items_expense_tags`.expense_item_id = 8 ) [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM `expense_types` WHERE (`expense_types`.`id` = 1) [0m
  [4;36;1mExpenseTag Load (1.0ms)[0m   [0;1mSELECT * FROM `expense_tags` INNER JOIN `expense_items_expense_tags` ON `expense_tags`.id = `expense_items_expense_tags`.expense_tag_id WHERE (`expense_items_expense_tags`.expense_item_id = 9 ) [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM `expense_types` WHERE (`expense_types`.`id` = 2) [0m
  [4;36;1mExpenseTag Load (0.0ms)[0m   [0;1mSELECT * FROM `expense_tags` INNER JOIN `expense_items_expense_tags` ON `expense_tags`.id = `expense_items_expense_tags`.expense_tag_id WHERE (`expense_items_expense_tags`.expense_item_id = 10 ) [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM `expense_types` WHERE (`expense_types`.`id` = 1) [0m
  [4;36;1mExpenseTag Load (1.0ms)[0m   [0;1mSELECT * FROM `expense_tags` INNER JOIN `expense_items_expense_tags` ON `expense_tags`.id = `expense_items_expense_tags`.expense_tag_id WHERE (`expense_items_expense_tags`.expense_item_id = 11 ) [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM `expense_types` WHERE (`expense_types`.`id` = 1) [0m
  [4;36;1mExpenseTag Load (1.0ms)[0m   [0;1mSELECT * FROM `expense_tags` INNER JOIN `expense_items_expense_tags` ON `expense_tags`.id = `expense_items_expense_tags`.expense_tag_id WHERE (`expense_items_expense_tags`.expense_item_id = 12 ) [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM `expense_types` WHERE (`expense_types`.`id` = 1) [0m
  [4;36;1mExpenseTag Load (0.0ms)[0m   [0;1mSELECT * FROM `expense_tags` INNER JOIN `expense_items_expense_tags` ON `expense_tags`.id = `expense_items_expense_tags`.expense_tag_id WHERE (`expense_items_expense_tags`.expense_item_id = 13 ) [0m
Completed in 5030ms (View: 3475, DB: 1498) | 200 OK [http://localhost/expense]
  [4;36;1mSQL (1.0ms)[0m   [0;1mSET NAMES 'utf8'[0m
  [4;35;1mSQL (0.0ms)[0m   [0mSET SQL_AUTO_IS_NULL=0[0m
  [4;36;1mExpenseItem Columns (5.0ms)[0m   [0;1mSHOW FIELDS FROM `expense_items`[0m
  [4;35;1mExpenseType Load (2.0ms)[0m   [0mSELECT * FROM `expense_types` [0m
  [4;36;1mExpenseType Columns (7.0ms)[0m   [0;1mSHOW FIELDS FROM `expense_types`[0m
DEPRECATION WARNING: ActiveRecord::Errors.default_error_messages has been deprecated. Please use I18n.translate('activerecord.errors.messages').. (called from default_error_messages at d:/Ruby/lib/ruby/gems/1.8/gems/activerecord-2.3.5/lib/active_record/validations.rb:136)
  [4;36;1mSQL (0.0ms)[0m   [0;1mSET NAMES 'utf8'[0m
  [4;35;1mSQL (0.0ms)[0m   [0mSET SQL_AUTO_IS_NULL=0[0m
  [4;36;1mExpenseItem Columns (5.0ms)[0m   [0;1mSHOW FIELDS FROM `expense_items`[0m
  [4;35;1mExpenseType Columns (9.0ms)[0m   [0mSHOW FIELDS FROM `expense_types`[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mSET NAMES 'utf8'[0m
  [4;35;1mSQL (0.0ms)[0m   [0mSET SQL_AUTO_IS_NULL=0[0m
  [4;36;1mExpenseItem Columns (5.0ms)[0m   [0;1mSHOW FIELDS FROM `expense_items`[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mSET NAMES 'utf8'[0m
  [4;35;1mSQL (0.0ms)[0m   [0mSET SQL_AUTO_IS_NULL=0[0m
  [4;36;1mExpenseItem Columns (5.0ms)[0m   [0;1mSHOW FIELDS FROM `expense_items`[0m
  [4;35;1mExpenseType Columns (9.0ms)[0m   [0mSHOW FIELDS FROM `expense_types`[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mSET NAMES 'utf8'[0m
  [4;35;1mSQL (0.0ms)[0m   [0mSET SQL_AUTO_IS_NULL=0[0m
  [4;36;1mExpenseType Columns (4.0ms)[0m   [0;1mSHOW FIELDS FROM `expense_types`[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mSET NAMES 'utf8'[0m
  [4;35;1mSQL (0.0ms)[0m   [0mSET SQL_AUTO_IS_NULL=0[0m
  [4;36;1mSQL (1.0ms)[0m   [0;1mSHOW TABLES[0m
  [4;35;1mSQL (32.0ms)[0m   [0mSELECT version FROM schema_migrations[0m
  [4;36;1mSQL (1.0ms)[0m   [0;1mSET NAMES 'utf8'[0m
  [4;35;1mSQL (0.0ms)[0m   [0mSET SQL_AUTO_IS_NULL=0[0m
  [4;36;1mSQL (686.0ms)[0m   [0;1mDROP DATABASE IF EXISTS `finance_test`[0m
  [4;35;1mSQL (3.0ms)[0m   [0mCREATE DATABASE `finance_test` DEFAULT CHARACTER SET `utf8`[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mSET NAMES 'utf8'[0m
  [4;35;1mSQL (0.0ms)[0m   [0mSET SQL_AUTO_IS_NULL=0[0m
  [4;36;1mSQL (4.0ms)[0m   [0;1mSHOW TABLES[0m
  [4;35;1mSQL (196.0ms)[0m   [0mCREATE TABLE `expense_items` (`id` int(11) DEFAULT NULL auto_increment PRIMARY KEY, `date` date NOT NULL, `expense_type_id` int(11) NOT NULL, `value` float NOT NULL, `note` text, `created_at` datetime, `updated_at` datetime) ENGINE=InnoDB[0m
  [4;36;1mSQL (244.0ms)[0m   [0;1mCREATE INDEX `expense_type_foreign_key` ON `expense_items` (`expense_type_id`)[0m
  [4;35;1mSQL (4.0ms)[0m   [0mSHOW TABLES[0m
  [4;36;1mSQL (116.0ms)[0m   [0;1mCREATE TABLE `expense_items_expense_tags` (`expense_item_id` int(11) NOT NULL, `expense_tag_id` int(11) NOT NULL) ENGINE=InnoDB[0m
  [4;35;1mSQL (132.0ms)[0m   [0mCREATE UNIQUE INDEX `index_items_tags` ON `expense_items_expense_tags` (`expense_item_id`, `expense_tag_id`)[0m
  [4;36;1mSQL (184.0ms)[0m   [0;1mCREATE INDEX `index_tags` ON `expense_items_expense_tags` (`expense_item_id`)[0m
  [4;35;1mSQL (132.0ms)[0m   [0mCREATE INDEX `foreign_key_tag_id` ON `expense_items_expense_tags` (`expense_tag_id`)[0m
  [4;36;1mSQL (3.0ms)[0m   [0;1mSHOW TABLES[0m
  [4;35;1mSQL (53.0ms)[0m   [0mCREATE TABLE `expense_tags` (`id` int(11) DEFAULT NULL auto_increment PRIMARY KEY, `name` varchar(255) NOT NULL, `created_at` datetime, `updated_at` datetime) ENGINE=InnoDB[0m
  [4;36;1mSQL (1.0ms)[0m   [0;1mSHOW TABLES[0m
  [4;35;1mSQL (55.0ms)[0m   [0mCREATE TABLE `expense_types` (`id` int(11) DEFAULT NULL auto_increment PRIMARY KEY, `description` varchar(255) NOT NULL, `created_at` datetime, `updated_at` datetime) ENGINE=InnoDB[0m
  [4;36;1mSQL (2.0ms)[0m   [0;1mSHOW TABLES[0m
  [4;35;1mSQL (46.0ms)[0m   [0mCREATE TABLE `schema_migrations` (`version` varchar(255) NOT NULL) ENGINE=InnoDB[0m
  [4;36;1mSQL (202.0ms)[0m   [0;1mCREATE UNIQUE INDEX `unique_schema_migrations` ON `schema_migrations` (`version`)[0m
  [4;35;1mSQL (8.0ms)[0m   [0mSHOW TABLES[0m
  [4;36;1mSQL (1.0ms)[0m   [0;1mSELECT version FROM `schema_migrations`[0m
  [4;35;1mSQL (21.0ms)[0m   [0mINSERT INTO `schema_migrations` (version) VALUES ('20100430145224')[0m
  [4;36;1mSQL (14.0ms)[0m   [0;1mINSERT INTO `schema_migrations` (version) VALUES ('20100422124419')[0m
  [4;35;1mSQL (16.0ms)[0m   [0mINSERT INTO `schema_migrations` (version) VALUES ('20100422125245')[0m
  [4;36;1mSQL (17.0ms)[0m   [0;1mINSERT INTO `schema_migrations` (version) VALUES ('20100422125532')[0m
  [4;35;1mSQL (16.0ms)[0m   [0mINSERT INTO `schema_migrations` (version) VALUES ('20100430075711')[0m
  [4;36;1mSQL (16.0ms)[0m   [0;1mINSERT INTO `schema_migrations` (version) VALUES ('20100430084030')[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mSET NAMES 'utf8'[0m
  [4;35;1mSQL (0.0ms)[0m   [0mSET SQL_AUTO_IS_NULL=0[0m
  [4;36;1mSQL (2.0ms)[0m   [0;1mSHOW TABLES[0m
  [4;35;1mSQL (0.0ms)[0m   [0mSELECT version FROM schema_migrations[0m
  [4;36;1mSQL (1.0ms)[0m   [0;1mSET NAMES 'utf8'[0m
  [4;35;1mSQL (0.0ms)[0m   [0mSET SQL_AUTO_IS_NULL=0[0m
  [4;36;1mSQL (117.0ms)[0m   [0;1mDROP DATABASE IF EXISTS `finance_test`[0m
  [4;35;1mSQL (3.0ms)[0m   [0mCREATE DATABASE `finance_test` DEFAULT CHARACTER SET `utf8`[0m
  [4;36;1mSQL (1.0ms)[0m   [0;1mSET NAMES 'utf8'[0m
  [4;35;1mSQL (0.0ms)[0m   [0mSET SQL_AUTO_IS_NULL=0[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mSHOW TABLES[0m
  [4;35;1mSQL (84.0ms)[0m   [0mCREATE TABLE `expense_items` (`id` int(11) DEFAULT NULL auto_increment PRIMARY KEY, `date` date NOT NULL, `expense_type_id` int(11) NOT NULL, `value` float NOT NULL, `note` text, `created_at` datetime, `updated_at` datetime) ENGINE=InnoDB[0m
  [4;36;1mSQL (174.0ms)[0m   [0;1mCREATE INDEX `expense_type_foreign_key` ON `expense_items` (`expense_type_id`)[0m
  [4;35;1mSQL (4.0ms)[0m   [0mSHOW TABLES[0m
  [4;36;1mSQL (77.0ms)[0m   [0;1mCREATE TABLE `expense_items_expense_tags` (`expense_item_id` int(11) NOT NULL, `expense_tag_id` int(11) NOT NULL) ENGINE=InnoDB[0m
  [4;35;1mSQL (250.0ms)[0m   [0mCREATE UNIQUE INDEX `index_items_tags` ON `expense_items_expense_tags` (`expense_item_id`, `expense_tag_id`)[0m
  [4;36;1mSQL (165.0ms)[0m   [0;1mCREATE INDEX `index_tags` ON `expense_items_expense_tags` (`expense_item_id`)[0m
  [4;35;1mSQL (124.0ms)[0m   [0mCREATE INDEX `foreign_key_tag_id` ON `expense_items_expense_tags` (`expense_tag_id`)[0m
  [4;36;1mSQL (4.0ms)[0m   [0;1mSHOW TABLES[0m
  [4;35;1mSQL (89.0ms)[0m   [0mCREATE TABLE `expense_tags` (`id` int(11) DEFAULT NULL auto_increment PRIMARY KEY, `name` varchar(255) NOT NULL, `created_at` datetime, `updated_at` datetime) ENGINE=InnoDB[0m
  [4;36;1mSQL (2.0ms)[0m   [0;1mSHOW TABLES[0m
  [4;35;1mSQL (100.0ms)[0m   [0mCREATE TABLE `expense_types` (`id` int(11) DEFAULT NULL auto_increment PRIMARY KEY, `description` varchar(255) NOT NULL, `created_at` datetime, `updated_at` datetime) ENGINE=InnoDB[0m
  [4;36;1mSQL (2.0ms)[0m   [0;1mSHOW TABLES[0m
  [4;35;1mSQL (63.0ms)[0m   [0mCREATE TABLE `schema_migrations` (`version` varchar(255) NOT NULL) ENGINE=InnoDB[0m
  [4;36;1mSQL (125.0ms)[0m   [0;1mCREATE UNIQUE INDEX `unique_schema_migrations` ON `schema_migrations` (`version`)[0m
  [4;35;1mSQL (8.0ms)[0m   [0mSHOW TABLES[0m
  [4;36;1mSQL (1.0ms)[0m   [0;1mSELECT version FROM `schema_migrations`[0m
  [4;35;1mSQL (12.0ms)[0m   [0mINSERT INTO `schema_migrations` (version) VALUES ('20100430145224')[0m
  [4;36;1mSQL (16.0ms)[0m   [0;1mINSERT INTO `schema_migrations` (version) VALUES ('20100422124419')[0m
  [4;35;1mSQL (16.0ms)[0m   [0mINSERT INTO `schema_migrations` (version) VALUES ('20100422125245')[0m
  [4;36;1mSQL (16.0ms)[0m   [0;1mINSERT INTO `schema_migrations` (version) VALUES ('20100422125532')[0m
  [4;35;1mSQL (24.0ms)[0m   [0mINSERT INTO `schema_migrations` (version) VALUES ('20100430075711')[0m
  [4;36;1mSQL (16.0ms)[0m   [0;1mINSERT INTO `schema_migrations` (version) VALUES ('20100430084030')[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mSET NAMES 'utf8'[0m
  [4;35;1mSQL (0.0ms)[0m   [0mSET SQL_AUTO_IS_NULL=0[0m
  [4;36;1mSQL (2.0ms)[0m   [0;1mSHOW TABLES[0m
  [4;35;1mSQL (1.0ms)[0m   [0mSELECT version FROM schema_migrations[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mSET NAMES 'utf8'[0m
  [4;35;1mSQL (0.0ms)[0m   [0mSET SQL_AUTO_IS_NULL=0[0m
  [4;36;1mSQL (202.0ms)[0m   [0;1mDROP DATABASE IF EXISTS `finance_test`[0m
  [4;35;1mSQL (3.0ms)[0m   [0mCREATE DATABASE `finance_test` DEFAULT CHARACTER SET `utf8`[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mSET NAMES 'utf8'[0m
  [4;35;1mSQL (1.0ms)[0m   [0mSET SQL_AUTO_IS_NULL=0[0m
  [4;36;1mSQL (1.0ms)[0m   [0;1mSHOW TABLES[0m
  [4;35;1mSQL (87.0ms)[0m   [0mCREATE TABLE `expense_items` (`id` int(11) DEFAULT NULL auto_increment PRIMARY KEY, `date` date NOT NULL, `expense_type_id` int(11) NOT NULL, `value` float NOT NULL, `note` text, `created_at` datetime, `updated_at` datetime) ENGINE=InnoDB[0m
  [4;36;1mSQL (199.0ms)[0m   [0;1mCREATE INDEX `expense_type_foreign_key` ON `expense_items` (`expense_type_id`)[0m
  [4;35;1mSQL (4.0ms)[0m   [0mSHOW TABLES[0m
  [4;36;1mSQL (62.0ms)[0m   [0;1mCREATE TABLE `expense_items_expense_tags` (`expense_item_id` int(11) NOT NULL, `expense_tag_id` int(11) NOT NULL) ENGINE=InnoDB[0m
  [4;35;1mSQL (142.0ms)[0m   [0mCREATE UNIQUE INDEX `index_items_tags` ON `expense_items_expense_tags` (`expense_item_id`, `expense_tag_id`)[0m
  [4;36;1mSQL (174.0ms)[0m   [0;1mCREATE INDEX `index_tags` ON `expense_items_expense_tags` (`expense_item_id`)[0m
  [4;35;1mSQL (207.0ms)[0m   [0mCREATE INDEX `foreign_key_tag_id` ON `expense_items_expense_tags` (`expense_tag_id`)[0m
  [4;36;1mSQL (4.0ms)[0m   [0;1mSHOW TABLES[0m
  [4;35;1mSQL (60.0ms)[0m   [0mCREATE TABLE `expense_tags` (`id` int(11) DEFAULT NULL auto_increment PRIMARY KEY, `name` varchar(255) NOT NULL, `created_at` datetime, `updated_at` datetime) ENGINE=InnoDB[0m
  [4;36;1mSQL (2.0ms)[0m   [0;1mSHOW TABLES[0m
  [4;35;1mSQL (75.0ms)[0m   [0mCREATE TABLE `expense_types` (`id` int(11) DEFAULT NULL auto_increment PRIMARY KEY, `description` varchar(255) NOT NULL, `created_at` datetime, `updated_at` datetime) ENGINE=InnoDB[0m
  [4;36;1mSQL (2.0ms)[0m   [0;1mSHOW TABLES[0m
  [4;35;1mSQL (75.0ms)[0m   [0mCREATE TABLE `schema_migrations` (`version` varchar(255) NOT NULL) ENGINE=InnoDB[0m
  [4;36;1mSQL (224.0ms)[0m   [0;1mCREATE UNIQUE INDEX `unique_schema_migrations` ON `schema_migrations` (`version`)[0m
  [4;35;1mSQL (8.0ms)[0m   [0mSHOW TABLES[0m
  [4;36;1mSQL (1.0ms)[0m   [0;1mSELECT version FROM `schema_migrations`[0m
  [4;35;1mSQL (22.0ms)[0m   [0mINSERT INTO `schema_migrations` (version) VALUES ('20100430145224')[0m
  [4;36;1mSQL (24.0ms)[0m   [0;1mINSERT INTO `schema_migrations` (version) VALUES ('20100422124419')[0m
  [4;35;1mSQL (17.0ms)[0m   [0mINSERT INTO `schema_migrations` (version) VALUES ('20100422125245')[0m
  [4;36;1mSQL (16.0ms)[0m   [0;1mINSERT INTO `schema_migrations` (version) VALUES ('20100422125532')[0m
  [4;35;1mSQL (16.0ms)[0m   [0mINSERT INTO `schema_migrations` (version) VALUES ('20100430075711')[0m
  [4;36;1mSQL (17.0ms)[0m   [0;1mINSERT INTO `schema_migrations` (version) VALUES ('20100430084030')[0m
  [4;35;1mSQL (0.0ms)[0m   [0mSET NAMES 'utf8'[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mSET SQL_AUTO_IS_NULL=0[0m


Processing ExpenseController#index (for 127.0.0.1 at 2010-05-08 18:01:35) [GET]
  [4;35;1mExpenseItem Load (40.0ms)[0m   [0mSELECT * FROM `expense_items` WHERE (date BETWEEN '2010-05-01' and '2010-05-31') [0m
Rendering template within layouts/expense
Rendering expense/index
  [4;36;1mExpenseItem Columns (8.0ms)[0m   [0;1mSHOW FIELDS FROM `expense_items`[0m
  [4;35;1mExpenseType Columns (5.0ms)[0m   [0mSHOW FIELDS FROM `expense_types`[0m
  [4;36;1mExpenseType Load (17.0ms)[0m   [0;1mSELECT * FROM `expense_types` WHERE (`expense_types`.`id` = 1) [0m
  [4;35;1mexpense_items_expense_tags Columns (4.0ms)[0m   [0mSHOW FIELDS FROM `expense_items_expense_tags`[0m
  [4;36;1mExpenseTag Load (11.0ms)[0m   [0;1mSELECT * FROM `expense_tags` INNER JOIN `expense_items_expense_tags` ON `expense_tags`.id = `expense_items_expense_tags`.expense_tag_id WHERE (`expense_items_expense_tags`.expense_item_id = 4 ) [0m
  [4;35;1mExpenseTag Columns (3.0ms)[0m   [0mSHOW FIELDS FROM `expense_tags`[0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT * FROM `expense_types` WHERE (`expense_types`.`id` = 1) [0m
  [4;35;1mExpenseTag Load (0.0ms)[0m   [0mSELECT * FROM `expense_tags` INNER JOIN `expense_items_expense_tags` ON `expense_tags`.id = `expense_items_expense_tags`.expense_tag_id WHERE (`expense_items_expense_tags`.expense_item_id = 5 ) [0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT * FROM `expense_types` WHERE (`expense_types`.`id` = 1) [0m
  [4;35;1mExpenseTag Load (1.0ms)[0m   [0mSELECT * FROM `expense_tags` INNER JOIN `expense_items_expense_tags` ON `expense_tags`.id = `expense_items_expense_tags`.expense_tag_id WHERE (`expense_items_expense_tags`.expense_item_id = 6 ) [0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT * FROM `expense_types` WHERE (`expense_types`.`id` = 1) [0m
  [4;35;1mExpenseTag Load (1.0ms)[0m   [0mSELECT * FROM `expense_tags` INNER JOIN `expense_items_expense_tags` ON `expense_tags`.id = `expense_items_expense_tags`.expense_tag_id WHERE (`expense_items_expense_tags`.expense_item_id = 7 ) [0m
  [4;36;1mExpenseType Load (1.0ms)[0m   [0;1mSELECT * FROM `expense_types` WHERE (`expense_types`.`id` = 2) [0m
  [4;35;1mExpenseTag Load (0.0ms)[0m   [0mSELECT * FROM `expense_tags` INNER JOIN `expense_items_expense_tags` ON `expense_tags`.id = `expense_items_expense_tags`.expense_tag_id WHERE (`expense_items_expense_tags`.expense_item_id = 8 ) [0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT * FROM `expense_types` WHERE (`expense_types`.`id` = 1) [0m
  [4;35;1mExpenseTag Load (0.0ms)[0m   [0mSELECT * FROM `expense_tags` INNER JOIN `expense_items_expense_tags` ON `expense_tags`.id = `expense_items_expense_tags`.expense_tag_id WHERE (`expense_items_expense_tags`.expense_item_id = 9 ) [0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT * FROM `expense_types` WHERE (`expense_types`.`id` = 2) [0m
  [4;35;1mExpenseTag Load (0.0ms)[0m   [0mSELECT * FROM `expense_tags` INNER JOIN `expense_items_expense_tags` ON `expense_tags`.id = `expense_items_expense_tags`.expense_tag_id WHERE (`expense_items_expense_tags`.expense_item_id = 10 ) [0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT * FROM `expense_types` WHERE (`expense_types`.`id` = 1) [0m
  [4;35;1mExpenseTag Load (1.0ms)[0m   [0mSELECT * FROM `expense_tags` INNER JOIN `expense_items_expense_tags` ON `expense_tags`.id = `expense_items_expense_tags`.expense_tag_id WHERE (`expense_items_expense_tags`.expense_item_id = 11 ) [0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT * FROM `expense_types` WHERE (`expense_types`.`id` = 1) [0m
  [4;35;1mExpenseTag Load (1.0ms)[0m   [0mSELECT * FROM `expense_tags` INNER JOIN `expense_items_expense_tags` ON `expense_tags`.id = `expense_items_expense_tags`.expense_tag_id WHERE (`expense_items_expense_tags`.expense_item_id = 12 ) [0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT * FROM `expense_types` WHERE (`expense_types`.`id` = 1) [0m
  [4;35;1mExpenseTag Load (0.0ms)[0m   [0mSELECT * FROM `expense_tags` INNER JOIN `expense_items_expense_tags` ON `expense_tags`.id = `expense_items_expense_tags`.expense_tag_id WHERE (`expense_items_expense_tags`.expense_item_id = 13 ) [0m
Completed in 1517ms (View: 999, DB: 93) | 200 OK [http://localhost/expense]
  [4;36;1mSQL (0.0ms)[0m   [0;1mSET NAMES 'utf8'[0m
  [4;35;1mSQL (0.0ms)[0m   [0mSET SQL_AUTO_IS_NULL=0[0m


Processing ExpenseItemsController#new (for 127.0.0.1 at 2010-05-08 18:02:11) [GET]
  [4;36;1mExpenseItem Columns (15.0ms)[0m   [0;1mSHOW FIELDS FROM `expense_items`[0m
  [4;35;1mExpenseType Load (1.0ms)[0m   [0mSELECT * FROM `expense_types` [0m
  [4;36;1mExpenseType Columns (4.0ms)[0m   [0;1mSHOW FIELDS FROM `expense_types`[0m
  [4;35;1mExpenseTag Load (1.0ms)[0m   [0mSELECT * FROM `expense_tags` [0m
Rendering template within layouts/expense_items
Rendering expense_items/new
  [4;36;1mExpenseTag Columns (4.0ms)[0m   [0;1mSHOW FIELDS FROM `expense_tags`[0m
Completed in 1113ms (View: 979, DB: 25) | 200 OK [http://localhost/expense_items/new]
  [4;35;1mSQL (0.0ms)[0m   [0mSET NAMES 'utf8'[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mSET SQL_AUTO_IS_NULL=0[0m


Processing ExpenseItemsController#create (for 127.0.0.1 at 2010-05-08 18:02:34) [POST]
  Parameters: {"commit"=>"创建", "authenticity_token"=>"OAWpnpeqCmaSJmR6DS+5ZG15lrtheyx+gjP76sx5EE4=", "expense_item"=>{"date(1i)"=>"2010", "date(2i)"=>"5", "date(3i)"=>"8", "value"=>"20", "tag_names"=>"", "note"=>"哈哈哈", "expense_type_id"=>"1"}}
  [4;35;1mExpenseItem Columns (5.0ms)[0m   [0mSHOW FIELDS FROM `expense_items`[0m
  [4;36;1mSQL (2.0ms)[0m   [0;1mBEGIN[0m
  [4;35;1mExpenseItem Create (1.0ms)[0m   [0mINSERT INTO `expense_items` (`updated_at`, `date`, `value`, `expense_type_id`, `note`, `created_at`) VALUES('2010-05-08 10:02:34', '2010-05-08', 20.0, 1, '哈哈哈', '2010-05-08 10:02:34')[0m
  [4;36;1mexpense_items_expense_tags Columns (4.0ms)[0m   [0;1mSHOW FIELDS FROM `expense_items_expense_tags`[0m
  [4;35;1mExpenseTag Load (4.0ms)[0m   [0mSELECT * FROM `expense_tags` INNER JOIN `expense_items_expense_tags` ON `expense_tags`.id = `expense_items_expense_tags`.expense_tag_id WHERE (`expense_items_expense_tags`.expense_item_id = 14 ) [0m
  [4;36;1mSQL (48.0ms)[0m   [0;1mCOMMIT[0m
Redirected to http://localhost:3000/expense/2010/5
Completed in 88ms (DB: 64) | 302 Found [http://localhost/expense_items]
  [4;35;1mSQL (1.0ms)[0m   [0mSET NAMES 'utf8'[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mSET SQL_AUTO_IS_NULL=0[0m


Processing ExpenseController#index (for 127.0.0.1 at 2010-05-08 18:02:35) [GET]
  Parameters: {"month"=>"5", "year"=>"2010"}
  [4;35;1mExpenseItem Load (0.0ms)[0m   [0mSELECT * FROM `expense_items` WHERE (date BETWEEN '2010-05-01' and '2010-05-31') [0m
Rendering template within layouts/expense
Rendering expense/index
  [4;36;1mExpenseItem Columns (5.0ms)[0m   [0;1mSHOW FIELDS FROM `expense_items`[0m
  [4;35;1mExpenseType Columns (3.0ms)[0m   [0mSHOW FIELDS FROM `expense_types`[0m
  [4;36;1mExpenseType Load (5.0ms)[0m   [0;1mSELECT * FROM `expense_types` WHERE (`expense_types`.`id` = 1) [0m
  [4;35;1mexpense_items_expense_tags Columns (4.0ms)[0m   [0mSHOW FIELDS FROM `expense_items_expense_tags`[0m
  [4;36;1mExpenseTag Load (3.0ms)[0m   [0;1mSELECT * FROM `expense_tags` INNER JOIN `expense_items_expense_tags` ON `expense_tags`.id = `expense_items_expense_tags`.expense_tag_id WHERE (`expense_items_expense_tags`.expense_item_id = 4 ) [0m
  [4;35;1mExpenseTag Columns (4.0ms)[0m   [0mSHOW FIELDS FROM `expense_tags`[0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT * FROM `expense_types` WHERE (`expense_types`.`id` = 1) [0m
  [4;35;1mExpenseTag Load (7.0ms)[0m   [0mSELECT * FROM `expense_tags` INNER JOIN `expense_items_expense_tags` ON `expense_tags`.id = `expense_items_expense_tags`.expense_tag_id WHERE (`expense_items_expense_tags`.expense_item_id = 5 ) [0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT * FROM `expense_types` WHERE (`expense_types`.`id` = 1) [0m
  [4;35;1mExpenseTag Load (1.0ms)[0m   [0mSELECT * FROM `expense_tags` INNER JOIN `expense_items_expense_tags` ON `expense_tags`.id = `expense_items_expense_tags`.expense_tag_id WHERE (`expense_items_expense_tags`.expense_item_id = 6 ) [0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT * FROM `expense_types` WHERE (`expense_types`.`id` = 1) [0m
  [4;35;1mExpenseTag Load (0.0ms)[0m   [0mSELECT * FROM `expense_tags` INNER JOIN `expense_items_expense_tags` ON `expense_tags`.id = `expense_items_expense_tags`.expense_tag_id WHERE (`expense_items_expense_tags`.expense_item_id = 7 ) [0m
  [4;36;1mExpenseType Load (0.0ms)[0m   [0;1mSELECT * FROM `expense_types` WHERE (`expense_types`.`id` = 2) [0m
  [4;35;1mExpenseTag Load (1.0ms)[0m   [0mSELECT * FROM `expense_tags` INNER JOIN `expense_items_expense_tags` ON `expense_tags`.id = `expense_items_expense_tags`.expense_tag_id WHERE (`expense_items_expense_tags`.expense_item_id = 8 ) [0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT * FROM `expense_types` WHERE (`expense_types`.`id` = 1) [0m
  [4;35;1mExpenseTag Load (1.0ms)[0m   [0mSELECT * FROM `expense_tags` INNER JOIN `expense_items_expense_tags` ON `expense_tags`.id = `expense_items_expense_tags`.expense_tag_id WHERE (`expense_items_expense_tags`.expense_item_id = 9 ) [0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT * FROM `expense_types` WHERE (`expense_types`.`id` = 2) [0m
  [4;35;1mExpenseTag Load (1.0ms)[0m   [0mSELECT * FROM `expense_tags` INNER JOIN `expense_items_expense_tags` ON `expense_tags`.id = `expense_items_expense_tags`.expense_tag_id WHERE (`expense_items_expense_tags`.expense_item_id = 10 ) [0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT * FROM `expense_types` WHERE (`expense_types`.`id` = 1) [0m
  [4;35;1mExpenseTag Load (0.0ms)[0m   [0mSELECT * FROM `expense_tags` INNER JOIN `expense_items_expense_tags` ON `expense_tags`.id = `expense_items_expense_tags`.expense_tag_id WHERE (`expense_items_expense_tags`.expense_item_id = 11 ) [0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT * FROM `expense_types` WHERE (`expense_types`.`id` = 1) [0m
  [4;35;1mExpenseTag Load (1.0ms)[0m   [0mSELECT * FROM `expense_tags` INNER JOIN `expense_items_expense_tags` ON `expense_tags`.id = `expense_items_expense_tags`.expense_tag_id WHERE (`expense_items_expense_tags`.expense_item_id = 12 ) [0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT * FROM `expense_types` WHERE (`expense_types`.`id` = 1) [0m
  [4;35;1mExpenseTag Load (0.0ms)[0m   [0mSELECT * FROM `expense_tags` INNER JOIN `expense_items_expense_tags` ON `expense_tags`.id = `expense_items_expense_tags`.expense_tag_id WHERE (`expense_items_expense_tags`.expense_item_id = 13 ) [0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT * FROM `expense_types` WHERE (`expense_types`.`id` = 1) [0m
  [4;35;1mExpenseTag Load (0.0ms)[0m   [0mSELECT * FROM `expense_tags` INNER JOIN `expense_items_expense_tags` ON `expense_tags`.id = `expense_items_expense_tags`.expense_tag_id WHERE (`expense_items_expense_tags`.expense_item_id = 14 ) [0m
Completed in 179ms (View: 130, DB: 37) | 200 OK [http://localhost/expense/2010/5]
  [4;36;1mSQL (1.0ms)[0m   [0;1mSET NAMES 'utf8'[0m
  [4;35;1mSQL (0.0ms)[0m   [0mSET SQL_AUTO_IS_NULL=0[0m


Processing ExpenseItemsController#new (for 127.0.0.1 at 2010-05-08 22:15:44) [GET]
  [4;36;1mExpenseItem Columns (5.0ms)[0m   [0;1mSHOW FIELDS FROM `expense_items`[0m
  [4;35;1mExpenseType Load (0.0ms)[0m   [0mSELECT * FROM `expense_types` [0m
  [4;36;1mExpenseType Columns (3.0ms)[0m   [0;1mSHOW FIELDS FROM `expense_types`[0m
  [4;35;1mExpenseTag Load (1.0ms)[0m   [0mSELECT * FROM `expense_tags` [0m
Rendering template within layouts/expense_items
Rendering expense_items/new
  [4;36;1mExpenseTag Columns (4.0ms)[0m   [0;1mSHOW FIELDS FROM `expense_tags`[0m
Completed in 59ms (View: 19, DB: 14) | 200 OK [http://localhost/expense_items/new]
  [4;35;1mSQL (1.0ms)[0m   [0mSET NAMES 'utf8'[0m
  [4;36;1mSQL (1.0ms)[0m   [0;1mSET SQL_AUTO_IS_NULL=0[0m


Processing ExpenseItemsController#create (for 127.0.0.1 at 2010-05-08 22:15:54) [POST]
  Parameters: {"commit"=>"创建", "authenticity_token"=>"OAWpnpeqCmaSJmR6DS+5ZG15lrtheyx+gjP76sx5EE4=", "expense_item"=>{"date(1i)"=>"2010", "date(2i)"=>"5", "date(3i)"=>"8", "value"=>"11", "tag_names"=>"", "note"=>"多对对", "expense_type_id"=>"3"}}
  [4;35;1mExpenseItem Columns (5.0ms)[0m   [0mSHOW FIELDS FROM `expense_items`[0m
  [4;36;1mSQL (3.0ms)[0m   [0;1mBEGIN[0m
  [4;35;1mExpenseItem Create (0.0ms)[0m   [0mINSERT INTO `expense_items` (`updated_at`, `date`, `value`, `expense_type_id`, `note`, `created_at`) VALUES('2010-05-08 14:15:54', '2010-05-08', 11.0, 3, '多对对', '2010-05-08 14:15:54')[0m
  [4;36;1mexpense_items_expense_tags Columns (4.0ms)[0m   [0;1mSHOW FIELDS FROM `expense_items_expense_tags`[0m
  [4;35;1mExpenseTag Load (2.0ms)[0m   [0mSELECT * FROM `expense_tags` INNER JOIN `expense_items_expense_tags` ON `expense_tags`.id = `expense_items_expense_tags`.expense_tag_id WHERE (`expense_items_expense_tags`.expense_item_id = 15 ) [0m
  [4;36;1mSQL (30.0ms)[0m   [0;1mCOMMIT[0m
Redirected to http://localhost:3000/expense/2010/5
Completed in 70ms (DB: 46) | 302 Found [http://localhost/expense_items]
  [4;35;1mSQL (0.0ms)[0m   [0mSET NAMES 'utf8'[0m
  [4;36;1mSQL (1.0ms)[0m   [0;1mSET SQL_AUTO_IS_NULL=0[0m


Processing ExpenseController#index (for 127.0.0.1 at 2010-05-08 22:15:55) [GET]
  Parameters: {"month"=>"5", "year"=>"2010"}
  [4;35;1mExpenseItem Load (1.0ms)[0m   [0mSELECT * FROM `expense_items` WHERE (date BETWEEN '2010-05-01' and '2010-05-31') [0m
Rendering template within layouts/expense
Rendering expense/index
  [4;36;1mExpenseItem Columns (5.0ms)[0m   [0;1mSHOW FIELDS FROM `expense_items`[0m
  [4;35;1mExpenseType Columns (4.0ms)[0m   [0mSHOW FIELDS FROM `expense_types`[0m
  [4;36;1mExpenseType Load (6.0ms)[0m   [0;1mSELECT * FROM `expense_types` WHERE (`expense_types`.`id` = 1) [0m
  [4;35;1mexpense_items_expense_tags Columns (3.0ms)[0m   [0mSHOW FIELDS FROM `expense_items_expense_tags`[0m
  [4;36;1mExpenseTag Load (3.0ms)[0m   [0;1mSELECT * FROM `expense_tags` INNER JOIN `expense_items_expense_tags` ON `expense_tags`.id = `expense_items_expense_tags`.expense_tag_id WHERE (`expense_items_expense_tags`.expense_item_id = 4 ) [0m
  [4;35;1mExpenseTag Columns (4.0ms)[0m   [0mSHOW FIELDS FROM `expense_tags`[0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT * FROM `expense_types` WHERE (`expense_types`.`id` = 1) [0m
  [4;35;1mExpenseTag Load (0.0ms)[0m   [0mSELECT * FROM `expense_tags` INNER JOIN `expense_items_expense_tags` ON `expense_tags`.id = `expense_items_expense_tags`.expense_tag_id WHERE (`expense_items_expense_tags`.expense_item_id = 5 ) [0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT * FROM `expense_types` WHERE (`expense_types`.`id` = 1) [0m
  [4;35;1mExpenseTag Load (0.0ms)[0m   [0mSELECT * FROM `expense_tags` INNER JOIN `expense_items_expense_tags` ON `expense_tags`.id = `expense_items_expense_tags`.expense_tag_id WHERE (`expense_items_expense_tags`.expense_item_id = 6 ) [0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT * FROM `expense_types` WHERE (`expense_types`.`id` = 1) [0m
  [4;35;1mExpenseTag Load (0.0ms)[0m   [0mSELECT * FROM `expense_tags` INNER JOIN `expense_items_expense_tags` ON `expense_tags`.id = `expense_items_expense_tags`.expense_tag_id WHERE (`expense_items_expense_tags`.expense_item_id = 7 ) [0m
  [4;36;1mExpenseType Load (0.0ms)[0m   [0;1mSELECT * FROM `expense_types` WHERE (`expense_types`.`id` = 2) [0m
  [4;35;1mExpenseTag Load (0.0ms)[0m   [0mSELECT * FROM `expense_tags` INNER JOIN `expense_items_expense_tags` ON `expense_tags`.id = `expense_items_expense_tags`.expense_tag_id WHERE (`expense_items_expense_tags`.expense_item_id = 8 ) [0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT * FROM `expense_types` WHERE (`expense_types`.`id` = 1) [0m
  [4;35;1mExpenseTag Load (11.0ms)[0m   [0mSELECT * FROM `expense_tags` INNER JOIN `expense_items_expense_tags` ON `expense_tags`.id = `expense_items_expense_tags`.expense_tag_id WHERE (`expense_items_expense_tags`.expense_item_id = 9 ) [0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT * FROM `expense_types` WHERE (`expense_types`.`id` = 2) [0m
  [4;35;1mExpenseTag Load (1.0ms)[0m   [0mSELECT * FROM `expense_tags` INNER JOIN `expense_items_expense_tags` ON `expense_tags`.id = `expense_items_expense_tags`.expense_tag_id WHERE (`expense_items_expense_tags`.expense_item_id = 10 ) [0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT * FROM `expense_types` WHERE (`expense_types`.`id` = 1) [0m
  [4;35;1mExpenseTag Load (0.0ms)[0m   [0mSELECT * FROM `expense_tags` INNER JOIN `expense_items_expense_tags` ON `expense_tags`.id = `expense_items_expense_tags`.expense_tag_id WHERE (`expense_items_expense_tags`.expense_item_id = 11 ) [0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT * FROM `expense_types` WHERE (`expense_types`.`id` = 1) [0m
  [4;35;1mExpenseTag Load (1.0ms)[0m   [0mSELECT * FROM `expense_tags` INNER JOIN `expense_items_expense_tags` ON `expense_tags`.id = `expense_items_expense_tags`.expense_tag_id WHERE (`expense_items_expense_tags`.expense_item_id = 12 ) [0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT * FROM `expense_types` WHERE (`expense_types`.`id` = 1) [0m
  [4;35;1mExpenseTag Load (1.0ms)[0m   [0mSELECT * FROM `expense_tags` INNER JOIN `expense_items_expense_tags` ON `expense_tags`.id = `expense_items_expense_tags`.expense_tag_id WHERE (`expense_items_expense_tags`.expense_item_id = 13 ) [0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT * FROM `expense_types` WHERE (`expense_types`.`id` = 1) [0m
  [4;35;1mExpenseTag Load (1.0ms)[0m   [0mSELECT * FROM `expense_tags` INNER JOIN `expense_items_expense_tags` ON `expense_tags`.id = `expense_items_expense_tags`.expense_tag_id WHERE (`expense_items_expense_tags`.expense_item_id = 14 ) [0m
  [4;36;1mExpenseType Load (0.0ms)[0m   [0;1mSELECT * FROM `expense_types` WHERE (`expense_types`.`id` = 3) [0m
  [4;35;1mExpenseTag Load (0.0ms)[0m   [0mSELECT * FROM `expense_tags` INNER JOIN `expense_items_expense_tags` ON `expense_tags`.id = `expense_items_expense_tags`.expense_tag_id WHERE (`expense_items_expense_tags`.expense_item_id = 15 ) [0m
Completed in 200ms (View: 137, DB: 42) | 200 OK [http://localhost/expense/2010/5]
  [4;36;1mSQL (0.0ms)[0m   [0;1mSET NAMES 'utf8'[0m
  [4;35;1mSQL (0.0ms)[0m   [0mSET SQL_AUTO_IS_NULL=0[0m
  [4;36;1mSQL (2.0ms)[0m   [0;1mSHOW TABLES[0m
  [4;35;1mSQL (1.0ms)[0m   [0mSELECT version FROM schema_migrations[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mSET NAMES 'utf8'[0m
  [4;35;1mSQL (1.0ms)[0m   [0mSET SQL_AUTO_IS_NULL=0[0m
  [4;36;1mSQL (139.0ms)[0m   [0;1mDROP DATABASE IF EXISTS `finance_test`[0m
  [4;35;1mSQL (3.0ms)[0m   [0mCREATE DATABASE `finance_test` DEFAULT CHARACTER SET `utf8`[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mSET NAMES 'utf8'[0m
  [4;35;1mSQL (0.0ms)[0m   [0mSET SQL_AUTO_IS_NULL=0[0m
  [4;36;1mSQL (1.0ms)[0m   [0;1mSHOW TABLES[0m
  [4;35;1mSQL (62.0ms)[0m   [0mCREATE TABLE `expense_items` (`id` int(11) DEFAULT NULL auto_increment PRIMARY KEY, `date` date NOT NULL, `expense_type_id` int(11) NOT NULL, `value` float NOT NULL, `note` text, `created_at` datetime, `updated_at` datetime) ENGINE=InnoDB[0m
  [4;36;1mSQL (132.0ms)[0m   [0;1mCREATE INDEX `expense_type_foreign_key` ON `expense_items` (`expense_type_id`)[0m
  [4;35;1mSQL (4.0ms)[0m   [0mSHOW TABLES[0m
  [4;36;1mSQL (61.0ms)[0m   [0;1mCREATE TABLE `expense_items_expense_tags` (`expense_item_id` int(11) NOT NULL, `expense_tag_id` int(11) NOT NULL) ENGINE=InnoDB[0m
  [4;35;1mSQL (174.0ms)[0m   [0mCREATE UNIQUE INDEX `index_items_tags` ON `expense_items_expense_tags` (`expense_item_id`, `expense_tag_id`)[0m
  [4;36;1mSQL (174.0ms)[0m   [0;1mCREATE INDEX `index_tags` ON `expense_items_expense_tags` (`expense_item_id`)[0m
  [4;35;1mSQL (182.0ms)[0m   [0mCREATE INDEX `foreign_key_tag_id` ON `expense_items_expense_tags` (`expense_tag_id`)[0m
  [4;36;1mSQL (4.0ms)[0m   [0;1mSHOW TABLES[0m
  [4;35;1mSQL (60.0ms)[0m   [0mCREATE TABLE `expense_tags` (`id` int(11) DEFAULT NULL auto_increment PRIMARY KEY, `name` varchar(255) NOT NULL, `created_at` datetime, `updated_at` datetime) ENGINE=InnoDB[0m
  [4;36;1mSQL (2.0ms)[0m   [0;1mSHOW TABLES[0m
  [4;35;1mSQL (63.0ms)[0m   [0mCREATE TABLE `expense_types` (`id` int(11) DEFAULT NULL auto_increment PRIMARY KEY, `description` varchar(255) NOT NULL, `created_at` datetime, `updated_at` datetime) ENGINE=InnoDB[0m
  [4;36;1mSQL (2.0ms)[0m   [0;1mSHOW TABLES[0m
  [4;35;1mSQL (62.0ms)[0m   [0mCREATE TABLE `schema_migrations` (`version` varchar(255) NOT NULL) ENGINE=InnoDB[0m
  [4;36;1mSQL (125.0ms)[0m   [0;1mCREATE UNIQUE INDEX `unique_schema_migrations` ON `schema_migrations` (`version`)[0m
  [4;35;1mSQL (8.0ms)[0m   [0mSHOW TABLES[0m
  [4;36;1mSQL (1.0ms)[0m   [0;1mSELECT version FROM `schema_migrations`[0m
  [4;35;1mSQL (30.0ms)[0m   [0mINSERT INTO `schema_migrations` (version) VALUES ('20100430145224')[0m
  [4;36;1mSQL (16.0ms)[0m   [0;1mINSERT INTO `schema_migrations` (version) VALUES ('20100422124419')[0m
  [4;35;1mSQL (16.0ms)[0m   [0mINSERT INTO `schema_migrations` (version) VALUES ('20100422125245')[0m
  [4;36;1mSQL (16.0ms)[0m   [0;1mINSERT INTO `schema_migrations` (version) VALUES ('20100422125532')[0m
  [4;35;1mSQL (17.0ms)[0m   [0mINSERT INTO `schema_migrations` (version) VALUES ('20100430075711')[0m
  [4;36;1mSQL (16.0ms)[0m   [0;1mINSERT INTO `schema_migrations` (version) VALUES ('20100430084030')[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mSET NAMES 'utf8'[0m
  [4;35;1mSQL (0.0ms)[0m   [0mSET SQL_AUTO_IS_NULL=0[0m
  [4;36;1mSQL (2.0ms)[0m   [0;1mSHOW TABLES[0m
  [4;35;1mSQL (0.0ms)[0m   [0mSELECT version FROM schema_migrations[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mSET NAMES 'utf8'[0m
  [4;35;1mSQL (0.0ms)[0m   [0mSET SQL_AUTO_IS_NULL=0[0m
  [4;36;1mSQL (155.0ms)[0m   [0;1mDROP DATABASE IF EXISTS `finance_test`[0m
  [4;35;1mSQL (2.0ms)[0m   [0mCREATE DATABASE `finance_test` DEFAULT CHARACTER SET `utf8`[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mSET NAMES 'utf8'[0m
  [4;35;1mSQL (0.0ms)[0m   [0mSET SQL_AUTO_IS_NULL=0[0m
  [4;36;1mSQL (1.0ms)[0m   [0;1mSHOW TABLES[0m
  [4;35;1mSQL (65.0ms)[0m   [0mCREATE TABLE `expense_items` (`id` int(11) DEFAULT NULL auto_increment PRIMARY KEY, `date` date NOT NULL, `expense_type_id` int(11) NOT NULL, `value` float NOT NULL, `note` text, `created_at` datetime, `updated_at` datetime) ENGINE=InnoDB[0m
  [4;36;1mSQL (307.0ms)[0m   [0;1mCREATE INDEX `expense_type_foreign_key` ON `expense_items` (`expense_type_id`)[0m
  [4;35;1mSQL (4.0ms)[0m   [0mSHOW TABLES[0m
  [4;36;1mSQL (88.0ms)[0m   [0;1mCREATE TABLE `expense_items_expense_tags` (`expense_item_id` int(11) NOT NULL, `expense_tag_id` int(11) NOT NULL) ENGINE=InnoDB[0m
  [4;35;1mSQL (141.0ms)[0m   [0mCREATE UNIQUE INDEX `index_items_tags` ON `expense_items_expense_tags` (`expense_item_id`, `expense_tag_id`)[0m
  [4;36;1mSQL (133.0ms)[0m   [0;1mCREATE INDEX `index_tags` ON `expense_items_expense_tags` (`expense_item_id`)[0m
  [4;35;1mSQL (174.0ms)[0m   [0mCREATE INDEX `foreign_key_tag_id` ON `expense_items_expense_tags` (`expense_tag_id`)[0m
  [4;36;1mSQL (4.0ms)[0m   [0;1mSHOW TABLES[0m
  [4;35;1mSQL (60.0ms)[0m   [0mCREATE TABLE `expense_tags` (`id` int(11) DEFAULT NULL auto_increment PRIMARY KEY, `name` varchar(255) NOT NULL, `created_at` datetime, `updated_at` datetime) ENGINE=InnoDB[0m
  [4;36;1mSQL (2.0ms)[0m   [0;1mSHOW TABLES[0m
  [4;35;1mSQL (46.0ms)[0m   [0mCREATE TABLE `expense_types` (`id` int(11) DEFAULT NULL auto_increment PRIMARY KEY, `description` varchar(255) NOT NULL, `created_at` datetime, `updated_at` datetime) ENGINE=InnoDB[0m
  [4;36;1mSQL (2.0ms)[0m   [0;1mSHOW TABLES[0m
  [4;35;1mSQL (55.0ms)[0m   [0mCREATE TABLE `schema_migrations` (`version` varchar(255) NOT NULL) ENGINE=InnoDB[0m
  [4;36;1mSQL (234.0ms)[0m   [0;1mCREATE UNIQUE INDEX `unique_schema_migrations` ON `schema_migrations` (`version`)[0m
  [4;35;1mSQL (8.0ms)[0m   [0mSHOW TABLES[0m
  [4;36;1mSQL (1.0ms)[0m   [0;1mSELECT version FROM `schema_migrations`[0m
  [4;35;1mSQL (16.0ms)[0m   [0mINSERT INTO `schema_migrations` (version) VALUES ('20100430145224')[0m
  [4;36;1mSQL (16.0ms)[0m   [0;1mINSERT INTO `schema_migrations` (version) VALUES ('20100422124419')[0m
  [4;35;1mSQL (14.0ms)[0m   [0mINSERT INTO `schema_migrations` (version) VALUES ('20100422125245')[0m
  [4;36;1mSQL (19.0ms)[0m   [0;1mINSERT INTO `schema_migrations` (version) VALUES ('20100422125532')[0m
  [4;35;1mSQL (16.0ms)[0m   [0mINSERT INTO `schema_migrations` (version) VALUES ('20100430075711')[0m
  [4;36;1mSQL (17.0ms)[0m   [0;1mINSERT INTO `schema_migrations` (version) VALUES ('20100430084030')[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mSET NAMES 'utf8'[0m
  [4;35;1mSQL (0.0ms)[0m   [0mSET SQL_AUTO_IS_NULL=0[0m
  [4;36;1mSQL (1.0ms)[0m   [0;1mSHOW TABLES[0m
  [4;35;1mSQL (0.0ms)[0m   [0mSELECT version FROM schema_migrations[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mSET NAMES 'utf8'[0m
  [4;35;1mSQL (1.0ms)[0m   [0mSET SQL_AUTO_IS_NULL=0[0m
  [4;36;1mSQL (137.0ms)[0m   [0;1mDROP DATABASE IF EXISTS `finance_test`[0m
  [4;35;1mSQL (3.0ms)[0m   [0mCREATE DATABASE `finance_test` DEFAULT CHARACTER SET `utf8`[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mSET NAMES 'utf8'[0m
  [4;35;1mSQL (0.0ms)[0m   [0mSET SQL_AUTO_IS_NULL=0[0m
  [4;36;1mSQL (1.0ms)[0m   [0;1mSHOW TABLES[0m
  [4;35;1mSQL (52.0ms)[0m   [0mCREATE TABLE `expense_items` (`id` int(11) DEFAULT NULL auto_increment PRIMARY KEY, `date` date NOT NULL, `expense_type_id` int(11) NOT NULL, `value` float NOT NULL, `note` text, `created_at` datetime, `updated_at` datetime) ENGINE=InnoDB[0m
  [4;36;1mSQL (183.0ms)[0m   [0;1mCREATE INDEX `expense_type_foreign_key` ON `expense_items` (`expense_type_id`)[0m
  [4;35;1mSQL (4.0ms)[0m   [0mSHOW TABLES[0m
  [4;36;1mSQL (55.0ms)[0m   [0;1mCREATE TABLE `expense_items_expense_tags` (`expense_item_id` int(11) NOT NULL, `expense_tag_id` int(11) NOT NULL) ENGINE=InnoDB[0m
  [4;35;1mSQL (116.0ms)[0m   [0mCREATE UNIQUE INDEX `index_items_tags` ON `expense_items_expense_tags` (`expense_item_id`, `expense_tag_id`)[0m
  [4;36;1mSQL (123.0ms)[0m   [0;1mCREATE INDEX `index_tags` ON `expense_items_expense_tags` (`expense_item_id`)[0m
  [4;35;1mSQL (125.0ms)[0m   [0mCREATE INDEX `foreign_key_tag_id` ON `expense_items_expense_tags` (`expense_tag_id`)[0m
  [4;36;1mSQL (4.0ms)[0m   [0;1mSHOW TABLES[0m
  [4;35;1mSQL (60.0ms)[0m   [0mCREATE TABLE `expense_tags` (`id` int(11) DEFAULT NULL auto_increment PRIMARY KEY, `name` varchar(255) NOT NULL, `created_at` datetime, `updated_at` datetime) ENGINE=InnoDB[0m
  [4;36;1mSQL (2.0ms)[0m   [0;1mSHOW TABLES[0m
  [4;35;1mSQL (63.0ms)[0m   [0mCREATE TABLE `expense_types` (`id` int(11) DEFAULT NULL auto_increment PRIMARY KEY, `description` varchar(255) NOT NULL, `created_at` datetime, `updated_at` datetime) ENGINE=InnoDB[0m
  [4;36;1mSQL (2.0ms)[0m   [0;1mSHOW TABLES[0m
  [4;35;1mSQL (50.0ms)[0m   [0mCREATE TABLE `schema_migrations` (`version` varchar(255) NOT NULL) ENGINE=InnoDB[0m
  [4;36;1mSQL (112.0ms)[0m   [0;1mCREATE UNIQUE INDEX `unique_schema_migrations` ON `schema_migrations` (`version`)[0m
  [4;35;1mSQL (7.0ms)[0m   [0mSHOW TABLES[0m
  [4;36;1mSQL (2.0ms)[0m   [0;1mSELECT version FROM `schema_migrations`[0m
  [4;35;1mSQL (17.0ms)[0m   [0mINSERT INTO `schema_migrations` (version) VALUES ('20100430145224')[0m
  [4;36;1mSQL (16.0ms)[0m   [0;1mINSERT INTO `schema_migrations` (version) VALUES ('20100422124419')[0m
  [4;35;1mSQL (16.0ms)[0m   [0mINSERT INTO `schema_migrations` (version) VALUES ('20100422125245')[0m
  [4;36;1mSQL (16.0ms)[0m   [0;1mINSERT INTO `schema_migrations` (version) VALUES ('20100422125532')[0m
  [4;35;1mSQL (21.0ms)[0m   [0mINSERT INTO `schema_migrations` (version) VALUES ('20100430075711')[0m
  [4;36;1mSQL (20.0ms)[0m   [0;1mINSERT INTO `schema_migrations` (version) VALUES ('20100430084030')[0m
  [4;36;1mSQL (1.0ms)[0m   [0;1mSET NAMES 'utf8'[0m
  [4;35;1mSQL (0.0ms)[0m   [0mSET SQL_AUTO_IS_NULL=0[0m
  [4;36;1mSQL (2.0ms)[0m   [0;1mSHOW TABLES[0m
  [4;35;1mSQL (1.0ms)[0m   [0mSELECT version FROM schema_migrations[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mSET NAMES 'utf8'[0m
  [4;35;1mSQL (0.0ms)[0m   [0mSET SQL_AUTO_IS_NULL=0[0m
  [4;36;1mSQL (112.0ms)[0m   [0;1mDROP DATABASE IF EXISTS `finance_test`[0m
  [4;35;1mSQL (3.0ms)[0m   [0mCREATE DATABASE `finance_test` DEFAULT CHARACTER SET `utf8`[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mSET NAMES 'utf8'[0m
  [4;35;1mSQL (0.0ms)[0m   [0mSET SQL_AUTO_IS_NULL=0[0m
  [4;36;1mSQL (1.0ms)[0m   [0;1mSHOW TABLES[0m
  [4;35;1mSQL (52.0ms)[0m   [0mCREATE TABLE `expense_items` (`id` int(11) DEFAULT NULL auto_increment PRIMARY KEY, `date` date NOT NULL, `expense_type_id` int(11) NOT NULL, `value` float NOT NULL, `note` text, `created_at` datetime, `updated_at` datetime) ENGINE=InnoDB[0m
  [4;36;1mSQL (174.0ms)[0m   [0;1mCREATE INDEX `expense_type_foreign_key` ON `expense_items` (`expense_type_id`)[0m
  [4;35;1mSQL (4.0ms)[0m   [0mSHOW TABLES[0m
  [4;36;1mSQL (48.0ms)[0m   [0;1mCREATE TABLE `expense_items_expense_tags` (`expense_item_id` int(11) NOT NULL, `expense_tag_id` int(11) NOT NULL) ENGINE=InnoDB[0m
  [4;35;1mSQL (133.0ms)[0m   [0mCREATE UNIQUE INDEX `index_items_tags` ON `expense_items_expense_tags` (`expense_item_id`, `expense_tag_id`)[0m
  [4;36;1mSQL (183.0ms)[0m   [0;1mCREATE INDEX `index_tags` ON `expense_items_expense_tags` (`expense_item_id`)[0m
  [4;35;1mSQL (141.0ms)[0m   [0mCREATE INDEX `foreign_key_tag_id` ON `expense_items_expense_tags` (`expense_tag_id`)[0m
  [4;36;1mSQL (4.0ms)[0m   [0;1mSHOW TABLES[0m
  [4;35;1mSQL (69.0ms)[0m   [0mCREATE TABLE `expense_tags` (`id` int(11) DEFAULT NULL auto_increment PRIMARY KEY, `name` varchar(255) NOT NULL, `created_at` datetime, `updated_at` datetime) ENGINE=InnoDB[0m
  [4;36;1mSQL (2.0ms)[0m   [0;1mSHOW TABLES[0m
  [4;35;1mSQL (63.0ms)[0m   [0mCREATE TABLE `expense_types` (`id` int(11) DEFAULT NULL auto_increment PRIMARY KEY, `description` varchar(255) NOT NULL, `created_at` datetime, `updated_at` datetime) ENGINE=InnoDB[0m
  [4;36;1mSQL (2.0ms)[0m   [0;1mSHOW TABLES[0m
  [4;35;1mSQL (90.0ms)[0m   [0mCREATE TABLE `schema_migrations` (`version` varchar(255) NOT NULL) ENGINE=InnoDB[0m
  [4;36;1mSQL (284.0ms)[0m   [0;1mCREATE UNIQUE INDEX `unique_schema_migrations` ON `schema_migrations` (`version`)[0m
  [4;35;1mSQL (8.0ms)[0m   [0mSHOW TABLES[0m
  [4;36;1mSQL (1.0ms)[0m   [0;1mSELECT version FROM `schema_migrations`[0m
  [4;35;1mSQL (11.0ms)[0m   [0mINSERT INTO `schema_migrations` (version) VALUES ('20100430145224')[0m
  [4;36;1mSQL (16.0ms)[0m   [0;1mINSERT INTO `schema_migrations` (version) VALUES ('20100422124419')[0m
  [4;35;1mSQL (16.0ms)[0m   [0mINSERT INTO `schema_migrations` (version) VALUES ('20100422125245')[0m
  [4;36;1mSQL (24.0ms)[0m   [0;1mINSERT INTO `schema_migrations` (version) VALUES ('20100422125532')[0m
  [4;35;1mSQL (16.0ms)[0m   [0mINSERT INTO `schema_migrations` (version) VALUES ('20100430075711')[0m
  [4;36;1mSQL (16.0ms)[0m   [0;1mINSERT INTO `schema_migrations` (version) VALUES ('20100430084030')[0m
  [4;36;1mSQL (1.0ms)[0m   [0;1mSET NAMES 'utf8'[0m
  [4;35;1mSQL (0.0ms)[0m   [0mSET SQL_AUTO_IS_NULL=0[0m
  [4;36;1mSQL (2.0ms)[0m   [0;1mSHOW TABLES[0m
  [4;35;1mSQL (1.0ms)[0m   [0mSELECT version FROM schema_migrations[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mSET NAMES 'utf8'[0m
  [4;35;1mSQL (0.0ms)[0m   [0mSET SQL_AUTO_IS_NULL=0[0m
  [4;36;1mSQL (130.0ms)[0m   [0;1mDROP DATABASE IF EXISTS `finance_test`[0m
  [4;35;1mSQL (2.0ms)[0m   [0mCREATE DATABASE `finance_test` DEFAULT CHARACTER SET `utf8`[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mSET NAMES 'utf8'[0m
  [4;35;1mSQL (0.0ms)[0m   [0mSET SQL_AUTO_IS_NULL=0[0m
  [4;36;1mSQL (1.0ms)[0m   [0;1mSHOW TABLES[0m
  [4;35;1mSQL (54.0ms)[0m   [0mCREATE TABLE `expense_items` (`id` int(11) DEFAULT NULL auto_increment PRIMARY KEY, `date` date NOT NULL, `expense_type_id` int(11) NOT NULL, `value` float NOT NULL, `note` text, `created_at` datetime, `updated_at` datetime) ENGINE=InnoDB[0m
  [4;36;1mSQL (246.0ms)[0m   [0;1mCREATE INDEX `expense_type_foreign_key` ON `expense_items` (`expense_type_id`)[0m
  [4;35;1mSQL (4.0ms)[0m   [0mSHOW TABLES[0m
  [4;36;1mSQL (107.0ms)[0m   [0;1mCREATE TABLE `expense_items_expense_tags` (`expense_item_id` int(11) NOT NULL, `expense_tag_id` int(11) NOT NULL) ENGINE=InnoDB[0m
  [4;35;1mSQL (110.0ms)[0m   [0mCREATE UNIQUE INDEX `index_items_tags` ON `expense_items_expense_tags` (`expense_item_id`, `expense_tag_id`)[0m
  [4;36;1mSQL (122.0ms)[0m   [0;1mCREATE INDEX `index_tags` ON `expense_items_expense_tags` (`expense_item_id`)[0m
  [4;35;1mSQL (175.0ms)[0m   [0mCREATE INDEX `foreign_key_tag_id` ON `expense_items_expense_tags` (`expense_tag_id`)[0m
  [4;36;1mSQL (3.0ms)[0m   [0;1mSHOW TABLES[0m
  [4;35;1mSQL (62.0ms)[0m   [0mCREATE TABLE `expense_tags` (`id` int(11) DEFAULT NULL auto_increment PRIMARY KEY, `name` varchar(255) NOT NULL, `created_at` datetime, `updated_at` datetime) ENGINE=InnoDB[0m
  [4;36;1mSQL (2.0ms)[0m   [0;1mSHOW TABLES[0m
  [4;35;1mSQL (100.0ms)[0m   [0mCREATE TABLE `expense_types` (`id` int(11) DEFAULT NULL auto_increment PRIMARY KEY, `description` varchar(255) NOT NULL, `created_at` datetime, `updated_at` datetime) ENGINE=InnoDB[0m
  [4;36;1mSQL (2.0ms)[0m   [0;1mSHOW TABLES[0m
  [4;35;1mSQL (75.0ms)[0m   [0mCREATE TABLE `schema_migrations` (`version` varchar(255) NOT NULL) ENGINE=InnoDB[0m
  [4;36;1mSQL (445.0ms)[0m   [0;1mCREATE UNIQUE INDEX `unique_schema_migrations` ON `schema_migrations` (`version`)[0m
  [4;35;1mSQL (8.0ms)[0m   [0mSHOW TABLES[0m
  [4;36;1mSQL (1.0ms)[0m   [0;1mSELECT version FROM `schema_migrations`[0m
  [4;35;1mSQL (22.0ms)[0m   [0mINSERT INTO `schema_migrations` (version) VALUES ('20100430145224')[0m
  [4;36;1mSQL (18.0ms)[0m   [0;1mINSERT INTO `schema_migrations` (version) VALUES ('20100422124419')[0m
  [4;35;1mSQL (22.0ms)[0m   [0mINSERT INTO `schema_migrations` (version) VALUES ('20100422125245')[0m
  [4;36;1mSQL (19.0ms)[0m   [0;1mINSERT INTO `schema_migrations` (version) VALUES ('20100422125532')[0m
  [4;35;1mSQL (17.0ms)[0m   [0mINSERT INTO `schema_migrations` (version) VALUES ('20100430075711')[0m
  [4;36;1mSQL (16.0ms)[0m   [0;1mINSERT INTO `schema_migrations` (version) VALUES ('20100430084030')[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mSET NAMES 'utf8'[0m
  [4;35;1mSQL (0.0ms)[0m   [0mSET SQL_AUTO_IS_NULL=0[0m
  [4;36;1mSQL (2.0ms)[0m   [0;1mSHOW TABLES[0m
  [4;35;1mSQL (0.0ms)[0m   [0mSELECT version FROM schema_migrations[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mSET NAMES 'utf8'[0m
  [4;35;1mSQL (0.0ms)[0m   [0mSET SQL_AUTO_IS_NULL=0[0m
  [4;36;1mSQL (115.0ms)[0m   [0;1mDROP DATABASE IF EXISTS `finance_test`[0m
  [4;35;1mSQL (3.0ms)[0m   [0mCREATE DATABASE `finance_test` DEFAULT CHARACTER SET `utf8`[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mSET NAMES 'utf8'[0m
  [4;35;1mSQL (1.0ms)[0m   [0mSET SQL_AUTO_IS_NULL=0[0m
  [4;36;1mSQL (1.0ms)[0m   [0;1mSHOW TABLES[0m
  [4;35;1mSQL (113.0ms)[0m   [0mCREATE TABLE `expense_items` (`id` int(11) DEFAULT NULL auto_increment PRIMARY KEY, `date` date NOT NULL, `expense_type_id` int(11) NOT NULL, `value` float NOT NULL, `note` text, `created_at` datetime, `updated_at` datetime) ENGINE=InnoDB[0m
  [4;36;1mSQL (135.0ms)[0m   [0;1mCREATE INDEX `expense_type_foreign_key` ON `expense_items` (`expense_type_id`)[0m
  [4;35;1mSQL (3.0ms)[0m   [0mSHOW TABLES[0m
  [4;36;1mSQL (62.0ms)[0m   [0;1mCREATE TABLE `expense_items_expense_tags` (`expense_item_id` int(11) NOT NULL, `expense_tag_id` int(11) NOT NULL) ENGINE=InnoDB[0m
  [4;35;1mSQL (116.0ms)[0m   [0mCREATE UNIQUE INDEX `index_items_tags` ON `expense_items_expense_tags` (`expense_item_id`, `expense_tag_id`)[0m
  [4;36;1mSQL (125.0ms)[0m   [0;1mCREATE INDEX `index_tags` ON `expense_items_expense_tags` (`expense_item_id`)[0m
  [4;35;1mSQL (124.0ms)[0m   [0mCREATE INDEX `foreign_key_tag_id` ON `expense_items_expense_tags` (`expense_tag_id`)[0m
  [4;36;1mSQL (4.0ms)[0m   [0;1mSHOW TABLES[0m
  [4;35;1mSQL (81.0ms)[0m   [0mCREATE TABLE `expense_tags` (`id` int(11) DEFAULT NULL auto_increment PRIMARY KEY, `name` varchar(255) NOT NULL, `created_at` datetime, `updated_at` datetime) ENGINE=InnoDB[0m
  [4;36;1mSQL (2.0ms)[0m   [0;1mSHOW TABLES[0m
  [4;35;1mSQL (67.0ms)[0m   [0mCREATE TABLE `expense_types` (`id` int(11) DEFAULT NULL auto_increment PRIMARY KEY, `description` varchar(255) NOT NULL, `created_at` datetime, `updated_at` datetime) ENGINE=InnoDB[0m
  [4;36;1mSQL (2.0ms)[0m   [0;1mSHOW TABLES[0m
  [4;35;1mSQL (66.0ms)[0m   [0mCREATE TABLE `schema_migrations` (`version` varchar(255) NOT NULL) ENGINE=InnoDB[0m
  [4;36;1mSQL (133.0ms)[0m   [0;1mCREATE UNIQUE INDEX `unique_schema_migrations` ON `schema_migrations` (`version`)[0m
  [4;35;1mSQL (7.0ms)[0m   [0mSHOW TABLES[0m
  [4;36;1mSQL (1.0ms)[0m   [0;1mSELECT version FROM `schema_migrations`[0m
  [4;35;1mSQL (15.0ms)[0m   [0mINSERT INTO `schema_migrations` (version) VALUES ('20100430145224')[0m
  [4;36;1mSQL (32.0ms)[0m   [0;1mINSERT INTO `schema_migrations` (version) VALUES ('20100422124419')[0m
  [4;35;1mSQL (16.0ms)[0m   [0mINSERT INTO `schema_migrations` (version) VALUES ('20100422125245')[0m
  [4;36;1mSQL (17.0ms)[0m   [0;1mINSERT INTO `schema_migrations` (version) VALUES ('20100422125532')[0m
  [4;35;1mSQL (150.0ms)[0m   [0mINSERT INTO `schema_migrations` (version) VALUES ('20100430075711')[0m
  [4;36;1mSQL (66.0ms)[0m   [0;1mINSERT INTO `schema_migrations` (version) VALUES ('20100430084030')[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mSET NAMES 'utf8'[0m
  [4;35;1mSQL (0.0ms)[0m   [0mSET SQL_AUTO_IS_NULL=0[0m
  [4;36;1mSQL (1.0ms)[0m   [0;1mSHOW TABLES[0m
  [4;35;1mSQL (1.0ms)[0m   [0mSELECT version FROM schema_migrations[0m
  [4;36;1mSQL (1.0ms)[0m   [0;1mSET NAMES 'utf8'[0m
  [4;35;1mSQL (0.0ms)[0m   [0mSET SQL_AUTO_IS_NULL=0[0m
  [4;36;1mSQL (147.0ms)[0m   [0;1mDROP DATABASE IF EXISTS `finance_test`[0m
  [4;35;1mSQL (3.0ms)[0m   [0mCREATE DATABASE `finance_test` DEFAULT CHARACTER SET `utf8`[0m
  [4;36;1mSQL (1.0ms)[0m   [0;1mSET NAMES 'utf8'[0m
  [4;35;1mSQL (0.0ms)[0m   [0mSET SQL_AUTO_IS_NULL=0[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mSHOW TABLES[0m
  [4;35;1mSQL (62.0ms)[0m   [0mCREATE TABLE `expense_items` (`id` int(11) DEFAULT NULL auto_increment PRIMARY KEY, `date` date NOT NULL, `expense_type_id` int(11) NOT NULL, `value` float NOT NULL, `note` text, `created_at` datetime, `updated_at` datetime) ENGINE=InnoDB[0m
  [4;36;1mSQL (202.0ms)[0m   [0;1mCREATE INDEX `expense_type_foreign_key` ON `expense_items` (`expense_type_id`)[0m
  [4;35;1mSQL (4.0ms)[0m   [0mSHOW TABLES[0m
  [4;36;1mSQL (58.0ms)[0m   [0;1mCREATE TABLE `expense_items_expense_tags` (`expense_item_id` int(11) NOT NULL, `expense_tag_id` int(11) NOT NULL) ENGINE=InnoDB[0m
  [4;35;1mSQL (140.0ms)[0m   [0mCREATE UNIQUE INDEX `index_items_tags` ON `expense_items_expense_tags` (`expense_item_id`, `expense_tag_id`)[0m
  [4;36;1mSQL (274.0ms)[0m   [0;1mCREATE INDEX `index_tags` ON `expense_items_expense_tags` (`expense_item_id`)[0m
  [4;35;1mSQL (157.0ms)[0m   [0mCREATE INDEX `foreign_key_tag_id` ON `expense_items_expense_tags` (`expense_tag_id`)[0m
  [4;36;1mSQL (3.0ms)[0m   [0;1mSHOW TABLES[0m
  [4;35;1mSQL (77.0ms)[0m   [0mCREATE TABLE `expense_tags` (`id` int(11) DEFAULT NULL auto_increment PRIMARY KEY, `name` varchar(255) NOT NULL, `created_at` datetime, `updated_at` datetime) ENGINE=InnoDB[0m
  [4;36;1mSQL (2.0ms)[0m   [0;1mSHOW TABLES[0m
  [4;35;1mSQL (71.0ms)[0m   [0mCREATE TABLE `expense_types` (`id` int(11) DEFAULT NULL auto_increment PRIMARY KEY, `description` varchar(255) NOT NULL, `created_at` datetime, `updated_at` datetime) ENGINE=InnoDB[0m
  [4;36;1mSQL (2.0ms)[0m   [0;1mSHOW TABLES[0m
  [4;35;1mSQL (79.0ms)[0m   [0mCREATE TABLE `schema_migrations` (`version` varchar(255) NOT NULL) ENGINE=InnoDB[0m
  [4;36;1mSQL (167.0ms)[0m   [0;1mCREATE UNIQUE INDEX `unique_schema_migrations` ON `schema_migrations` (`version`)[0m
  [4;35;1mSQL (8.0ms)[0m   [0mSHOW TABLES[0m
  [4;36;1mSQL (1.0ms)[0m   [0;1mSELECT version FROM `schema_migrations`[0m
  [4;35;1mSQL (12.0ms)[0m   [0mINSERT INTO `schema_migrations` (version) VALUES ('20100430145224')[0m
  [4;36;1mSQL (17.0ms)[0m   [0;1mINSERT INTO `schema_migrations` (version) VALUES ('20100422124419')[0m
  [4;35;1mSQL (16.0ms)[0m   [0mINSERT INTO `schema_migrations` (version) VALUES ('20100422125245')[0m
  [4;36;1mSQL (16.0ms)[0m   [0;1mINSERT INTO `schema_migrations` (version) VALUES ('20100422125532')[0m
  [4;35;1mSQL (17.0ms)[0m   [0mINSERT INTO `schema_migrations` (version) VALUES ('20100430075711')[0m
  [4;36;1mSQL (16.0ms)[0m   [0;1mINSERT INTO `schema_migrations` (version) VALUES ('20100430084030')[0m
  [4;36;1mSQL (1.0ms)[0m   [0;1mSET NAMES 'utf8'[0m
  [4;35;1mSQL (1.0ms)[0m   [0mSET SQL_AUTO_IS_NULL=0[0m
  [4;36;1mSQL (2.0ms)[0m   [0;1mSHOW TABLES[0m
  [4;35;1mSQL (1.0ms)[0m   [0mSELECT version FROM schema_migrations[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mSET NAMES 'utf8'[0m
  [4;35;1mSQL (1.0ms)[0m   [0mSET SQL_AUTO_IS_NULL=0[0m
  [4;36;1mSQL (137.0ms)[0m   [0;1mDROP DATABASE IF EXISTS `finance_test`[0m
  [4;35;1mSQL (2.0ms)[0m   [0mCREATE DATABASE `finance_test` DEFAULT CHARACTER SET `utf8`[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mSET NAMES 'utf8'[0m
  [4;35;1mSQL (0.0ms)[0m   [0mSET SQL_AUTO_IS_NULL=0[0m
  [4;36;1mSQL (1.0ms)[0m   [0;1mSHOW TABLES[0m
  [4;35;1mSQL (57.0ms)[0m   [0mCREATE TABLE `expense_items` (`id` int(11) DEFAULT NULL auto_increment PRIMARY KEY, `date` date NOT NULL, `expense_type_id` int(11) NOT NULL, `value` float NOT NULL, `note` text, `created_at` datetime, `updated_at` datetime) ENGINE=InnoDB[0m
  [4;36;1mSQL (173.0ms)[0m   [0;1mCREATE INDEX `expense_type_foreign_key` ON `expense_items` (`expense_type_id`)[0m
  [4;35;1mSQL (2.0ms)[0m   [0mSHOW TABLES[0m
  [4;36;1mSQL (54.0ms)[0m   [0;1mCREATE TABLE `expense_items_expense_tags` (`expense_item_id` int(11) NOT NULL, `expense_tag_id` int(11) NOT NULL) ENGINE=InnoDB[0m
  [4;35;1mSQL (133.0ms)[0m   [0mCREATE UNIQUE INDEX `index_items_tags` ON `expense_items_expense_tags` (`expense_item_id`, `expense_tag_id`)[0m
  [4;36;1mSQL (138.0ms)[0m   [0;1mCREATE INDEX `index_tags` ON `expense_items_expense_tags` (`expense_item_id`)[0m
  [4;35;1mSQL (159.0ms)[0m   [0mCREATE INDEX `foreign_key_tag_id` ON `expense_items_expense_tags` (`expense_tag_id`)[0m
  [4;36;1mSQL (3.0ms)[0m   [0;1mSHOW TABLES[0m
  [4;35;1mSQL (78.0ms)[0m   [0mCREATE TABLE `expense_tags` (`id` int(11) DEFAULT NULL auto_increment PRIMARY KEY, `name` varchar(255) NOT NULL, `created_at` datetime, `updated_at` datetime) ENGINE=InnoDB[0m
  [4;36;1mSQL (2.0ms)[0m   [0;1mSHOW TABLES[0m
  [4;35;1mSQL (78.0ms)[0m   [0mCREATE TABLE `expense_types` (`id` int(11) DEFAULT NULL auto_increment PRIMARY KEY, `description` varchar(255) NOT NULL, `created_at` datetime, `updated_at` datetime) ENGINE=InnoDB[0m
  [4;36;1mSQL (2.0ms)[0m   [0;1mSHOW TABLES[0m
  [4;35;1mSQL (72.0ms)[0m   [0mCREATE TABLE `schema_migrations` (`version` varchar(255) NOT NULL) ENGINE=InnoDB[0m
  [4;36;1mSQL (158.0ms)[0m   [0;1mCREATE UNIQUE INDEX `unique_schema_migrations` ON `schema_migrations` (`version`)[0m
  [4;35;1mSQL (4.0ms)[0m   [0mSHOW TABLES[0m
  [4;36;1mSQL (2.0ms)[0m   [0;1mSELECT version FROM `schema_migrations`[0m
  [4;35;1mSQL (17.0ms)[0m   [0mINSERT INTO `schema_migrations` (version) VALUES ('20100430145224')[0m
  [4;36;1mSQL (16.0ms)[0m   [0;1mINSERT INTO `schema_migrations` (version) VALUES ('20100422124419')[0m
  [4;35;1mSQL (24.0ms)[0m   [0mINSERT INTO `schema_migrations` (version) VALUES ('20100422125245')[0m
  [4;36;1mSQL (16.0ms)[0m   [0;1mINSERT INTO `schema_migrations` (version) VALUES ('20100422125532')[0m
  [4;35;1mSQL (16.0ms)[0m   [0mINSERT INTO `schema_migrations` (version) VALUES ('20100430075711')[0m
  [4;36;1mSQL (16.0ms)[0m   [0;1mINSERT INTO `schema_migrations` (version) VALUES ('20100430084030')[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mSET NAMES 'utf8'[0m
  [4;35;1mSQL (0.0ms)[0m   [0mSET SQL_AUTO_IS_NULL=0[0m
  [4;36;1mSQL (1.0ms)[0m   [0;1mSHOW TABLES[0m
  [4;35;1mSQL (0.0ms)[0m   [0mSELECT version FROM schema_migrations[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mSET NAMES 'utf8'[0m
  [4;35;1mSQL (1.0ms)[0m   [0mSET SQL_AUTO_IS_NULL=0[0m
  [4;36;1mSQL (179.0ms)[0m   [0;1mDROP DATABASE IF EXISTS `finance_test`[0m
  [4;35;1mSQL (3.0ms)[0m   [0mCREATE DATABASE `finance_test` DEFAULT CHARACTER SET `utf8`[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mSET NAMES 'utf8'[0m
  [4;35;1mSQL (0.0ms)[0m   [0mSET SQL_AUTO_IS_NULL=0[0m
  [4;36;1mSQL (1.0ms)[0m   [0;1mSHOW TABLES[0m
  [4;35;1mSQL (82.0ms)[0m   [0mCREATE TABLE `expense_items` (`id` int(11) DEFAULT NULL auto_increment PRIMARY KEY, `date` date NOT NULL, `expense_type_id` int(11) NOT NULL, `value` float NOT NULL, `note` text, `created_at` datetime, `updated_at` datetime) ENGINE=InnoDB[0m
  [4;36;1mSQL (158.0ms)[0m   [0;1mCREATE INDEX `expense_type_foreign_key` ON `expense_items` (`expense_type_id`)[0m
  [4;35;1mSQL (3.0ms)[0m   [0mSHOW TABLES[0m
  [4;36;1mSQL (61.0ms)[0m   [0;1mCREATE TABLE `expense_items_expense_tags` (`expense_item_id` int(11) NOT NULL, `expense_tag_id` int(11) NOT NULL) ENGINE=InnoDB[0m
  [4;35;1mSQL (182.0ms)[0m   [0mCREATE UNIQUE INDEX `index_items_tags` ON `expense_items_expense_tags` (`expense_item_id`, `expense_tag_id`)[0m
  [4;36;1mSQL (157.0ms)[0m   [0;1mCREATE INDEX `index_tags` ON `expense_items_expense_tags` (`expense_item_id`)[0m
  [4;35;1mSQL (155.0ms)[0m   [0mCREATE INDEX `foreign_key_tag_id` ON `expense_items_expense_tags` (`expense_tag_id`)[0m
  [4;36;1mSQL (3.0ms)[0m   [0;1mSHOW TABLES[0m
  [4;35;1mSQL (60.0ms)[0m   [0mCREATE TABLE `expense_tags` (`id` int(11) DEFAULT NULL auto_increment PRIMARY KEY, `name` varchar(255) NOT NULL, `created_at` datetime, `updated_at` datetime) ENGINE=InnoDB[0m
  [4;36;1mSQL (2.0ms)[0m   [0;1mSHOW TABLES[0m
  [4;35;1mSQL (62.0ms)[0m   [0mCREATE TABLE `expense_types` (`id` int(11) DEFAULT NULL auto_increment PRIMARY KEY, `description` varchar(255) NOT NULL, `created_at` datetime, `updated_at` datetime) ENGINE=InnoDB[0m
  [4;36;1mSQL (2.0ms)[0m   [0;1mSHOW TABLES[0m
  [4;35;1mSQL (63.0ms)[0m   [0mCREATE TABLE `schema_migrations` (`version` varchar(255) NOT NULL) ENGINE=InnoDB[0m
  [4;36;1mSQL (133.0ms)[0m   [0;1mCREATE UNIQUE INDEX `unique_schema_migrations` ON `schema_migrations` (`version`)[0m
  [4;35;1mSQL (7.0ms)[0m   [0mSHOW TABLES[0m
  [4;36;1mSQL (2.0ms)[0m   [0;1mSELECT version FROM `schema_migrations`[0m
  [4;35;1mSQL (21.0ms)[0m   [0mINSERT INTO `schema_migrations` (version) VALUES ('20100430145224')[0m
  [4;36;1mSQL (16.0ms)[0m   [0;1mINSERT INTO `schema_migrations` (version) VALUES ('20100422124419')[0m
  [4;35;1mSQL (17.0ms)[0m   [0mINSERT INTO `schema_migrations` (version) VALUES ('20100422125245')[0m
  [4;36;1mSQL (16.0ms)[0m   [0;1mINSERT INTO `schema_migrations` (version) VALUES ('20100422125532')[0m
  [4;35;1mSQL (16.0ms)[0m   [0mINSERT INTO `schema_migrations` (version) VALUES ('20100430075711')[0m
  [4;36;1mSQL (16.0ms)[0m   [0;1mINSERT INTO `schema_migrations` (version) VALUES ('20100430084030')[0m
  [4;36;1mSQL (1.0ms)[0m   [0;1mSET NAMES 'utf8'[0m
  [4;35;1mSQL (0.0ms)[0m   [0mSET SQL_AUTO_IS_NULL=0[0m
  [4;36;1mSQL (2.0ms)[0m   [0;1mSHOW TABLES[0m
  [4;35;1mSQL (1.0ms)[0m   [0mSELECT version FROM schema_migrations[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mSET NAMES 'utf8'[0m
  [4;35;1mSQL (0.0ms)[0m   [0mSET SQL_AUTO_IS_NULL=0[0m
  [4;36;1mSQL (123.0ms)[0m   [0;1mDROP DATABASE IF EXISTS `finance_test`[0m
  [4;35;1mSQL (2.0ms)[0m   [0mCREATE DATABASE `finance_test` DEFAULT CHARACTER SET `utf8`[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mSET NAMES 'utf8'[0m
  [4;35;1mSQL (0.0ms)[0m   [0mSET SQL_AUTO_IS_NULL=0[0m
  [4;36;1mSQL (1.0ms)[0m   [0;1mSHOW TABLES[0m
  [4;35;1mSQL (49.0ms)[0m   [0mCREATE TABLE `expense_items` (`id` int(11) DEFAULT NULL auto_increment PRIMARY KEY, `date` date NOT NULL, `expense_type_id` int(11) NOT NULL, `value` float NOT NULL, `note` text, `created_at` datetime, `updated_at` datetime) ENGINE=InnoDB[0m
  [4;36;1mSQL (184.0ms)[0m   [0;1mCREATE INDEX `expense_type_foreign_key` ON `expense_items` (`expense_type_id`)[0m
  [4;35;1mSQL (3.0ms)[0m   [0mSHOW TABLES[0m
  [4;36;1mSQL (63.0ms)[0m   [0;1mCREATE TABLE `expense_items_expense_tags` (`expense_item_id` int(11) NOT NULL, `expense_tag_id` int(11) NOT NULL) ENGINE=InnoDB[0m
  [4;35;1mSQL (125.0ms)[0m   [0mCREATE UNIQUE INDEX `index_items_tags` ON `expense_items_expense_tags` (`expense_item_id`, `expense_tag_id`)[0m
  [4;36;1mSQL (116.0ms)[0m   [0;1mCREATE INDEX `index_tags` ON `expense_items_expense_tags` (`expense_item_id`)[0m
  [4;35;1mSQL (133.0ms)[0m   [0mCREATE INDEX `foreign_key_tag_id` ON `expense_items_expense_tags` (`expense_tag_id`)[0m
  [4;36;1mSQL (4.0ms)[0m   [0;1mSHOW TABLES[0m
  [4;35;1mSQL (68.0ms)[0m   [0mCREATE TABLE `expense_tags` (`id` int(11) DEFAULT NULL auto_increment PRIMARY KEY, `name` varchar(255) NOT NULL, `created_at` datetime, `updated_at` datetime) ENGINE=InnoDB[0m
  [4;36;1mSQL (1.0ms)[0m   [0;1mSHOW TABLES[0m
  [4;35;1mSQL (63.0ms)[0m   [0mCREATE TABLE `expense_types` (`id` int(11) DEFAULT NULL auto_increment PRIMARY KEY, `description` varchar(255) NOT NULL, `created_at` datetime, `updated_at` datetime) ENGINE=InnoDB[0m
  [4;36;1mSQL (1.0ms)[0m   [0;1mSHOW TABLES[0m
  [4;35;1mSQL (57.0ms)[0m   [0mCREATE TABLE `schema_migrations` (`version` varchar(255) NOT NULL) ENGINE=InnoDB[0m
  [4;36;1mSQL (134.0ms)[0m   [0;1mCREATE UNIQUE INDEX `unique_schema_migrations` ON `schema_migrations` (`version`)[0m
  [4;35;1mSQL (14.0ms)[0m   [0mSHOW TABLES[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mSELECT version FROM `schema_migrations`[0m
  [4;35;1mSQL (57.0ms)[0m   [0mINSERT INTO `schema_migrations` (version) VALUES ('20100430145224')[0m
  [4;36;1mSQL (26.0ms)[0m   [0;1mINSERT INTO `schema_migrations` (version) VALUES ('20100422124419')[0m
  [4;35;1mSQL (21.0ms)[0m   [0mINSERT INTO `schema_migrations` (version) VALUES ('20100422125245')[0m
  [4;36;1mSQL (17.0ms)[0m   [0;1mINSERT INTO `schema_migrations` (version) VALUES ('20100422125532')[0m
  [4;35;1mSQL (16.0ms)[0m   [0mINSERT INTO `schema_migrations` (version) VALUES ('20100430075711')[0m
  [4;36;1mSQL (16.0ms)[0m   [0;1mINSERT INTO `schema_migrations` (version) VALUES ('20100430084030')[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mSET NAMES 'utf8'[0m
  [4;35;1mSQL (1.0ms)[0m   [0mSET SQL_AUTO_IS_NULL=0[0m
  [4;36;1mSQL (1.0ms)[0m   [0;1mSHOW TABLES[0m
  [4;35;1mSQL (0.0ms)[0m   [0mSELECT version FROM schema_migrations[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mSET NAMES 'utf8'[0m
  [4;35;1mSQL (0.0ms)[0m   [0mSET SQL_AUTO_IS_NULL=0[0m
  [4;36;1mSQL (143.0ms)[0m   [0;1mDROP DATABASE IF EXISTS `finance_test`[0m
  [4;35;1mSQL (3.0ms)[0m   [0mCREATE DATABASE `finance_test` DEFAULT CHARACTER SET `utf8`[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mSET NAMES 'utf8'[0m
  [4;35;1mSQL (1.0ms)[0m   [0mSET SQL_AUTO_IS_NULL=0[0m
  [4;36;1mSQL (1.0ms)[0m   [0;1mSHOW TABLES[0m
  [4;35;1mSQL (56.0ms)[0m   [0mCREATE TABLE `expense_items` (`id` int(11) DEFAULT NULL auto_increment PRIMARY KEY, `date` date NOT NULL, `expense_type_id` int(11) NOT NULL, `value` float NOT NULL, `note` text, `created_at` datetime, `updated_at` datetime) ENGINE=InnoDB[0m
  [4;36;1mSQL (163.0ms)[0m   [0;1mCREATE INDEX `expense_type_foreign_key` ON `expense_items` (`expense_type_id`)[0m
  [4;35;1mSQL (4.0ms)[0m   [0mSHOW TABLES[0m
  [4;36;1mSQL (83.0ms)[0m   [0;1mCREATE TABLE `expense_items_expense_tags` (`expense_item_id` int(11) NOT NULL, `expense_tag_id` int(11) NOT NULL) ENGINE=InnoDB[0m
  [4;35;1mSQL (284.0ms)[0m   [0mCREATE UNIQUE INDEX `index_items_tags` ON `expense_items_expense_tags` (`expense_item_id`, `expense_tag_id`)[0m
  [4;36;1mSQL (149.0ms)[0m   [0;1mCREATE INDEX `index_tags` ON `expense_items_expense_tags` (`expense_item_id`)[0m
  [4;35;1mSQL (141.0ms)[0m   [0mCREATE INDEX `foreign_key_tag_id` ON `expense_items_expense_tags` (`expense_tag_id`)[0m
  [4;36;1mSQL (4.0ms)[0m   [0;1mSHOW TABLES[0m
  [4;35;1mSQL (106.0ms)[0m   [0mCREATE TABLE `expense_tags` (`id` int(11) DEFAULT NULL auto_increment PRIMARY KEY, `name` varchar(255) NOT NULL, `created_at` datetime, `updated_at` datetime) ENGINE=InnoDB[0m
  [4;36;1mSQL (2.0ms)[0m   [0;1mSHOW TABLES[0m
  [4;35;1mSQL (91.0ms)[0m   [0mCREATE TABLE `expense_types` (`id` int(11) DEFAULT NULL auto_increment PRIMARY KEY, `description` varchar(255) NOT NULL, `created_at` datetime, `updated_at` datetime) ENGINE=InnoDB[0m
  [4;36;1mSQL (2.0ms)[0m   [0;1mSHOW TABLES[0m
  [4;35;1mSQL (55.0ms)[0m   [0mCREATE TABLE `schema_migrations` (`version` varchar(255) NOT NULL) ENGINE=InnoDB[0m
  [4;36;1mSQL (133.0ms)[0m   [0;1mCREATE UNIQUE INDEX `unique_schema_migrations` ON `schema_migrations` (`version`)[0m
  [4;35;1mSQL (7.0ms)[0m   [0mSHOW TABLES[0m
  [4;36;1mSQL (1.0ms)[0m   [0;1mSELECT version FROM `schema_migrations`[0m
  [4;35;1mSQL (17.0ms)[0m   [0mINSERT INTO `schema_migrations` (version) VALUES ('20100430145224')[0m
  [4;36;1mSQL (21.0ms)[0m   [0;1mINSERT INTO `schema_migrations` (version) VALUES ('20100422124419')[0m
  [4;35;1mSQL (19.0ms)[0m   [0mINSERT INTO `schema_migrations` (version) VALUES ('20100422125245')[0m
  [4;36;1mSQL (16.0ms)[0m   [0;1mINSERT INTO `schema_migrations` (version) VALUES ('20100422125532')[0m
  [4;35;1mSQL (17.0ms)[0m   [0mINSERT INTO `schema_migrations` (version) VALUES ('20100430075711')[0m
  [4;36;1mSQL (16.0ms)[0m   [0;1mINSERT INTO `schema_migrations` (version) VALUES ('20100430084030')[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mSET NAMES 'utf8'[0m
  [4;35;1mSQL (1.0ms)[0m   [0mSET SQL_AUTO_IS_NULL=0[0m


Processing ExpenseController#index (for 127.0.0.1 at 2010-05-09 10:05:19) [GET]
  [4;36;1mExpenseItem Load (93.0ms)[0m   [0;1mSELECT * FROM `expense_items` WHERE (date BETWEEN '2010-05-01' and '2010-05-31') [0m
Rendering template within layouts/expense
Rendering expense/index
  [4;35;1mExpenseItem Columns (29.0ms)[0m   [0mSHOW FIELDS FROM `expense_items`[0m
  [4;36;1mExpenseType Columns (7.0ms)[0m   [0;1mSHOW FIELDS FROM `expense_types`[0m
  [4;35;1mExpenseType Load (49.0ms)[0m   [0mSELECT * FROM `expense_types` WHERE (`expense_types`.`id` = 1) [0m
  [4;36;1mexpense_items_expense_tags Columns (7.0ms)[0m   [0;1mSHOW FIELDS FROM `expense_items_expense_tags`[0m
  [4;35;1mExpenseTag Load (17.0ms)[0m   [0mSELECT * FROM `expense_tags` INNER JOIN `expense_items_expense_tags` ON `expense_tags`.id = `expense_items_expense_tags`.expense_tag_id WHERE (`expense_items_expense_tags`.expense_item_id = 4 ) [0m
  [4;36;1mExpenseTag Columns (4.0ms)[0m   [0;1mSHOW FIELDS FROM `expense_tags`[0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM `expense_types` WHERE (`expense_types`.`id` = 1) [0m
  [4;36;1mExpenseTag Load (1.0ms)[0m   [0;1mSELECT * FROM `expense_tags` INNER JOIN `expense_items_expense_tags` ON `expense_tags`.id = `expense_items_expense_tags`.expense_tag_id WHERE (`expense_items_expense_tags`.expense_item_id = 5 ) [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM `expense_types` WHERE (`expense_types`.`id` = 1) [0m
  [4;36;1mExpenseTag Load (0.0ms)[0m   [0;1mSELECT * FROM `expense_tags` INNER JOIN `expense_items_expense_tags` ON `expense_tags`.id = `expense_items_expense_tags`.expense_tag_id WHERE (`expense_items_expense_tags`.expense_item_id = 6 ) [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM `expense_types` WHERE (`expense_types`.`id` = 1) [0m
  [4;36;1mExpenseTag Load (1.0ms)[0m   [0;1mSELECT * FROM `expense_tags` INNER JOIN `expense_items_expense_tags` ON `expense_tags`.id = `expense_items_expense_tags`.expense_tag_id WHERE (`expense_items_expense_tags`.expense_item_id = 7 ) [0m
  [4;35;1mExpenseType Load (0.0ms)[0m   [0mSELECT * FROM `expense_types` WHERE (`expense_types`.`id` = 2) [0m
  [4;36;1mExpenseTag Load (0.0ms)[0m   [0;1mSELECT * FROM `expense_tags` INNER JOIN `expense_items_expense_tags` ON `expense_tags`.id = `expense_items_expense_tags`.expense_tag_id WHERE (`expense_items_expense_tags`.expense_item_id = 8 ) [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM `expense_types` WHERE (`expense_types`.`id` = 1) [0m
  [4;36;1mExpenseTag Load (0.0ms)[0m   [0;1mSELECT * FROM `expense_tags` INNER JOIN `expense_items_expense_tags` ON `expense_tags`.id = `expense_items_expense_tags`.expense_tag_id WHERE (`expense_items_expense_tags`.expense_item_id = 9 ) [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM `expense_types` WHERE (`expense_types`.`id` = 2) [0m
  [4;36;1mExpenseTag Load (0.0ms)[0m   [0;1mSELECT * FROM `expense_tags` INNER JOIN `expense_items_expense_tags` ON `expense_tags`.id = `expense_items_expense_tags`.expense_tag_id WHERE (`expense_items_expense_tags`.expense_item_id = 10 ) [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM `expense_types` WHERE (`expense_types`.`id` = 1) [0m
  [4;36;1mExpenseTag Load (0.0ms)[0m   [0;1mSELECT * FROM `expense_tags` INNER JOIN `expense_items_expense_tags` ON `expense_tags`.id = `expense_items_expense_tags`.expense_tag_id WHERE (`expense_items_expense_tags`.expense_item_id = 11 ) [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM `expense_types` WHERE (`expense_types`.`id` = 1) [0m
  [4;36;1mExpenseTag Load (1.0ms)[0m   [0;1mSELECT * FROM `expense_tags` INNER JOIN `expense_items_expense_tags` ON `expense_tags`.id = `expense_items_expense_tags`.expense_tag_id WHERE (`expense_items_expense_tags`.expense_item_id = 12 ) [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM `expense_types` WHERE (`expense_types`.`id` = 1) [0m
  [4;36;1mExpenseTag Load (1.0ms)[0m   [0;1mSELECT * FROM `expense_tags` INNER JOIN `expense_items_expense_tags` ON `expense_tags`.id = `expense_items_expense_tags`.expense_tag_id WHERE (`expense_items_expense_tags`.expense_item_id = 13 ) [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM `expense_types` WHERE (`expense_types`.`id` = 1) [0m
  [4;36;1mExpenseTag Load (0.0ms)[0m   [0;1mSELECT * FROM `expense_tags` INNER JOIN `expense_items_expense_tags` ON `expense_tags`.id = `expense_items_expense_tags`.expense_tag_id WHERE (`expense_items_expense_tags`.expense_item_id = 14 ) [0m
  [4;35;1mExpenseType Load (1.0ms)[0m   [0mSELECT * FROM `expense_types` WHERE (`expense_types`.`id` = 3) [0m
  [4;36;1mExpenseTag Load (1.0ms)[0m   [0;1mSELECT * FROM `expense_tags` INNER JOIN `expense_items_expense_tags` ON `expense_tags`.id = `expense_items_expense_tags`.expense_tag_id WHERE (`expense_items_expense_tags`.expense_item_id = 15 ) [0m
Completed in 740ms (View: 428, DB: 213) | 200 OK [http://localhost/expense]
  [4;35;1mSQL (0.0ms)[0m   [0mSET NAMES 'utf8'[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mSET SQL_AUTO_IS_NULL=0[0m


Processing ExpenseTypesController#index (for 127.0.0.1 at 2010-05-09 10:05:25) [GET]
  [4;35;1mExpenseType Load (1.0ms)[0m   [0mSELECT * FROM `expense_types` [0m
Rendering template within layouts/expense_types
Rendering expense_types/index
  [4;36;1mExpenseType Columns (15.0ms)[0m   [0;1mSHOW FIELDS FROM `expense_types`[0m
Completed in 226ms (View: 168, DB: 16) | 200 OK [http://localhost/expense_types]
  [4;35;1mSQL (0.0ms)[0m   [0mSET NAMES 'utf8'[0m
  [4;36;1mSQL (1.0ms)[0m   [0;1mSET SQL_AUTO_IS_NULL=0[0m


Processing ExpenseController#index (for 127.0.0.1 at 2010-05-09 10:05:33) [GET]
  [4;35;1mExpenseItem Load (1.0ms)[0m   [0mSELECT * FROM `expense_items` WHERE (date BETWEEN '2010-05-01' and '2010-05-31') [0m
Rendering template within layouts/expense
Rendering expense/index
  [4;36;1mExpenseItem Columns (22.0ms)[0m   [0;1mSHOW FIELDS FROM `expense_items`[0m
  [4;35;1mExpenseType Columns (4.0ms)[0m   [0mSHOW FIELDS FROM `expense_types`[0m
  [4;36;1mExpenseType Load (5.0ms)[0m   [0;1mSELECT * FROM `expense_types` WHERE (`expense_types`.`id` = 1) [0m
  [4;35;1mexpense_items_expense_tags Columns (3.0ms)[0m   [0mSHOW FIELDS FROM `expense_items_expense_tags`[0m
  [4;36;1mExpenseTag Load (1.0ms)[0m   [0;1mSELECT * FROM `expense_tags` INNER JOIN `expense_items_expense_tags` ON `expense_tags`.id = `expense_items_expense_tags`.expense_tag_id WHERE (`expense_items_expense_tags`.expense_item_id = 4 ) [0m
  [4;35;1mExpenseTag Columns (3.0ms)[0m   [0mSHOW FIELDS FROM `expense_tags`[0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT * FROM `expense_types` WHERE (`expense_types`.`id` = 1) [0m
  [4;35;1mExpenseTag Load (1.0ms)[0m   [0mSELECT * FROM `expense_tags` INNER JOIN `expense_items_expense_tags` ON `expense_tags`.id = `expense_items_expense_tags`.expense_tag_id WHERE (`expense_items_expense_tags`.expense_item_id = 5 ) [0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT * FROM `expense_types` WHERE (`expense_types`.`id` = 1) [0m
  [4;35;1mExpenseTag Load (0.0ms)[0m   [0mSELECT * FROM `expense_tags` INNER JOIN `expense_items_expense_tags` ON `expense_tags`.id = `expense_items_expense_tags`.expense_tag_id WHERE (`expense_items_expense_tags`.expense_item_id = 6 ) [0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT * FROM `expense_types` WHERE (`expense_types`.`id` = 1) [0m
  [4;35;1mExpenseTag Load (1.0ms)[0m   [0mSELECT * FROM `expense_tags` INNER JOIN `expense_items_expense_tags` ON `expense_tags`.id = `expense_items_expense_tags`.expense_tag_id WHERE (`expense_items_expense_tags`.expense_item_id = 7 ) [0m
  [4;36;1mExpenseType Load (1.0ms)[0m   [0;1mSELECT * FROM `expense_types` WHERE (`expense_types`.`id` = 2) [0m
  [4;35;1mExpenseTag Load (0.0ms)[0m   [0mSELECT * FROM `expense_tags` INNER JOIN `expense_items_expense_tags` ON `expense_tags`.id = `expense_items_expense_tags`.expense_tag_id WHERE (`expense_items_expense_tags`.expense_item_id = 8 ) [0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT * FROM `expense_types` WHERE (`expense_types`.`id` = 1) [0m
  [4;35;1mExpenseTag Load (1.0ms)[0m   [0mSELECT * FROM `expense_tags` INNER JOIN `expense_items_expense_tags` ON `expense_tags`.id = `expense_items_expense_tags`.expense_tag_id WHERE (`expense_items_expense_tags`.expense_item_id = 9 ) [0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT * FROM `expense_types` WHERE (`expense_types`.`id` = 2) [0m
  [4;35;1mExpenseTag Load (0.0ms)[0m   [0mSELECT * FROM `expense_tags` INNER JOIN `expense_items_expense_tags` ON `expense_tags`.id = `expense_items_expense_tags`.expense_tag_id WHERE (`expense_items_expense_tags`.expense_item_id = 10 ) [0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT * FROM `expense_types` WHERE (`expense_types`.`id` = 1) [0m
  [4;35;1mExpenseTag Load (1.0ms)[0m   [0mSELECT * FROM `expense_tags` INNER JOIN `expense_items_expense_tags` ON `expense_tags`.id = `expense_items_expense_tags`.expense_tag_id WHERE (`expense_items_expense_tags`.expense_item_id = 11 ) [0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT * FROM `expense_types` WHERE (`expense_types`.`id` = 1) [0m
  [4;35;1mExpenseTag Load (1.0ms)[0m   [0mSELECT * FROM `expense_tags` INNER JOIN `expense_items_expense_tags` ON `expense_tags`.id = `expense_items_expense_tags`.expense_tag_id WHERE (`expense_items_expense_tags`.expense_item_id = 12 ) [0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT * FROM `expense_types` WHERE (`expense_types`.`id` = 1) [0m
  [4;35;1mExpenseTag Load (1.0ms)[0m   [0mSELECT * FROM `expense_tags` INNER JOIN `expense_items_expense_tags` ON `expense_tags`.id = `expense_items_expense_tags`.expense_tag_id WHERE (`expense_items_expense_tags`.expense_item_id = 13 ) [0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT * FROM `expense_types` WHERE (`expense_types`.`id` = 1) [0m
  [4;35;1mExpenseTag Load (0.0ms)[0m   [0mSELECT * FROM `expense_tags` INNER JOIN `expense_items_expense_tags` ON `expense_tags`.id = `expense_items_expense_tags`.expense_tag_id WHERE (`expense_items_expense_tags`.expense_item_id = 14 ) [0m
  [4;36;1mExpenseType Load (1.0ms)[0m   [0;1mSELECT * FROM `expense_types` WHERE (`expense_types`.`id` = 3) [0m
  [4;35;1mExpenseTag Load (0.0ms)[0m   [0mSELECT * FROM `expense_tags` INNER JOIN `expense_items_expense_tags` ON `expense_tags`.id = `expense_items_expense_tags`.expense_tag_id WHERE (`expense_items_expense_tags`.expense_item_id = 15 ) [0m
Completed in 224ms (View: 166, DB: 48) | 200 OK [http://localhost/expense]
  [4;36;1mSQL (0.0ms)[0m   [0;1mSET NAMES 'utf8'[0m
  [4;35;1mSQL (1.0ms)[0m   [0mSET SQL_AUTO_IS_NULL=0[0m


Processing ExpenseTagsController#index (for 127.0.0.1 at 2010-05-09 10:05:35) [GET]
  [4;36;1mExpenseTag Load (1.0ms)[0m   [0;1mSELECT * FROM `expense_tags` [0m
Rendering template within layouts/expense_tags
Rendering expense_tags/index
  [4;35;1mExpenseTag Columns (19.0ms)[0m   [0mSHOW FIELDS FROM `expense_tags`[0m
Completed in 67ms (View: 39, DB: 21) | 200 OK [http://localhost/expense_tags]
  [4;36;1mSQL (0.0ms)[0m   [0;1mSET NAMES 'utf8'[0m
  [4;35;1mSQL (1.0ms)[0m   [0mSET SQL_AUTO_IS_NULL=0[0m


Processing ExpenseController#index (for 127.0.0.1 at 2010-05-09 10:14:25) [GET]
  [4;36;1mExpenseItem Load (1.0ms)[0m   [0;1mSELECT * FROM `expense_items` WHERE (date BETWEEN '2010-05-01' and '2010-05-31') [0m
Rendering template within layouts/expense
Rendering expense/index
  [4;35;1mExpenseItem Columns (4.0ms)[0m   [0mSHOW FIELDS FROM `expense_items`[0m
  [4;36;1mExpenseType Columns (4.0ms)[0m   [0;1mSHOW FIELDS FROM `expense_types`[0m
  [4;35;1mExpenseType Load (6.0ms)[0m   [0mSELECT * FROM `expense_types` WHERE (`expense_types`.`id` = 1) [0m
  [4;36;1mexpense_items_expense_tags Columns (4.0ms)[0m   [0;1mSHOW FIELDS FROM `expense_items_expense_tags`[0m
  [4;35;1mExpenseTag Load (3.0ms)[0m   [0mSELECT * FROM `expense_tags` INNER JOIN `expense_items_expense_tags` ON `expense_tags`.id = `expense_items_expense_tags`.expense_tag_id WHERE (`expense_items_expense_tags`.expense_item_id = 4 ) [0m
  [4;36;1mExpenseTag Columns (4.0ms)[0m   [0;1mSHOW FIELDS FROM `expense_tags`[0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM `expense_types` WHERE (`expense_types`.`id` = 1) [0m
  [4;36;1mExpenseTag Load (0.0ms)[0m   [0;1mSELECT * FROM `expense_tags` INNER JOIN `expense_items_expense_tags` ON `expense_tags`.id = `expense_items_expense_tags`.expense_tag_id WHERE (`expense_items_expense_tags`.expense_item_id = 5 ) [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM `expense_types` WHERE (`expense_types`.`id` = 1) [0m
  [4;36;1mExpenseTag Load (1.0ms)[0m   [0;1mSELECT * FROM `expense_tags` INNER JOIN `expense_items_expense_tags` ON `expense_tags`.id = `expense_items_expense_tags`.expense_tag_id WHERE (`expense_items_expense_tags`.expense_item_id = 6 ) [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM `expense_types` WHERE (`expense_types`.`id` = 1) [0m
  [4;36;1mExpenseTag Load (0.0ms)[0m   [0;1mSELECT * FROM `expense_tags` INNER JOIN `expense_items_expense_tags` ON `expense_tags`.id = `expense_items_expense_tags`.expense_tag_id WHERE (`expense_items_expense_tags`.expense_item_id = 7 ) [0m
  [4;35;1mExpenseType Load (0.0ms)[0m   [0mSELECT * FROM `expense_types` WHERE (`expense_types`.`id` = 2) [0m
  [4;36;1mExpenseTag Load (1.0ms)[0m   [0;1mSELECT * FROM `expense_tags` INNER JOIN `expense_items_expense_tags` ON `expense_tags`.id = `expense_items_expense_tags`.expense_tag_id WHERE (`expense_items_expense_tags`.expense_item_id = 8 ) [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM `expense_types` WHERE (`expense_types`.`id` = 1) [0m
  [4;36;1mExpenseTag Load (0.0ms)[0m   [0;1mSELECT * FROM `expense_tags` INNER JOIN `expense_items_expense_tags` ON `expense_tags`.id = `expense_items_expense_tags`.expense_tag_id WHERE (`expense_items_expense_tags`.expense_item_id = 9 ) [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM `expense_types` WHERE (`expense_types`.`id` = 2) [0m
  [4;36;1mExpenseTag Load (1.0ms)[0m   [0;1mSELECT * FROM `expense_tags` INNER JOIN `expense_items_expense_tags` ON `expense_tags`.id = `expense_items_expense_tags`.expense_tag_id WHERE (`expense_items_expense_tags`.expense_item_id = 10 ) [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM `expense_types` WHERE (`expense_types`.`id` = 1) [0m
  [4;36;1mExpenseTag Load (0.0ms)[0m   [0;1mSELECT * FROM `expense_tags` INNER JOIN `expense_items_expense_tags` ON `expense_tags`.id = `expense_items_expense_tags`.expense_tag_id WHERE (`expense_items_expense_tags`.expense_item_id = 11 ) [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM `expense_types` WHERE (`expense_types`.`id` = 1) [0m
  [4;36;1mExpenseTag Load (0.0ms)[0m   [0;1mSELECT * FROM `expense_tags` INNER JOIN `expense_items_expense_tags` ON `expense_tags`.id = `expense_items_expense_tags`.expense_tag_id WHERE (`expense_items_expense_tags`.expense_item_id = 12 ) [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM `expense_types` WHERE (`expense_types`.`id` = 1) [0m
  [4;36;1mExpenseTag Load (1.0ms)[0m   [0;1mSELECT * FROM `expense_tags` INNER JOIN `expense_items_expense_tags` ON `expense_tags`.id = `expense_items_expense_tags`.expense_tag_id WHERE (`expense_items_expense_tags`.expense_item_id = 13 ) [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM `expense_types` WHERE (`expense_types`.`id` = 1) [0m
  [4;36;1mExpenseTag Load (0.0ms)[0m   [0;1mSELECT * FROM `expense_tags` INNER JOIN `expense_items_expense_tags` ON `expense_tags`.id = `expense_items_expense_tags`.expense_tag_id WHERE (`expense_items_expense_tags`.expense_item_id = 14 ) [0m
  [4;35;1mExpenseType Load (0.0ms)[0m   [0mSELECT * FROM `expense_types` WHERE (`expense_types`.`id` = 3) [0m
  [4;36;1mExpenseTag Load (0.0ms)[0m   [0;1mSELECT * FROM `expense_tags` INNER JOIN `expense_items_expense_tags` ON `expense_tags`.id = `expense_items_expense_tags`.expense_tag_id WHERE (`expense_items_expense_tags`.expense_item_id = 15 ) [0m
Completed in 199ms (View: 157, DB: 31) | 200 OK [http://localhost/expense]
  [4;35;1mSQL (0.0ms)[0m   [0mSET NAMES 'utf8'[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mSET SQL_AUTO_IS_NULL=0[0m


Processing ExpenseItemsController#new (for 127.0.0.1 at 2010-05-09 10:14:31) [GET]
  [4;35;1mExpenseItem Columns (7.0ms)[0m   [0mSHOW FIELDS FROM `expense_items`[0m
  [4;36;1mExpenseType Load (1.0ms)[0m   [0;1mSELECT * FROM `expense_types` [0m
  [4;35;1mExpenseType Columns (3.0ms)[0m   [0mSHOW FIELDS FROM `expense_types`[0m
  [4;36;1mExpenseTag Load (0.0ms)[0m   [0;1mSELECT * FROM `expense_tags` [0m
Rendering template within layouts/expense_items
Rendering expense_items/new
  [4;35;1mExpenseTag Columns (3.0ms)[0m   [0mSHOW FIELDS FROM `expense_tags`[0m
Completed in 105ms (View: 64, DB: 14) | 200 OK [http://localhost/expense_items/new]
  [4;36;1mSQL (0.0ms)[0m   [0;1mSET NAMES 'utf8'[0m
  [4;35;1mSQL (1.0ms)[0m   [0mSET SQL_AUTO_IS_NULL=0[0m


Processing ExpenseController#index (for 127.0.0.1 at 2010-05-09 10:14:39) [GET]
  [4;36;1mExpenseItem Load (1.0ms)[0m   [0;1mSELECT * FROM `expense_items` WHERE (date BETWEEN '2010-05-01' and '2010-05-31') [0m
Rendering template within layouts/expense
Rendering expense/index
  [4;35;1mExpenseItem Columns (6.0ms)[0m   [0mSHOW FIELDS FROM `expense_items`[0m
  [4;36;1mExpenseType Columns (6.0ms)[0m   [0;1mSHOW FIELDS FROM `expense_types`[0m
  [4;35;1mExpenseType Load (2.0ms)[0m   [0mSELECT * FROM `expense_types` WHERE (`expense_types`.`id` = 1) [0m
  [4;36;1mexpense_items_expense_tags Columns (4.0ms)[0m   [0;1mSHOW FIELDS FROM `expense_items_expense_tags`[0m
  [4;35;1mExpenseTag Load (2.0ms)[0m   [0mSELECT * FROM `expense_tags` INNER JOIN `expense_items_expense_tags` ON `expense_tags`.id = `expense_items_expense_tags`.expense_tag_id WHERE (`expense_items_expense_tags`.expense_item_id = 4 ) [0m
  [4;36;1mExpenseTag Columns (3.0ms)[0m   [0;1mSHOW FIELDS FROM `expense_tags`[0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM `expense_types` WHERE (`expense_types`.`id` = 1) [0m
  [4;36;1mExpenseTag Load (0.0ms)[0m   [0;1mSELECT * FROM `expense_tags` INNER JOIN `expense_items_expense_tags` ON `expense_tags`.id = `expense_items_expense_tags`.expense_tag_id WHERE (`expense_items_expense_tags`.expense_item_id = 5 ) [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM `expense_types` WHERE (`expense_types`.`id` = 1) [0m
  [4;36;1mExpenseTag Load (1.0ms)[0m   [0;1mSELECT * FROM `expense_tags` INNER JOIN `expense_items_expense_tags` ON `expense_tags`.id = `expense_items_expense_tags`.expense_tag_id WHERE (`expense_items_expense_tags`.expense_item_id = 6 ) [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM `expense_types` WHERE (`expense_types`.`id` = 1) [0m
  [4;36;1mExpenseTag Load (0.0ms)[0m   [0;1mSELECT * FROM `expense_tags` INNER JOIN `expense_items_expense_tags` ON `expense_tags`.id = `expense_items_expense_tags`.expense_tag_id WHERE (`expense_items_expense_tags`.expense_item_id = 7 ) [0m
  [4;35;1mExpenseType Load (1.0ms)[0m   [0mSELECT * FROM `expense_types` WHERE (`expense_types`.`id` = 2) [0m
  [4;36;1mExpenseTag Load (1.0ms)[0m   [0;1mSELECT * FROM `expense_tags` INNER JOIN `expense_items_expense_tags` ON `expense_tags`.id = `expense_items_expense_tags`.expense_tag_id WHERE (`expense_items_expense_tags`.expense_item_id = 8 ) [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM `expense_types` WHERE (`expense_types`.`id` = 1) [0m
  [4;36;1mExpenseTag Load (0.0ms)[0m   [0;1mSELECT * FROM `expense_tags` INNER JOIN `expense_items_expense_tags` ON `expense_tags`.id = `expense_items_expense_tags`.expense_tag_id WHERE (`expense_items_expense_tags`.expense_item_id = 9 ) [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM `expense_types` WHERE (`expense_types`.`id` = 2) [0m
  [4;36;1mExpenseTag Load (0.0ms)[0m   [0;1mSELECT * FROM `expense_tags` INNER JOIN `expense_items_expense_tags` ON `expense_tags`.id = `expense_items_expense_tags`.expense_tag_id WHERE (`expense_items_expense_tags`.expense_item_id = 10 ) [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM `expense_types` WHERE (`expense_types`.`id` = 1) [0m
  [4;36;1mExpenseTag Load (1.0ms)[0m   [0;1mSELECT * FROM `expense_tags` INNER JOIN `expense_items_expense_tags` ON `expense_tags`.id = `expense_items_expense_tags`.expense_tag_id WHERE (`expense_items_expense_tags`.expense_item_id = 11 ) [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM `expense_types` WHERE (`expense_types`.`id` = 1) [0m
  [4;36;1mExpenseTag Load (1.0ms)[0m   [0;1mSELECT * FROM `expense_tags` INNER JOIN `expense_items_expense_tags` ON `expense_tags`.id = `expense_items_expense_tags`.expense_tag_id WHERE (`expense_items_expense_tags`.expense_item_id = 12 ) [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM `expense_types` WHERE (`expense_types`.`id` = 1) [0m
  [4;36;1mExpenseTag Load (1.0ms)[0m   [0;1mSELECT * FROM `expense_tags` INNER JOIN `expense_items_expense_tags` ON `expense_tags`.id = `expense_items_expense_tags`.expense_tag_id WHERE (`expense_items_expense_tags`.expense_item_id = 13 ) [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM `expense_types` WHERE (`expense_types`.`id` = 1) [0m
  [4;36;1mExpenseTag Load (0.0ms)[0m   [0;1mSELECT * FROM `expense_tags` INNER JOIN `expense_items_expense_tags` ON `expense_tags`.id = `expense_items_expense_tags`.expense_tag_id WHERE (`expense_items_expense_tags`.expense_item_id = 14 ) [0m
  [4;35;1mExpenseType Load (1.0ms)[0m   [0mSELECT * FROM `expense_types` WHERE (`expense_types`.`id` = 3) [0m
  [4;36;1mExpenseTag Load (0.0ms)[0m   [0;1mSELECT * FROM `expense_tags` INNER JOIN `expense_items_expense_tags` ON `expense_tags`.id = `expense_items_expense_tags`.expense_tag_id WHERE (`expense_items_expense_tags`.expense_item_id = 15 ) [0m
Completed in 125ms (View: 84, DB: 32) | 200 OK [http://localhost/expense]
  [4;35;1mSQL (0.0ms)[0m   [0mSET NAMES 'utf8'[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mSET SQL_AUTO_IS_NULL=0[0m


Processing ExpenseTypesController#index (for 127.0.0.1 at 2010-05-09 10:14:41) [GET]
  [4;35;1mExpenseType Load (1.0ms)[0m   [0mSELECT * FROM `expense_types` [0m
Rendering template within layouts/expense_types
Rendering expense_types/index
  [4;36;1mExpenseType Columns (5.0ms)[0m   [0;1mSHOW FIELDS FROM `expense_types`[0m
Completed in 89ms (View: 30, DB: 6) | 200 OK [http://localhost/expense_types]
  [4;35;1mSQL (0.0ms)[0m   [0mSET NAMES 'utf8'[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mSET SQL_AUTO_IS_NULL=0[0m


Processing ExpenseController#index (for 127.0.0.1 at 2010-05-09 10:14:52) [GET]
  Parameters: {"month"=>"5", "year"=>"2010"}
  [4;35;1mExpenseItem Load (0.0ms)[0m   [0mSELECT * FROM `expense_items` WHERE (date BETWEEN '2010-05-01' and '2010-05-31') [0m
Rendering template within layouts/expense
Rendering expense/index
  [4;36;1mExpenseItem Columns (7.0ms)[0m   [0;1mSHOW FIELDS FROM `expense_items`[0m
  [4;35;1mExpenseType Columns (30.0ms)[0m   [0mSHOW FIELDS FROM `expense_types`[0m
  [4;36;1mExpenseType Load (4.0ms)[0m   [0;1mSELECT * FROM `expense_types` WHERE (`expense_types`.`id` = 1) [0m
  [4;35;1mexpense_items_expense_tags Columns (3.0ms)[0m   [0mSHOW FIELDS FROM `expense_items_expense_tags`[0m
  [4;36;1mExpenseTag Load (4.0ms)[0m   [0;1mSELECT * FROM `expense_tags` INNER JOIN `expense_items_expense_tags` ON `expense_tags`.id = `expense_items_expense_tags`.expense_tag_id WHERE (`expense_items_expense_tags`.expense_item_id = 4 ) [0m
  [4;35;1mExpenseTag Columns (4.0ms)[0m   [0mSHOW FIELDS FROM `expense_tags`[0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT * FROM `expense_types` WHERE (`expense_types`.`id` = 1) [0m
  [4;35;1mExpenseTag Load (1.0ms)[0m   [0mSELECT * FROM `expense_tags` INNER JOIN `expense_items_expense_tags` ON `expense_tags`.id = `expense_items_expense_tags`.expense_tag_id WHERE (`expense_items_expense_tags`.expense_item_id = 5 ) [0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT * FROM `expense_types` WHERE (`expense_types`.`id` = 1) [0m
  [4;35;1mExpenseTag Load (0.0ms)[0m   [0mSELECT * FROM `expense_tags` INNER JOIN `expense_items_expense_tags` ON `expense_tags`.id = `expense_items_expense_tags`.expense_tag_id WHERE (`expense_items_expense_tags`.expense_item_id = 6 ) [0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT * FROM `expense_types` WHERE (`expense_types`.`id` = 1) [0m
  [4;35;1mExpenseTag Load (0.0ms)[0m   [0mSELECT * FROM `expense_tags` INNER JOIN `expense_items_expense_tags` ON `expense_tags`.id = `expense_items_expense_tags`.expense_tag_id WHERE (`expense_items_expense_tags`.expense_item_id = 7 ) [0m
  [4;36;1mExpenseType Load (1.0ms)[0m   [0;1mSELECT * FROM `expense_types` WHERE (`expense_types`.`id` = 2) [0m
  [4;35;1mExpenseTag Load (1.0ms)[0m   [0mSELECT * FROM `expense_tags` INNER JOIN `expense_items_expense_tags` ON `expense_tags`.id = `expense_items_expense_tags`.expense_tag_id WHERE (`expense_items_expense_tags`.expense_item_id = 8 ) [0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT * FROM `expense_types` WHERE (`expense_types`.`id` = 1) [0m
  [4;35;1mExpenseTag Load (0.0ms)[0m   [0mSELECT * FROM `expense_tags` INNER JOIN `expense_items_expense_tags` ON `expense_tags`.id = `expense_items_expense_tags`.expense_tag_id WHERE (`expense_items_expense_tags`.expense_item_id = 9 ) [0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT * FROM `expense_types` WHERE (`expense_types`.`id` = 2) [0m
  [4;35;1mExpenseTag Load (0.0ms)[0m   [0mSELECT * FROM `expense_tags` INNER JOIN `expense_items_expense_tags` ON `expense_tags`.id = `expense_items_expense_tags`.expense_tag_id WHERE (`expense_items_expense_tags`.expense_item_id = 10 ) [0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT * FROM `expense_types` WHERE (`expense_types`.`id` = 1) [0m
  [4;35;1mExpenseTag Load (1.0ms)[0m   [0mSELECT * FROM `expense_tags` INNER JOIN `expense_items_expense_tags` ON `expense_tags`.id = `expense_items_expense_tags`.expense_tag_id WHERE (`expense_items_expense_tags`.expense_item_id = 11 ) [0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT * FROM `expense_types` WHERE (`expense_types`.`id` = 1) [0m
  [4;35;1mExpenseTag Load (1.0ms)[0m   [0mSELECT * FROM `expense_tags` INNER JOIN `expense_items_expense_tags` ON `expense_tags`.id = `expense_items_expense_tags`.expense_tag_id WHERE (`expense_items_expense_tags`.expense_item_id = 12 ) [0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT * FROM `expense_types` WHERE (`expense_types`.`id` = 1) [0m
  [4;35;1mExpenseTag Load (0.0ms)[0m   [0mSELECT * FROM `expense_tags` INNER JOIN `expense_items_expense_tags` ON `expense_tags`.id = `expense_items_expense_tags`.expense_tag_id WHERE (`expense_items_expense_tags`.expense_item_id = 13 ) [0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT * FROM `expense_types` WHERE (`expense_types`.`id` = 1) [0m
  [4;35;1mExpenseTag Load (0.0ms)[0m   [0mSELECT * FROM `expense_tags` INNER JOIN `expense_items_expense_tags` ON `expense_tags`.id = `expense_items_expense_tags`.expense_tag_id WHERE (`expense_items_expense_tags`.expense_item_id = 14 ) [0m
  [4;36;1mExpenseType Load (1.0ms)[0m   [0;1mSELECT * FROM `expense_types` WHERE (`expense_types`.`id` = 3) [0m
  [4;35;1mExpenseTag Load (1.0ms)[0m   [0mSELECT * FROM `expense_tags` INNER JOIN `expense_items_expense_tags` ON `expense_tags`.id = `expense_items_expense_tags`.expense_tag_id WHERE (`expense_items_expense_tags`.expense_item_id = 15 ) [0m
Completed in 162ms (View: 91, DB: 59) | 200 OK [http://localhost/expense/2010/5]
  [4;36;1mSQL (0.0ms)[0m   [0;1mSET NAMES 'utf8'[0m
  [4;35;1mSQL (0.0ms)[0m   [0mSET SQL_AUTO_IS_NULL=0[0m


Processing ExpenseTagsController#index (for 127.0.0.1 at 2010-05-09 10:14:53) [GET]
  [4;36;1mExpenseTag Load (0.0ms)[0m   [0;1mSELECT * FROM `expense_tags` [0m
Rendering template within layouts/expense_tags
Rendering expense_tags/index
  [4;35;1mExpenseTag Columns (5.0ms)[0m   [0mSHOW FIELDS FROM `expense_tags`[0m
Completed in 48ms (View: 28, DB: 5) | 200 OK [http://localhost/expense_tags]
  [4;36;1mSQL (1.0ms)[0m   [0;1mSET NAMES 'utf8'[0m
  [4;35;1mSQL (0.0ms)[0m   [0mSET SQL_AUTO_IS_NULL=0[0m


Processing ExpenseTagsController#index (for 127.0.0.1 at 2010-05-09 10:15:21) [GET]
  [4;36;1mExpenseTag Load (1.0ms)[0m   [0;1mSELECT * FROM `expense_tags` [0m
Rendering template within layouts/expense_tags
Rendering expense_tags/index
  [4;35;1mExpenseTag Columns (52.0ms)[0m   [0mSHOW FIELDS FROM `expense_tags`[0m
Completed in 96ms (View: 29, DB: 54) | 200 OK [http://localhost/expense_tags]
  [4;36;1mSQL (0.0ms)[0m   [0;1mSET NAMES 'utf8'[0m
  [4;35;1mSQL (0.0ms)[0m   [0mSET SQL_AUTO_IS_NULL=0[0m


Processing ExpenseController#index (for 127.0.0.1 at 2010-05-09 10:15:25) [GET]
  Parameters: {"month"=>"5", "year"=>"2010"}
  [4;36;1mExpenseItem Load (0.0ms)[0m   [0;1mSELECT * FROM `expense_items` WHERE (date BETWEEN '2010-05-01' and '2010-05-31') [0m
Rendering template within layouts/expense
Rendering expense/index
  [4;35;1mExpenseItem Columns (4.0ms)[0m   [0mSHOW FIELDS FROM `expense_items`[0m
  [4;36;1mExpenseType Columns (3.0ms)[0m   [0;1mSHOW FIELDS FROM `expense_types`[0m
  [4;35;1mExpenseType Load (5.0ms)[0m   [0mSELECT * FROM `expense_types` WHERE (`expense_types`.`id` = 1) [0m
  [4;36;1mexpense_items_expense_tags Columns (3.0ms)[0m   [0;1mSHOW FIELDS FROM `expense_items_expense_tags`[0m
  [4;35;1mExpenseTag Load (3.0ms)[0m   [0mSELECT * FROM `expense_tags` INNER JOIN `expense_items_expense_tags` ON `expense_tags`.id = `expense_items_expense_tags`.expense_tag_id WHERE (`expense_items_expense_tags`.expense_item_id = 4 ) [0m
  [4;36;1mExpenseTag Columns (4.0ms)[0m   [0;1mSHOW FIELDS FROM `expense_tags`[0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM `expense_types` WHERE (`expense_types`.`id` = 1) [0m
  [4;36;1mExpenseTag Load (0.0ms)[0m   [0;1mSELECT * FROM `expense_tags` INNER JOIN `expense_items_expense_tags` ON `expense_tags`.id = `expense_items_expense_tags`.expense_tag_id WHERE (`expense_items_expense_tags`.expense_item_id = 5 ) [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM `expense_types` WHERE (`expense_types`.`id` = 1) [0m
  [4;36;1mExpenseTag Load (0.0ms)[0m   [0;1mSELECT * FROM `expense_tags` INNER JOIN `expense_items_expense_tags` ON `expense_tags`.id = `expense_items_expense_tags`.expense_tag_id WHERE (`expense_items_expense_tags`.expense_item_id = 6 ) [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM `expense_types` WHERE (`expense_types`.`id` = 1) [0m
  [4;36;1mExpenseTag Load (0.0ms)[0m   [0;1mSELECT * FROM `expense_tags` INNER JOIN `expense_items_expense_tags` ON `expense_tags`.id = `expense_items_expense_tags`.expense_tag_id WHERE (`expense_items_expense_tags`.expense_item_id = 7 ) [0m
  [4;35;1mExpenseType Load (1.0ms)[0m   [0mSELECT * FROM `expense_types` WHERE (`expense_types`.`id` = 2) [0m
  [4;36;1mExpenseTag Load (1.0ms)[0m   [0;1mSELECT * FROM `expense_tags` INNER JOIN `expense_items_expense_tags` ON `expense_tags`.id = `expense_items_expense_tags`.expense_tag_id WHERE (`expense_items_expense_tags`.expense_item_id = 8 ) [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM `expense_types` WHERE (`expense_types`.`id` = 1) [0m
  [4;36;1mExpenseTag Load (0.0ms)[0m   [0;1mSELECT * FROM `expense_tags` INNER JOIN `expense_items_expense_tags` ON `expense_tags`.id = `expense_items_expense_tags`.expense_tag_id WHERE (`expense_items_expense_tags`.expense_item_id = 9 ) [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM `expense_types` WHERE (`expense_types`.`id` = 2) [0m
  [4;36;1mExpenseTag Load (1.0ms)[0m   [0;1mSELECT * FROM `expense_tags` INNER JOIN `expense_items_expense_tags` ON `expense_tags`.id = `expense_items_expense_tags`.expense_tag_id WHERE (`expense_items_expense_tags`.expense_item_id = 10 ) [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM `expense_types` WHERE (`expense_types`.`id` = 1) [0m
  [4;36;1mExpenseTag Load (0.0ms)[0m   [0;1mSELECT * FROM `expense_tags` INNER JOIN `expense_items_expense_tags` ON `expense_tags`.id = `expense_items_expense_tags`.expense_tag_id WHERE (`expense_items_expense_tags`.expense_item_id = 11 ) [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM `expense_types` WHERE (`expense_types`.`id` = 1) [0m
  [4;36;1mExpenseTag Load (1.0ms)[0m   [0;1mSELECT * FROM `expense_tags` INNER JOIN `expense_items_expense_tags` ON `expense_tags`.id = `expense_items_expense_tags`.expense_tag_id WHERE (`expense_items_expense_tags`.expense_item_id = 12 ) [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM `expense_types` WHERE (`expense_types`.`id` = 1) [0m
  [4;36;1mExpenseTag Load (0.0ms)[0m   [0;1mSELECT * FROM `expense_tags` INNER JOIN `expense_items_expense_tags` ON `expense_tags`.id = `expense_items_expense_tags`.expense_tag_id WHERE (`expense_items_expense_tags`.expense_item_id = 13 ) [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM `expense_types` WHERE (`expense_types`.`id` = 1) [0m
  [4;36;1mExpenseTag Load (0.0ms)[0m   [0;1mSELECT * FROM `expense_tags` INNER JOIN `expense_items_expense_tags` ON `expense_tags`.id = `expense_items_expense_tags`.expense_tag_id WHERE (`expense_items_expense_tags`.expense_item_id = 14 ) [0m
  [4;35;1mExpenseType Load (0.0ms)[0m   [0mSELECT * FROM `expense_types` WHERE (`expense_types`.`id` = 3) [0m
  [4;36;1mExpenseTag Load (0.0ms)[0m   [0;1mSELECT * FROM `expense_tags` INNER JOIN `expense_items_expense_tags` ON `expense_tags`.id = `expense_items_expense_tags`.expense_tag_id WHERE (`expense_items_expense_tags`.expense_item_id = 15 ) [0m
Completed in 123ms (View: 86, DB: 26) | 200 OK [http://localhost/expense/2010/5]
  [4;35;1mSQL (0.0ms)[0m   [0mSET NAMES 'utf8'[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mSET SQL_AUTO_IS_NULL=0[0m


Processing ExpenseController#batch_new (for 127.0.0.1 at 2010-05-09 10:15:28) [GET]
  [4;35;1mExpenseType Load (1.0ms)[0m   [0mSELECT * FROM `expense_types` [0m
  [4;36;1mExpenseType Columns (5.0ms)[0m   [0;1mSHOW FIELDS FROM `expense_types`[0m
Rendering template within layouts/expense
Rendering expense/batch_new
Completed in 42ms (View: 26, DB: 6) | 200 OK [http://localhost/expense/batch_new]
  [4;35;1mSQL (1.0ms)[0m   [0mSET NAMES 'utf8'[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mSET SQL_AUTO_IS_NULL=0[0m


Processing ExpenseController#index (for 127.0.0.1 at 2010-05-09 10:15:35) [GET]
  Parameters: {"month"=>"5", "year"=>"2010"}
  [4;35;1mExpenseItem Load (0.0ms)[0m   [0mSELECT * FROM `expense_items` WHERE (date BETWEEN '2010-05-01' and '2010-05-31') [0m
Rendering template within layouts/expense
Rendering expense/index
  [4;36;1mExpenseItem Columns (5.0ms)[0m   [0;1mSHOW FIELDS FROM `expense_items`[0m
  [4;35;1mExpenseType Columns (4.0ms)[0m   [0mSHOW FIELDS FROM `expense_types`[0m
  [4;36;1mExpenseType Load (4.0ms)[0m   [0;1mSELECT * FROM `expense_types` WHERE (`expense_types`.`id` = 1) [0m
  [4;35;1mexpense_items_expense_tags Columns (3.0ms)[0m   [0mSHOW FIELDS FROM `expense_items_expense_tags`[0m
  [4;36;1mExpenseTag Load (3.0ms)[0m   [0;1mSELECT * FROM `expense_tags` INNER JOIN `expense_items_expense_tags` ON `expense_tags`.id = `expense_items_expense_tags`.expense_tag_id WHERE (`expense_items_expense_tags`.expense_item_id = 4 ) [0m
  [4;35;1mExpenseTag Columns (3.0ms)[0m   [0mSHOW FIELDS FROM `expense_tags`[0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT * FROM `expense_types` WHERE (`expense_types`.`id` = 1) [0m
  [4;35;1mExpenseTag Load (1.0ms)[0m   [0mSELECT * FROM `expense_tags` INNER JOIN `expense_items_expense_tags` ON `expense_tags`.id = `expense_items_expense_tags`.expense_tag_id WHERE (`expense_items_expense_tags`.expense_item_id = 5 ) [0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT * FROM `expense_types` WHERE (`expense_types`.`id` = 1) [0m
  [4;35;1mExpenseTag Load (1.0ms)[0m   [0mSELECT * FROM `expense_tags` INNER JOIN `expense_items_expense_tags` ON `expense_tags`.id = `expense_items_expense_tags`.expense_tag_id WHERE (`expense_items_expense_tags`.expense_item_id = 6 ) [0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT * FROM `expense_types` WHERE (`expense_types`.`id` = 1) [0m
  [4;35;1mExpenseTag Load (0.0ms)[0m   [0mSELECT * FROM `expense_tags` INNER JOIN `expense_items_expense_tags` ON `expense_tags`.id = `expense_items_expense_tags`.expense_tag_id WHERE (`expense_items_expense_tags`.expense_item_id = 7 ) [0m
  [4;36;1mExpenseType Load (0.0ms)[0m   [0;1mSELECT * FROM `expense_types` WHERE (`expense_types`.`id` = 2) [0m
  [4;35;1mExpenseTag Load (1.0ms)[0m   [0mSELECT * FROM `expense_tags` INNER JOIN `expense_items_expense_tags` ON `expense_tags`.id = `expense_items_expense_tags`.expense_tag_id WHERE (`expense_items_expense_tags`.expense_item_id = 8 ) [0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT * FROM `expense_types` WHERE (`expense_types`.`id` = 1) [0m
  [4;35;1mExpenseTag Load (1.0ms)[0m   [0mSELECT * FROM `expense_tags` INNER JOIN `expense_items_expense_tags` ON `expense_tags`.id = `expense_items_expense_tags`.expense_tag_id WHERE (`expense_items_expense_tags`.expense_item_id = 9 ) [0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT * FROM `expense_types` WHERE (`expense_types`.`id` = 2) [0m
  [4;35;1mExpenseTag Load (0.0ms)[0m   [0mSELECT * FROM `expense_tags` INNER JOIN `expense_items_expense_tags` ON `expense_tags`.id = `expense_items_expense_tags`.expense_tag_id WHERE (`expense_items_expense_tags`.expense_item_id = 10 ) [0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT * FROM `expense_types` WHERE (`expense_types`.`id` = 1) [0m
  [4;35;1mExpenseTag Load (1.0ms)[0m   [0mSELECT * FROM `expense_tags` INNER JOIN `expense_items_expense_tags` ON `expense_tags`.id = `expense_items_expense_tags`.expense_tag_id WHERE (`expense_items_expense_tags`.expense_item_id = 11 ) [0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT * FROM `expense_types` WHERE (`expense_types`.`id` = 1) [0m
  [4;35;1mExpenseTag Load (0.0ms)[0m   [0mSELECT * FROM `expense_tags` INNER JOIN `expense_items_expense_tags` ON `expense_tags`.id = `expense_items_expense_tags`.expense_tag_id WHERE (`expense_items_expense_tags`.expense_item_id = 12 ) [0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT * FROM `expense_types` WHERE (`expense_types`.`id` = 1) [0m
  [4;35;1mExpenseTag Load (1.0ms)[0m   [0mSELECT * FROM `expense_tags` INNER JOIN `expense_items_expense_tags` ON `expense_tags`.id = `expense_items_expense_tags`.expense_tag_id WHERE (`expense_items_expense_tags`.expense_item_id = 13 ) [0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT * FROM `expense_types` WHERE (`expense_types`.`id` = 1) [0m
  [4;35;1mExpenseTag Load (0.0ms)[0m   [0mSELECT * FROM `expense_tags` INNER JOIN `expense_items_expense_tags` ON `expense_tags`.id = `expense_items_expense_tags`.expense_tag_id WHERE (`expense_items_expense_tags`.expense_item_id = 14 ) [0m
  [4;36;1mExpenseType Load (1.0ms)[0m   [0;1mSELECT * FROM `expense_types` WHERE (`expense_types`.`id` = 3) [0m
  [4;35;1mExpenseTag Load (1.0ms)[0m   [0mSELECT * FROM `expense_tags` INNER JOIN `expense_items_expense_tags` ON `expense_tags`.id = `expense_items_expense_tags`.expense_tag_id WHERE (`expense_items_expense_tags`.expense_item_id = 15 ) [0m
Completed in 135ms (View: 93, DB: 31) | 200 OK [http://localhost/expense/2010/5]
  [4;36;1mSQL (0.0ms)[0m   [0;1mSET NAMES 'utf8'[0m
  [4;35;1mSQL (0.0ms)[0m   [0mSET SQL_AUTO_IS_NULL=0[0m


Processing ExpenseController#index (for 127.0.0.1 at 2010-05-09 10:15:38) [GET]
  Parameters: {"month"=>"4", "year"=>"2010"}
  [4;36;1mExpenseItem Load (1.0ms)[0m   [0;1mSELECT * FROM `expense_items` WHERE (date BETWEEN '2010-04-01' and '2010-04-30') [0m
Rendering template within layouts/expense
Rendering expense/index
  [4;35;1mExpenseItem Columns (4.0ms)[0m   [0mSHOW FIELDS FROM `expense_items`[0m
  [4;36;1mExpenseType Columns (4.0ms)[0m   [0;1mSHOW FIELDS FROM `expense_types`[0m
  [4;35;1mExpenseType Load (5.0ms)[0m   [0mSELECT * FROM `expense_types` WHERE (`expense_types`.`id` = 1) [0m
  [4;36;1mexpense_items_expense_tags Columns (4.0ms)[0m   [0;1mSHOW FIELDS FROM `expense_items_expense_tags`[0m
  [4;35;1mExpenseTag Load (2.0ms)[0m   [0mSELECT * FROM `expense_tags` INNER JOIN `expense_items_expense_tags` ON `expense_tags`.id = `expense_items_expense_tags`.expense_tag_id WHERE (`expense_items_expense_tags`.expense_item_id = 1 ) [0m
  [4;36;1mExpenseType Load (0.0ms)[0m   [0;1mSELECT * FROM `expense_types` WHERE (`expense_types`.`id` = 2) [0m
  [4;35;1mExpenseTag Load (0.0ms)[0m   [0mSELECT * FROM `expense_tags` INNER JOIN `expense_items_expense_tags` ON `expense_tags`.id = `expense_items_expense_tags`.expense_tag_id WHERE (`expense_items_expense_tags`.expense_item_id = 2 ) [0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT * FROM `expense_types` WHERE (`expense_types`.`id` = 1) [0m
  [4;35;1mExpenseTag Load (1.0ms)[0m   [0mSELECT * FROM `expense_tags` INNER JOIN `expense_items_expense_tags` ON `expense_tags`.id = `expense_items_expense_tags`.expense_tag_id WHERE (`expense_items_expense_tags`.expense_item_id = 3 ) [0m
Completed in 70ms (View: 39, DB: 21) | 200 OK [http://localhost/expense/2010/4]
  [4;36;1mSQL (0.0ms)[0m   [0;1mSET NAMES 'utf8'[0m
  [4;35;1mSQL (1.0ms)[0m   [0mSET SQL_AUTO_IS_NULL=0[0m


Processing ExpenseController#index (for 127.0.0.1 at 2010-05-09 10:15:39) [GET]
  Parameters: {"month"=>"5", "year"=>"2010"}
  [4;36;1mExpenseItem Load (0.0ms)[0m   [0;1mSELECT * FROM `expense_items` WHERE (date BETWEEN '2010-05-01' and '2010-05-31') [0m
Rendering template within layouts/expense
Rendering expense/index
  [4;35;1mExpenseItem Columns (4.0ms)[0m   [0mSHOW FIELDS FROM `expense_items`[0m
  [4;36;1mExpenseType Columns (4.0ms)[0m   [0;1mSHOW FIELDS FROM `expense_types`[0m
  [4;35;1mExpenseType Load (27.0ms)[0m   [0mSELECT * FROM `expense_types` WHERE (`expense_types`.`id` = 1) [0m
  [4;36;1mexpense_items_expense_tags Columns (3.0ms)[0m   [0;1mSHOW FIELDS FROM `expense_items_expense_tags`[0m
  [4;35;1mExpenseTag Load (2.0ms)[0m   [0mSELECT * FROM `expense_tags` INNER JOIN `expense_items_expense_tags` ON `expense_tags`.id = `expense_items_expense_tags`.expense_tag_id WHERE (`expense_items_expense_tags`.expense_item_id = 4 ) [0m
  [4;36;1mExpenseTag Columns (4.0ms)[0m   [0;1mSHOW FIELDS FROM `expense_tags`[0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM `expense_types` WHERE (`expense_types`.`id` = 1) [0m
  [4;36;1mExpenseTag Load (0.0ms)[0m   [0;1mSELECT * FROM `expense_tags` INNER JOIN `expense_items_expense_tags` ON `expense_tags`.id = `expense_items_expense_tags`.expense_tag_id WHERE (`expense_items_expense_tags`.expense_item_id = 5 ) [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM `expense_types` WHERE (`expense_types`.`id` = 1) [0m
  [4;36;1mExpenseTag Load (1.0ms)[0m   [0;1mSELECT * FROM `expense_tags` INNER JOIN `expense_items_expense_tags` ON `expense_tags`.id = `expense_items_expense_tags`.expense_tag_id WHERE (`expense_items_expense_tags`.expense_item_id = 6 ) [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM `expense_types` WHERE (`expense_types`.`id` = 1) [0m
  [4;36;1mExpenseTag Load (0.0ms)[0m   [0;1mSELECT * FROM `expense_tags` INNER JOIN `expense_items_expense_tags` ON `expense_tags`.id = `expense_items_expense_tags`.expense_tag_id WHERE (`expense_items_expense_tags`.expense_item_id = 7 ) [0m
  [4;35;1mExpenseType Load (0.0ms)[0m   [0mSELECT * FROM `expense_types` WHERE (`expense_types`.`id` = 2) [0m
  [4;36;1mExpenseTag Load (0.0ms)[0m   [0;1mSELECT * FROM `expense_tags` INNER JOIN `expense_items_expense_tags` ON `expense_tags`.id = `expense_items_expense_tags`.expense_tag_id WHERE (`expense_items_expense_tags`.expense_item_id = 8 ) [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM `expense_types` WHERE (`expense_types`.`id` = 1) [0m
  [4;36;1mExpenseTag Load (1.0ms)[0m   [0;1mSELECT * FROM `expense_tags` INNER JOIN `expense_items_expense_tags` ON `expense_tags`.id = `expense_items_expense_tags`.expense_tag_id WHERE (`expense_items_expense_tags`.expense_item_id = 9 ) [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM `expense_types` WHERE (`expense_types`.`id` = 2) [0m
  [4;36;1mExpenseTag Load (1.0ms)[0m   [0;1mSELECT * FROM `expense_tags` INNER JOIN `expense_items_expense_tags` ON `expense_tags`.id = `expense_items_expense_tags`.expense_tag_id WHERE (`expense_items_expense_tags`.expense_item_id = 10 ) [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM `expense_types` WHERE (`expense_types`.`id` = 1) [0m
  [4;36;1mExpenseTag Load (1.0ms)[0m   [0;1mSELECT * FROM `expense_tags` INNER JOIN `expense_items_expense_tags` ON `expense_tags`.id = `expense_items_expense_tags`.expense_tag_id WHERE (`expense_items_expense_tags`.expense_item_id = 11 ) [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM `expense_types` WHERE (`expense_types`.`id` = 1) [0m
  [4;36;1mExpenseTag Load (0.0ms)[0m   [0;1mSELECT * FROM `expense_tags` INNER JOIN `expense_items_expense_tags` ON `expense_tags`.id = `expense_items_expense_tags`.expense_tag_id WHERE (`expense_items_expense_tags`.expense_item_id = 12 ) [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM `expense_types` WHERE (`expense_types`.`id` = 1) [0m
  [4;36;1mExpenseTag Load (0.0ms)[0m   [0;1mSELECT * FROM `expense_tags` INNER JOIN `expense_items_expense_tags` ON `expense_tags`.id = `expense_items_expense_tags`.expense_tag_id WHERE (`expense_items_expense_tags`.expense_item_id = 13 ) [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM `expense_types` WHERE (`expense_types`.`id` = 1) [0m
  [4;36;1mExpenseTag Load (1.0ms)[0m   [0;1mSELECT * FROM `expense_tags` INNER JOIN `expense_items_expense_tags` ON `expense_tags`.id = `expense_items_expense_tags`.expense_tag_id WHERE (`expense_items_expense_tags`.expense_item_id = 14 ) [0m
  [4;35;1mExpenseType Load (0.0ms)[0m   [0mSELECT * FROM `expense_types` WHERE (`expense_types`.`id` = 3) [0m
  [4;36;1mExpenseTag Load (1.0ms)[0m   [0;1mSELECT * FROM `expense_tags` INNER JOIN `expense_items_expense_tags` ON `expense_tags`.id = `expense_items_expense_tags`.expense_tag_id WHERE (`expense_items_expense_tags`.expense_item_id = 15 ) [0m
Completed in 192ms (View: 130, DB: 51) | 200 OK [http://localhost/expense/2010/5]
  [4;35;1mSQL (0.0ms)[0m   [0mSET NAMES 'utf8'[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mSET SQL_AUTO_IS_NULL=0[0m


Processing ExpenseController#index (for 127.0.0.1 at 2010-05-09 10:15:40) [GET]
  Parameters: {"month"=>"6", "year"=>"2010"}
  [4;35;1mExpenseItem Load (1.0ms)[0m   [0mSELECT * FROM `expense_items` WHERE (date BETWEEN '2010-06-01' and '2010-06-30') [0m
Rendering template within layouts/expense
Rendering expense/index
Completed in 14ms (View: 4, DB: 1) | 200 OK [http://localhost/expense/2010/6]
  [4;36;1mSQL (0.0ms)[0m   [0;1mSET NAMES 'utf8'[0m
  [4;35;1mSQL (1.0ms)[0m   [0mSET SQL_AUTO_IS_NULL=0[0m


Processing ExpenseController#index (for 127.0.0.1 at 2010-05-09 10:15:42) [GET]
  Parameters: {"month"=>"5", "year"=>"2010"}
  [4;36;1mExpenseItem Load (1.0ms)[0m   [0;1mSELECT * FROM `expense_items` WHERE (date BETWEEN '2010-05-01' and '2010-05-31') [0m
Rendering template within layouts/expense
Rendering expense/index
  [4;35;1mExpenseItem Columns (5.0ms)[0m   [0mSHOW FIELDS FROM `expense_items`[0m
  [4;36;1mExpenseType Columns (4.0ms)[0m   [0;1mSHOW FIELDS FROM `expense_types`[0m
  [4;35;1mExpenseType Load (4.0ms)[0m   [0mSELECT * FROM `expense_types` WHERE (`expense_types`.`id` = 1) [0m
  [4;36;1mexpense_items_expense_tags Columns (4.0ms)[0m   [0;1mSHOW FIELDS FROM `expense_items_expense_tags`[0m
  [4;35;1mExpenseTag Load (3.0ms)[0m   [0mSELECT * FROM `expense_tags` INNER JOIN `expense_items_expense_tags` ON `expense_tags`.id = `expense_items_expense_tags`.expense_tag_id WHERE (`expense_items_expense_tags`.expense_item_id = 4 ) [0m
  [4;36;1mExpenseTag Columns (4.0ms)[0m   [0;1mSHOW FIELDS FROM `expense_tags`[0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM `expense_types` WHERE (`expense_types`.`id` = 1) [0m
  [4;36;1mExpenseTag Load (0.0ms)[0m   [0;1mSELECT * FROM `expense_tags` INNER JOIN `expense_items_expense_tags` ON `expense_tags`.id = `expense_items_expense_tags`.expense_tag_id WHERE (`expense_items_expense_tags`.expense_item_id = 5 ) [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM `expense_types` WHERE (`expense_types`.`id` = 1) [0m
  [4;36;1mExpenseTag Load (1.0ms)[0m   [0;1mSELECT * FROM `expense_tags` INNER JOIN `expense_items_expense_tags` ON `expense_tags`.id = `expense_items_expense_tags`.expense_tag_id WHERE (`expense_items_expense_tags`.expense_item_id = 6 ) [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM `expense_types` WHERE (`expense_types`.`id` = 1) [0m
  [4;36;1mExpenseTag Load (0.0ms)[0m   [0;1mSELECT * FROM `expense_tags` INNER JOIN `expense_items_expense_tags` ON `expense_tags`.id = `expense_items_expense_tags`.expense_tag_id WHERE (`expense_items_expense_tags`.expense_item_id = 7 ) [0m
  [4;35;1mExpenseType Load (0.0ms)[0m   [0mSELECT * FROM `expense_types` WHERE (`expense_types`.`id` = 2) [0m
  [4;36;1mExpenseTag Load (0.0ms)[0m   [0;1mSELECT * FROM `expense_tags` INNER JOIN `expense_items_expense_tags` ON `expense_tags`.id = `expense_items_expense_tags`.expense_tag_id WHERE (`expense_items_expense_tags`.expense_item_id = 8 ) [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM `expense_types` WHERE (`expense_types`.`id` = 1) [0m
  [4;36;1mExpenseTag Load (1.0ms)[0m   [0;1mSELECT * FROM `expense_tags` INNER JOIN `expense_items_expense_tags` ON `expense_tags`.id = `expense_items_expense_tags`.expense_tag_id WHERE (`expense_items_expense_tags`.expense_item_id = 9 ) [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM `expense_types` WHERE (`expense_types`.`id` = 2) [0m
  [4;36;1mExpenseTag Load (1.0ms)[0m   [0;1mSELECT * FROM `expense_tags` INNER JOIN `expense_items_expense_tags` ON `expense_tags`.id = `expense_items_expense_tags`.expense_tag_id WHERE (`expense_items_expense_tags`.expense_item_id = 10 ) [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM `expense_types` WHERE (`expense_types`.`id` = 1) [0m
  [4;36;1mExpenseTag Load (0.0ms)[0m   [0;1mSELECT * FROM `expense_tags` INNER JOIN `expense_items_expense_tags` ON `expense_tags`.id = `expense_items_expense_tags`.expense_tag_id WHERE (`expense_items_expense_tags`.expense_item_id = 11 ) [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM `expense_types` WHERE (`expense_types`.`id` = 1) [0m
  [4;36;1mExpenseTag Load (0.0ms)[0m   [0;1mSELECT * FROM `expense_tags` INNER JOIN `expense_items_expense_tags` ON `expense_tags`.id = `expense_items_expense_tags`.expense_tag_id WHERE (`expense_items_expense_tags`.expense_item_id = 12 ) [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM `expense_types` WHERE (`expense_types`.`id` = 1) [0m
  [4;36;1mExpenseTag Load (1.0ms)[0m   [0;1mSELECT * FROM `expense_tags` INNER JOIN `expense_items_expense_tags` ON `expense_tags`.id = `expense_items_expense_tags`.expense_tag_id WHERE (`expense_items_expense_tags`.expense_item_id = 13 ) [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM `expense_types` WHERE (`expense_types`.`id` = 1) [0m
  [4;36;1mExpenseTag Load (0.0ms)[0m   [0;1mSELECT * FROM `expense_tags` INNER JOIN `expense_items_expense_tags` ON `expense_tags`.id = `expense_items_expense_tags`.expense_tag_id WHERE (`expense_items_expense_tags`.expense_item_id = 14 ) [0m
  [4;35;1mExpenseType Load (0.0ms)[0m   [0mSELECT * FROM `expense_types` WHERE (`expense_types`.`id` = 3) [0m
  [4;36;1mExpenseTag Load (1.0ms)[0m   [0;1mSELECT * FROM `expense_tags` INNER JOIN `expense_items_expense_tags` ON `expense_tags`.id = `expense_items_expense_tags`.expense_tag_id WHERE (`expense_items_expense_tags`.expense_item_id = 15 ) [0m
Completed in 122ms (View: 82, DB: 31) | 200 OK [http://localhost/expense/2010/5]
  [4;35;1mSQL (0.0ms)[0m   [0mSET NAMES 'utf8'[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mSET SQL_AUTO_IS_NULL=0[0m


Processing ExpenseController#index (for 127.0.0.1 at 2010-05-09 10:15:43) [GET]
  Parameters: {"month"=>"4", "year"=>"2010"}
  [4;35;1mExpenseItem Load (1.0ms)[0m   [0mSELECT * FROM `expense_items` WHERE (date BETWEEN '2010-04-01' and '2010-04-30') [0m
Rendering template within layouts/expense
Rendering expense/index
  [4;36;1mExpenseItem Columns (5.0ms)[0m   [0;1mSHOW FIELDS FROM `expense_items`[0m
  [4;35;1mExpenseType Columns (3.0ms)[0m   [0mSHOW FIELDS FROM `expense_types`[0m
  [4;36;1mExpenseType Load (5.0ms)[0m   [0;1mSELECT * FROM `expense_types` WHERE (`expense_types`.`id` = 1) [0m
  [4;35;1mexpense_items_expense_tags Columns (3.0ms)[0m   [0mSHOW FIELDS FROM `expense_items_expense_tags`[0m
  [4;36;1mExpenseTag Load (2.0ms)[0m   [0;1mSELECT * FROM `expense_tags` INNER JOIN `expense_items_expense_tags` ON `expense_tags`.id = `expense_items_expense_tags`.expense_tag_id WHERE (`expense_items_expense_tags`.expense_item_id = 1 ) [0m
  [4;35;1mExpenseType Load (1.0ms)[0m   [0mSELECT * FROM `expense_types` WHERE (`expense_types`.`id` = 2) [0m
  [4;36;1mExpenseTag Load (0.0ms)[0m   [0;1mSELECT * FROM `expense_tags` INNER JOIN `expense_items_expense_tags` ON `expense_tags`.id = `expense_items_expense_tags`.expense_tag_id WHERE (`expense_items_expense_tags`.expense_item_id = 2 ) [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM `expense_types` WHERE (`expense_types`.`id` = 1) [0m
  [4;36;1mExpenseTag Load (0.0ms)[0m   [0;1mSELECT * FROM `expense_tags` INNER JOIN `expense_items_expense_tags` ON `expense_tags`.id = `expense_items_expense_tags`.expense_tag_id WHERE (`expense_items_expense_tags`.expense_item_id = 3 ) [0m
Completed in 110ms (View: 80, DB: 20) | 200 OK [http://localhost/expense/2010/4]
  [4;35;1mSQL (1.0ms)[0m   [0mSET NAMES 'utf8'[0m
  [4;36;1mSQL (1.0ms)[0m   [0;1mSET SQL_AUTO_IS_NULL=0[0m


Processing ExpenseController#index (for 127.0.0.1 at 2010-05-09 10:15:47) [GET]
  Parameters: {"month"=>"5", "year"=>"2010"}
  [4;35;1mExpenseItem Load (1.0ms)[0m   [0mSELECT * FROM `expense_items` WHERE (date BETWEEN '2010-05-01' and '2010-05-31') [0m
Rendering template within layouts/expense
Rendering expense/index
  [4;36;1mExpenseItem Columns (4.0ms)[0m   [0;1mSHOW FIELDS FROM `expense_items`[0m
  [4;35;1mExpenseType Columns (4.0ms)[0m   [0mSHOW FIELDS FROM `expense_types`[0m
  [4;36;1mExpenseType Load (34.0ms)[0m   [0;1mSELECT * FROM `expense_types` WHERE (`expense_types`.`id` = 1) [0m
  [4;35;1mexpense_items_expense_tags Columns (3.0ms)[0m   [0mSHOW FIELDS FROM `expense_items_expense_tags`[0m
  [4;36;1mExpenseTag Load (2.0ms)[0m   [0;1mSELECT * FROM `expense_tags` INNER JOIN `expense_items_expense_tags` ON `expense_tags`.id = `expense_items_expense_tags`.expense_tag_id WHERE (`expense_items_expense_tags`.expense_item_id = 4 ) [0m
  [4;35;1mExpenseTag Columns (3.0ms)[0m   [0mSHOW FIELDS FROM `expense_tags`[0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT * FROM `expense_types` WHERE (`expense_types`.`id` = 1) [0m
  [4;35;1mExpenseTag Load (1.0ms)[0m   [0mSELECT * FROM `expense_tags` INNER JOIN `expense_items_expense_tags` ON `expense_tags`.id = `expense_items_expense_tags`.expense_tag_id WHERE (`expense_items_expense_tags`.expense_item_id = 5 ) [0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT * FROM `expense_types` WHERE (`expense_types`.`id` = 1) [0m
  [4;35;1mExpenseTag Load (0.0ms)[0m   [0mSELECT * FROM `expense_tags` INNER JOIN `expense_items_expense_tags` ON `expense_tags`.id = `expense_items_expense_tags`.expense_tag_id WHERE (`expense_items_expense_tags`.expense_item_id = 6 ) [0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT * FROM `expense_types` WHERE (`expense_types`.`id` = 1) [0m
  [4;35;1mExpenseTag Load (0.0ms)[0m   [0mSELECT * FROM `expense_tags` INNER JOIN `expense_items_expense_tags` ON `expense_tags`.id = `expense_items_expense_tags`.expense_tag_id WHERE (`expense_items_expense_tags`.expense_item_id = 7 ) [0m
  [4;36;1mExpenseType Load (1.0ms)[0m   [0;1mSELECT * FROM `expense_types` WHERE (`expense_types`.`id` = 2) [0m
  [4;35;1mExpenseTag Load (0.0ms)[0m   [0mSELECT * FROM `expense_tags` INNER JOIN `expense_items_expense_tags` ON `expense_tags`.id = `expense_items_expense_tags`.expense_tag_id WHERE (`expense_items_expense_tags`.expense_item_id = 8 ) [0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT * FROM `expense_types` WHERE (`expense_types`.`id` = 1) [0m
  [4;35;1mExpenseTag Load (0.0ms)[0m   [0mSELECT * FROM `expense_tags` INNER JOIN `expense_items_expense_tags` ON `expense_tags`.id = `expense_items_expense_tags`.expense_tag_id WHERE (`expense_items_expense_tags`.expense_item_id = 9 ) [0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT * FROM `expense_types` WHERE (`expense_types`.`id` = 2) [0m
  [4;35;1mExpenseTag Load (0.0ms)[0m   [0mSELECT * FROM `expense_tags` INNER JOIN `expense_items_expense_tags` ON `expense_tags`.id = `expense_items_expense_tags`.expense_tag_id WHERE (`expense_items_expense_tags`.expense_item_id = 10 ) [0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT * FROM `expense_types` WHERE (`expense_types`.`id` = 1) [0m
  [4;35;1mExpenseTag Load (0.0ms)[0m   [0mSELECT * FROM `expense_tags` INNER JOIN `expense_items_expense_tags` ON `expense_tags`.id = `expense_items_expense_tags`.expense_tag_id WHERE (`expense_items_expense_tags`.expense_item_id = 11 ) [0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT * FROM `expense_types` WHERE (`expense_types`.`id` = 1) [0m
  [4;35;1mExpenseTag Load (1.0ms)[0m   [0mSELECT * FROM `expense_tags` INNER JOIN `expense_items_expense_tags` ON `expense_tags`.id = `expense_items_expense_tags`.expense_tag_id WHERE (`expense_items_expense_tags`.expense_item_id = 12 ) [0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT * FROM `expense_types` WHERE (`expense_types`.`id` = 1) [0m
  [4;35;1mExpenseTag Load (1.0ms)[0m   [0mSELECT * FROM `expense_tags` INNER JOIN `expense_items_expense_tags` ON `expense_tags`.id = `expense_items_expense_tags`.expense_tag_id WHERE (`expense_items_expense_tags`.expense_item_id = 13 ) [0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT * FROM `expense_types` WHERE (`expense_types`.`id` = 1) [0m
  [4;35;1mExpenseTag Load (0.0ms)[0m   [0mSELECT * FROM `expense_tags` INNER JOIN `expense_items_expense_tags` ON `expense_tags`.id = `expense_items_expense_tags`.expense_tag_id WHERE (`expense_items_expense_tags`.expense_item_id = 14 ) [0m
  [4;36;1mExpenseType Load (1.0ms)[0m   [0;1mSELECT * FROM `expense_types` WHERE (`expense_types`.`id` = 3) [0m
  [4;35;1mExpenseTag Load (0.0ms)[0m   [0mSELECT * FROM `expense_tags` INNER JOIN `expense_items_expense_tags` ON `expense_tags`.id = `expense_items_expense_tags`.expense_tag_id WHERE (`expense_items_expense_tags`.expense_item_id = 15 ) [0m
Completed in 154ms (View: 88, DB: 58) | 200 OK [http://localhost/expense/2010/5]
  [4;36;1mSQL (0.0ms)[0m   [0;1mSET NAMES 'utf8'[0m
  [4;35;1mSQL (1.0ms)[0m   [0mSET SQL_AUTO_IS_NULL=0[0m


Processing ExpenseController#batch_new (for 127.0.0.1 at 2010-05-09 11:09:15) [GET]
  [4;36;1mExpenseType Load (1.0ms)[0m   [0;1mSELECT * FROM `expense_types` [0m
  [4;35;1mExpenseType Columns (7.0ms)[0m   [0mSHOW FIELDS FROM `expense_types`[0m
Rendering template within layouts/expense
Rendering expense/batch_new
Completed in 69ms (View: 38, DB: 9) | 200 OK [http://localhost/expense/batch_new]
  [4;36;1mSQL (1.0ms)[0m   [0;1mSET NAMES 'utf8'[0m
  [4;35;1mSQL (0.0ms)[0m   [0mSET SQL_AUTO_IS_NULL=0[0m


Processing ExpenseController#batch_new (for 127.0.0.1 at 2010-05-09 11:10:55) [GET]
  [4;36;1mExpenseType Load (1.0ms)[0m   [0;1mSELECT * FROM `expense_types` [0m
  [4;35;1mExpenseType Columns (10.0ms)[0m   [0mSHOW FIELDS FROM `expense_types`[0m
Rendering template within layouts/expense
Rendering expense/batch_new
Completed in 125ms (View: 92, DB: 12) | 200 OK [http://localhost/expense/batch_new]
  [4;36;1mSQL (0.0ms)[0m   [0;1mSET NAMES 'utf8'[0m
  [4;35;1mSQL (0.0ms)[0m   [0mSET SQL_AUTO_IS_NULL=0[0m


Processing ExpenseController#batch_create (for 127.0.0.1 at 2010-05-09 11:11:02) [POST]
  Parameters: {"commit"=>"提交", "authenticity_token"=>"LkdA7b9Y09PN9lbYmjKOi+Ddn6f3JUGd3MCG5yPiWHU=", "expense_items"=>{"date_to(1i)"=>"2010", "date_to(2i)"=>"5", "date_to(3i)"=>"9", "value"=>"11", "note"=>"11111", "expense_type_id"=>"1", "date_from(1i)"=>"2010", "date_from(2i)"=>"5", "date_from(3i)"=>"9"}}

ArgumentError (bad value for range):
  

Rendered rescues/_trace (99.0ms)
Rendered rescues/_request_and_response (61.0ms)
Rendering rescues/layout (internal_server_error)
  [4;36;1mSQL (1.0ms)[0m   [0;1mSET NAMES 'utf8'[0m
  [4;35;1mSQL (1.0ms)[0m   [0mSET SQL_AUTO_IS_NULL=0[0m


Processing ExpenseController#batch_new (for 127.0.0.1 at 2010-05-09 11:20:21) [GET]
  [4;36;1mExpenseType Load (2.0ms)[0m   [0;1mSELECT * FROM `expense_types` [0m
  [4;35;1mExpenseType Columns (13.0ms)[0m   [0mSHOW FIELDS FROM `expense_types`[0m
Rendering template within layouts/expense
Rendering expense/batch_new
Completed in 109ms (View: 41, DB: 17) | 200 OK [http://localhost/expense/batch_new]
  [4;36;1mSQL (1.0ms)[0m   [0;1mSET NAMES 'utf8'[0m
  [4;35;1mSQL (0.0ms)[0m   [0mSET SQL_AUTO_IS_NULL=0[0m
  [4;36;1mSQL (3.0ms)[0m   [0;1mSHOW TABLES[0m
  [4;35;1mSQL (1.0ms)[0m   [0mSELECT version FROM schema_migrations[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mSET NAMES 'utf8'[0m
  [4;35;1mSQL (0.0ms)[0m   [0mSET SQL_AUTO_IS_NULL=0[0m
  [4;36;1mSQL (145.0ms)[0m   [0;1mDROP DATABASE IF EXISTS `finance_test`[0m
  [4;35;1mSQL (3.0ms)[0m   [0mCREATE DATABASE `finance_test` DEFAULT CHARACTER SET `utf8`[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mSET NAMES 'utf8'[0m
  [4;35;1mSQL (0.0ms)[0m   [0mSET SQL_AUTO_IS_NULL=0[0m
  [4;36;1mSQL (1.0ms)[0m   [0;1mSHOW TABLES[0m
  [4;35;1mSQL (53.0ms)[0m   [0mCREATE TABLE `expense_items` (`id` int(11) DEFAULT NULL auto_increment PRIMARY KEY, `date` date NOT NULL, `expense_type_id` int(11) NOT NULL, `value` float NOT NULL, `note` text, `created_at` datetime, `updated_at` datetime) ENGINE=InnoDB[0m
  [4;36;1mSQL (192.0ms)[0m   [0;1mCREATE INDEX `expense_type_foreign_key` ON `expense_items` (`expense_type_id`)[0m
  [4;35;1mSQL (4.0ms)[0m   [0mSHOW TABLES[0m
  [4;36;1mSQL (69.0ms)[0m   [0;1mCREATE TABLE `expense_items_expense_tags` (`expense_item_id` int(11) NOT NULL, `expense_tag_id` int(11) NOT NULL) ENGINE=InnoDB[0m
  [4;35;1mSQL (125.0ms)[0m   [0mCREATE UNIQUE INDEX `index_items_tags` ON `expense_items_expense_tags` (`expense_item_id`, `expense_tag_id`)[0m
  [4;36;1mSQL (133.0ms)[0m   [0;1mCREATE INDEX `index_tags` ON `expense_items_expense_tags` (`expense_item_id`)[0m
  [4;35;1mSQL (133.0ms)[0m   [0mCREATE INDEX `foreign_key_tag_id` ON `expense_items_expense_tags` (`expense_tag_id`)[0m
  [4;36;1mSQL (4.0ms)[0m   [0;1mSHOW TABLES[0m
  [4;35;1mSQL (69.0ms)[0m   [0mCREATE TABLE `expense_tags` (`id` int(11) DEFAULT NULL auto_increment PRIMARY KEY, `name` varchar(255) NOT NULL, `created_at` datetime, `updated_at` datetime) ENGINE=InnoDB[0m
  [4;36;1mSQL (2.0ms)[0m   [0;1mSHOW TABLES[0m
  [4;35;1mSQL (71.0ms)[0m   [0mCREATE TABLE `expense_types` (`id` int(11) DEFAULT NULL auto_increment PRIMARY KEY, `description` varchar(255) NOT NULL, `created_at` datetime, `updated_at` datetime) ENGINE=InnoDB[0m
  [4;36;1mSQL (3.0ms)[0m   [0;1mSHOW TABLES[0m
  [4;35;1mSQL (64.0ms)[0m   [0mCREATE TABLE `schema_migrations` (`version` varchar(255) NOT NULL) ENGINE=InnoDB[0m
  [4;36;1mSQL (223.0ms)[0m   [0;1mCREATE UNIQUE INDEX `unique_schema_migrations` ON `schema_migrations` (`version`)[0m
  [4;35;1mSQL (7.0ms)[0m   [0mSHOW TABLES[0m
  [4;36;1mSQL (1.0ms)[0m   [0;1mSELECT version FROM `schema_migrations`[0m
  [4;35;1mSQL (28.0ms)[0m   [0mINSERT INTO `schema_migrations` (version) VALUES ('20100430145224')[0m
  [4;36;1mSQL (15.0ms)[0m   [0;1mINSERT INTO `schema_migrations` (version) VALUES ('20100422124419')[0m
  [4;35;1mSQL (23.0ms)[0m   [0mINSERT INTO `schema_migrations` (version) VALUES ('20100422125245')[0m
  [4;36;1mSQL (40.0ms)[0m   [0;1mINSERT INTO `schema_migrations` (version) VALUES ('20100422125532')[0m
  [4;35;1mSQL (37.0ms)[0m   [0mINSERT INTO `schema_migrations` (version) VALUES ('20100430075711')[0m
  [4;36;1mSQL (43.0ms)[0m   [0;1mINSERT INTO `schema_migrations` (version) VALUES ('20100430084030')[0m
  [4;36;1mSQL (1.0ms)[0m   [0;1mSET NAMES 'utf8'[0m
  [4;35;1mSQL (0.0ms)[0m   [0mSET SQL_AUTO_IS_NULL=0[0m


Processing ExpenseController#index (for 127.0.0.1 at 2010-05-09 11:21:52) [GET]
  Parameters: {"month"=>"5", "year"=>"2010"}
  [4;36;1mExpenseItem Load (2.0ms)[0m   [0;1mSELECT * FROM `expense_items` WHERE (date BETWEEN '2010-05-01' and '2010-05-31') [0m
Rendering template within layouts/expense
Rendering expense/index
  [4;35;1mExpenseItem Columns (8.0ms)[0m   [0mSHOW FIELDS FROM `expense_items`[0m
  [4;36;1mExpenseType Columns (9.0ms)[0m   [0;1mSHOW FIELDS FROM `expense_types`[0m
  [4;35;1mExpenseType Load (10.0ms)[0m   [0mSELECT * FROM `expense_types` WHERE (`expense_types`.`id` = 1) [0m
  [4;36;1mexpense_items_expense_tags Columns (7.0ms)[0m   [0;1mSHOW FIELDS FROM `expense_items_expense_tags`[0m
  [4;35;1mExpenseTag Load (4.0ms)[0m   [0mSELECT * FROM `expense_tags` INNER JOIN `expense_items_expense_tags` ON `expense_tags`.id = `expense_items_expense_tags`.expense_tag_id WHERE (`expense_items_expense_tags`.expense_item_id = 4 ) [0m
  [4;36;1mExpenseTag Columns (7.0ms)[0m   [0;1mSHOW FIELDS FROM `expense_tags`[0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM `expense_types` WHERE (`expense_types`.`id` = 1) [0m
  [4;36;1mExpenseTag Load (1.0ms)[0m   [0;1mSELECT * FROM `expense_tags` INNER JOIN `expense_items_expense_tags` ON `expense_tags`.id = `expense_items_expense_tags`.expense_tag_id WHERE (`expense_items_expense_tags`.expense_item_id = 5 ) [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM `expense_types` WHERE (`expense_types`.`id` = 1) [0m
  [4;36;1mExpenseTag Load (1.0ms)[0m   [0;1mSELECT * FROM `expense_tags` INNER JOIN `expense_items_expense_tags` ON `expense_tags`.id = `expense_items_expense_tags`.expense_tag_id WHERE (`expense_items_expense_tags`.expense_item_id = 6 ) [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM `expense_types` WHERE (`expense_types`.`id` = 1) [0m
  [4;36;1mExpenseTag Load (0.0ms)[0m   [0;1mSELECT * FROM `expense_tags` INNER JOIN `expense_items_expense_tags` ON `expense_tags`.id = `expense_items_expense_tags`.expense_tag_id WHERE (`expense_items_expense_tags`.expense_item_id = 7 ) [0m
  [4;35;1mExpenseType Load (1.0ms)[0m   [0mSELECT * FROM `expense_types` WHERE (`expense_types`.`id` = 2) [0m
  [4;36;1mExpenseTag Load (1.0ms)[0m   [0;1mSELECT * FROM `expense_tags` INNER JOIN `expense_items_expense_tags` ON `expense_tags`.id = `expense_items_expense_tags`.expense_tag_id WHERE (`expense_items_expense_tags`.expense_item_id = 8 ) [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM `expense_types` WHERE (`expense_types`.`id` = 1) [0m
  [4;36;1mExpenseTag Load (0.0ms)[0m   [0;1mSELECT * FROM `expense_tags` INNER JOIN `expense_items_expense_tags` ON `expense_tags`.id = `expense_items_expense_tags`.expense_tag_id WHERE (`expense_items_expense_tags`.expense_item_id = 9 ) [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM `expense_types` WHERE (`expense_types`.`id` = 2) [0m
  [4;36;1mExpenseTag Load (77.0ms)[0m   [0;1mSELECT * FROM `expense_tags` INNER JOIN `expense_items_expense_tags` ON `expense_tags`.id = `expense_items_expense_tags`.expense_tag_id WHERE (`expense_items_expense_tags`.expense_item_id = 10 ) [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM `expense_types` WHERE (`expense_types`.`id` = 1) [0m
  [4;36;1mExpenseTag Load (1.0ms)[0m   [0;1mSELECT * FROM `expense_tags` INNER JOIN `expense_items_expense_tags` ON `expense_tags`.id = `expense_items_expense_tags`.expense_tag_id WHERE (`expense_items_expense_tags`.expense_item_id = 11 ) [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM `expense_types` WHERE (`expense_types`.`id` = 1) [0m
  [4;36;1mExpenseTag Load (0.0ms)[0m   [0;1mSELECT * FROM `expense_tags` INNER JOIN `expense_items_expense_tags` ON `expense_tags`.id = `expense_items_expense_tags`.expense_tag_id WHERE (`expense_items_expense_tags`.expense_item_id = 12 ) [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM `expense_types` WHERE (`expense_types`.`id` = 1) [0m
  [4;36;1mExpenseTag Load (1.0ms)[0m   [0;1mSELECT * FROM `expense_tags` INNER JOIN `expense_items_expense_tags` ON `expense_tags`.id = `expense_items_expense_tags`.expense_tag_id WHERE (`expense_items_expense_tags`.expense_item_id = 13 ) [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM `expense_types` WHERE (`expense_types`.`id` = 1) [0m
  [4;36;1mExpenseTag Load (1.0ms)[0m   [0;1mSELECT * FROM `expense_tags` INNER JOIN `expense_items_expense_tags` ON `expense_tags`.id = `expense_items_expense_tags`.expense_tag_id WHERE (`expense_items_expense_tags`.expense_item_id = 14 ) [0m
  [4;35;1mExpenseType Load (2.0ms)[0m   [0mSELECT * FROM `expense_types` WHERE (`expense_types`.`id` = 3) [0m
  [4;36;1mExpenseTag Load (1.0ms)[0m   [0;1mSELECT * FROM `expense_tags` INNER JOIN `expense_items_expense_tags` ON `expense_tags`.id = `expense_items_expense_tags`.expense_tag_id WHERE (`expense_items_expense_tags`.expense_item_id = 15 ) [0m
Completed in 467ms (View: 306, DB: 135) | 200 OK [http://localhost/expense/2010/5]
  [4;35;1mSQL (0.0ms)[0m   [0mSET NAMES 'utf8'[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mSET SQL_AUTO_IS_NULL=0[0m


Processing ExpenseController#batch_new (for 127.0.0.1 at 2010-05-09 11:21:55) [GET]
  [4;35;1mExpenseType Load (1.0ms)[0m   [0mSELECT * FROM `expense_types` [0m
  [4;36;1mExpenseType Columns (12.0ms)[0m   [0;1mSHOW FIELDS FROM `expense_types`[0m
Rendering template within layouts/expense
Rendering expense/batch_new
Completed in 79ms (View: 43, DB: 13) | 200 OK [http://localhost/expense/batch_new]
  [4;35;1mSQL (1.0ms)[0m   [0mSET NAMES 'utf8'[0m
  [4;36;1mSQL (1.0ms)[0m   [0;1mSET SQL_AUTO_IS_NULL=0[0m


Processing ExpenseController#batch_create (for 127.0.0.1 at 2010-05-09 11:22:06) [POST]
  Parameters: {"commit"=>"提交", "authenticity_token"=>"LkdA7b9Y09PN9lbYmjKOi+Ddn6f3JUGd3MCG5yPiWHU=", "expense_items"=>{"date_to(1i)"=>"2010", "date_to(2i)"=>"5", "date_to(3i)"=>"10", "value"=>"11.1", "note"=>"ddd", "expense_type_id"=>"1", "date_from(1i)"=>"2010", "date_from(2i)"=>"5", "date_from(3i)"=>"9"}}

ArgumentError (bad value for range):
  

Rendered rescues/_trace (121.0ms)
Rendered rescues/_request_and_response (1.0ms)
Rendering rescues/layout (internal_server_error)
  [4;35;1mSQL (0.0ms)[0m   [0mSET NAMES 'utf8'[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mSET SQL_AUTO_IS_NULL=0[0m


Processing ExpenseController#batch_new (for 127.0.0.1 at 2010-05-09 11:26:04) [GET]
  [4;35;1mExpenseType Load (1.0ms)[0m   [0mSELECT * FROM `expense_types` [0m
  [4;36;1mExpenseType Columns (9.0ms)[0m   [0;1mSHOW FIELDS FROM `expense_types`[0m
Rendering template within layouts/expense
Rendering expense/batch_new
Completed in 160ms (View: 122, DB: 10) | 200 OK [http://localhost/expense/batch_new]
  [4;35;1mSQL (0.0ms)[0m   [0mSET NAMES 'utf8'[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mSET SQL_AUTO_IS_NULL=0[0m


Processing ExpenseController#batch_create (for 127.0.0.1 at 2010-05-09 11:26:06) [POST]
  Parameters: {"commit"=>"提交", "authenticity_token"=>"LkdA7b9Y09PN9lbYmjKOi+Ddn6f3JUGd3MCG5yPiWHU=", "expense_items"=>{"date_to(1i)"=>"2010", "date_to(2i)"=>"5", "date_to(3i)"=>"10", "value"=>"11.1", "note"=>"ddd", "expense_type_id"=>"1", "date_from(1i)"=>"2010", "date_from(2i)"=>"5", "date_from(3i)"=>"9"}}
  [4;35;1mExpenseItem Columns (10.0ms)[0m   [0mSHOW FIELDS FROM `expense_items`[0m
  [4;36;1mSQL (6.0ms)[0m   [0;1mBEGIN[0m
  [4;35;1mExpenseItem Create (1.0ms)[0m   [0mINSERT INTO `expense_items` (`updated_at`, `date`, `value`, `expense_type_id`, `note`, `created_at`) VALUES('2010-05-09 03:26:06', '2010-05-09', 11.1, 1, 'ddd', '2010-05-09 03:26:06')[0m
  [4;36;1mSQL (42.0ms)[0m   [0;1mCOMMIT[0m
  [4;35;1mSQL (1.0ms)[0m   [0mBEGIN[0m
  [4;36;1mExpenseItem Create (1.0ms)[0m   [0;1mINSERT INTO `expense_items` (`updated_at`, `date`, `value`, `expense_type_id`, `note`, `created_at`) VALUES('2010-05-09 03:26:06', '2010-05-10', 11.1, 1, 'ddd', '2010-05-09 03:26:06')[0m
  [4;35;1mSQL (21.0ms)[0m   [0mCOMMIT[0m
Redirected to http://localhost:3000/expense/2010/5
Completed in 122ms (DB: 82) | 302 Found [http://localhost/expense/batch_create]
  [4;36;1mSQL (0.0ms)[0m   [0;1mSET NAMES 'utf8'[0m
  [4;35;1mSQL (0.0ms)[0m   [0mSET SQL_AUTO_IS_NULL=0[0m


Processing ExpenseController#index (for 127.0.0.1 at 2010-05-09 11:26:06) [GET]
  Parameters: {"month"=>"5", "year"=>"2010"}
  [4;36;1mExpenseItem Load (2.0ms)[0m   [0;1mSELECT * FROM `expense_items` WHERE (date BETWEEN '2010-05-01' and '2010-05-31') [0m
Rendering template within layouts/expense
Rendering expense/index
  [4;35;1mExpenseItem Columns (9.0ms)[0m   [0mSHOW FIELDS FROM `expense_items`[0m
  [4;36;1mExpenseType Columns (6.0ms)[0m   [0;1mSHOW FIELDS FROM `expense_types`[0m
  [4;35;1mExpenseType Load (10.0ms)[0m   [0mSELECT * FROM `expense_types` WHERE (`expense_types`.`id` = 1) [0m
  [4;36;1mexpense_items_expense_tags Columns (7.0ms)[0m   [0;1mSHOW FIELDS FROM `expense_items_expense_tags`[0m
  [4;35;1mExpenseTag Load (4.0ms)[0m   [0mSELECT * FROM `expense_tags` INNER JOIN `expense_items_expense_tags` ON `expense_tags`.id = `expense_items_expense_tags`.expense_tag_id WHERE (`expense_items_expense_tags`.expense_item_id = 4 ) [0m
  [4;36;1mExpenseTag Columns (6.0ms)[0m   [0;1mSHOW FIELDS FROM `expense_tags`[0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM `expense_types` WHERE (`expense_types`.`id` = 1) [0m
  [4;36;1mExpenseTag Load (1.0ms)[0m   [0;1mSELECT * FROM `expense_tags` INNER JOIN `expense_items_expense_tags` ON `expense_tags`.id = `expense_items_expense_tags`.expense_tag_id WHERE (`expense_items_expense_tags`.expense_item_id = 5 ) [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM `expense_types` WHERE (`expense_types`.`id` = 1) [0m
  [4;36;1mExpenseTag Load (0.0ms)[0m   [0;1mSELECT * FROM `expense_tags` INNER JOIN `expense_items_expense_tags` ON `expense_tags`.id = `expense_items_expense_tags`.expense_tag_id WHERE (`expense_items_expense_tags`.expense_item_id = 6 ) [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM `expense_types` WHERE (`expense_types`.`id` = 1) [0m
  [4;36;1mExpenseTag Load (1.0ms)[0m   [0;1mSELECT * FROM `expense_tags` INNER JOIN `expense_items_expense_tags` ON `expense_tags`.id = `expense_items_expense_tags`.expense_tag_id WHERE (`expense_items_expense_tags`.expense_item_id = 7 ) [0m
  [4;35;1mExpenseType Load (1.0ms)[0m   [0mSELECT * FROM `expense_types` WHERE (`expense_types`.`id` = 2) [0m
  [4;36;1mExpenseTag Load (0.0ms)[0m   [0;1mSELECT * FROM `expense_tags` INNER JOIN `expense_items_expense_tags` ON `expense_tags`.id = `expense_items_expense_tags`.expense_tag_id WHERE (`expense_items_expense_tags`.expense_item_id = 8 ) [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM `expense_types` WHERE (`expense_types`.`id` = 1) [0m
  [4;36;1mExpenseTag Load (1.0ms)[0m   [0;1mSELECT * FROM `expense_tags` INNER JOIN `expense_items_expense_tags` ON `expense_tags`.id = `expense_items_expense_tags`.expense_tag_id WHERE (`expense_items_expense_tags`.expense_item_id = 9 ) [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM `expense_types` WHERE (`expense_types`.`id` = 2) [0m
  [4;36;1mExpenseTag Load (1.0ms)[0m   [0;1mSELECT * FROM `expense_tags` INNER JOIN `expense_items_expense_tags` ON `expense_tags`.id = `expense_items_expense_tags`.expense_tag_id WHERE (`expense_items_expense_tags`.expense_item_id = 10 ) [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM `expense_types` WHERE (`expense_types`.`id` = 1) [0m
  [4;36;1mExpenseTag Load (1.0ms)[0m   [0;1mSELECT * FROM `expense_tags` INNER JOIN `expense_items_expense_tags` ON `expense_tags`.id = `expense_items_expense_tags`.expense_tag_id WHERE (`expense_items_expense_tags`.expense_item_id = 11 ) [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM `expense_types` WHERE (`expense_types`.`id` = 1) [0m
  [4;36;1mExpenseTag Load (1.0ms)[0m   [0;1mSELECT * FROM `expense_tags` INNER JOIN `expense_items_expense_tags` ON `expense_tags`.id = `expense_items_expense_tags`.expense_tag_id WHERE (`expense_items_expense_tags`.expense_item_id = 12 ) [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM `expense_types` WHERE (`expense_types`.`id` = 1) [0m
  [4;36;1mExpenseTag Load (1.0ms)[0m   [0;1mSELECT * FROM `expense_tags` INNER JOIN `expense_items_expense_tags` ON `expense_tags`.id = `expense_items_expense_tags`.expense_tag_id WHERE (`expense_items_expense_tags`.expense_item_id = 13 ) [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM `expense_types` WHERE (`expense_types`.`id` = 1) [0m
  [4;36;1mExpenseTag Load (1.0ms)[0m   [0;1mSELECT * FROM `expense_tags` INNER JOIN `expense_items_expense_tags` ON `expense_tags`.id = `expense_items_expense_tags`.expense_tag_id WHERE (`expense_items_expense_tags`.expense_item_id = 14 ) [0m
  [4;35;1mExpenseType Load (0.0ms)[0m   [0mSELECT * FROM `expense_types` WHERE (`expense_types`.`id` = 3) [0m
  [4;36;1mExpenseTag Load (1.0ms)[0m   [0;1mSELECT * FROM `expense_tags` INNER JOIN `expense_items_expense_tags` ON `expense_tags`.id = `expense_items_expense_tags`.expense_tag_id WHERE (`expense_items_expense_tags`.expense_item_id = 15 ) [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM `expense_types` WHERE (`expense_types`.`id` = 1) [0m
  [4;36;1mExpenseTag Load (1.0ms)[0m   [0;1mSELECT * FROM `expense_tags` INNER JOIN `expense_items_expense_tags` ON `expense_tags`.id = `expense_items_expense_tags`.expense_tag_id WHERE (`expense_items_expense_tags`.expense_item_id = 16 ) [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM `expense_types` WHERE (`expense_types`.`id` = 1) [0m
  [4;36;1mExpenseTag Load (0.0ms)[0m   [0;1mSELECT * FROM `expense_tags` INNER JOIN `expense_items_expense_tags` ON `expense_tags`.id = `expense_items_expense_tags`.expense_tag_id WHERE (`expense_items_expense_tags`.expense_item_id = 17 ) [0m
Completed in 277ms (View: 199, DB: 55) | 200 OK [http://localhost/expense/2010/5]
  [4;35;1mSQL (0.0ms)[0m   [0mSET NAMES 'utf8'[0m
  [4;36;1mSQL (1.0ms)[0m   [0;1mSET SQL_AUTO_IS_NULL=0[0m


Processing ExpenseController#batch_new (for 127.0.0.1 at 2010-05-09 11:35:02) [GET]
  [4;35;1mExpenseType Load (1.0ms)[0m   [0mSELECT * FROM `expense_types` [0m
  [4;36;1mExpenseType Columns (8.0ms)[0m   [0;1mSHOW FIELDS FROM `expense_types`[0m
Rendering template within layouts/expense
Rendering expense/batch_new
Completed in 74ms (View: 44, DB: 10) | 200 OK [http://localhost/expense/batch_new]
  [4;35;1mSQL (0.0ms)[0m   [0mSET NAMES 'utf8'[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mSET SQL_AUTO_IS_NULL=0[0m


Processing ExpenseController#batch_create (for 127.0.0.1 at 2010-05-09 11:35:11) [POST]
  Parameters: {"commit"=>"提交", "authenticity_token"=>"LkdA7b9Y09PN9lbYmjKOi+Ddn6f3JUGd3MCG5yPiWHU=", "expense_items"=>{"date_to(1i)"=>"2010", "date_to(2i)"=>"5", "date_to(3i)"=>"4", "value"=>"10.2", "note"=>"ddd", "expense_type_id"=>"1", "date_from(1i)"=>"2010", "date_from(2i)"=>"5", "date_from(3i)"=>"9"}}
  [4;35;1mExpenseType Load (0.0ms)[0m   [0mSELECT * FROM `expense_types` [0m
  [4;36;1mExpenseType Columns (8.0ms)[0m   [0;1mSHOW FIELDS FROM `expense_types`[0m
Rendering template within layouts/expense
Rendering expense/batch_new

ActionView::TemplateError (expense_month_url failed to generate from {:month=>nil, :year=>nil, :action=>"index", :controller=>"expense"}, expected: {:action=>"index", :controller=>"expense"}, diff: {:month=>nil, :year=>nil}) on line #33 of app/views/expense/batch_new.html.erb:
30:     <%= submit_tag '提交' %>
31: <% end %>
32: </div>
33: <%= link_to '返回', expense_month_path(@year, @month) %>

    (eval):16:in `expense_month_path'
    app/views/expense/batch_new.html.erb:33
    app/controllers/expense_controller.rb:56:in `batch_create'
    app/controllers/expense_controller.rb:50:in `batch_create'

Rendered rescues/_trace (143.0ms)
Rendered rescues/_request_and_response (1.0ms)
Rendering rescues/layout (internal_server_error)
  [4;35;1mSQL (0.0ms)[0m   [0mSET NAMES 'utf8'[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mSET SQL_AUTO_IS_NULL=0[0m


Processing ExpenseController#batch_new (for 127.0.0.1 at 2010-05-09 11:39:04) [GET]
  [4;35;1mExpenseType Load (1.0ms)[0m   [0mSELECT * FROM `expense_types` [0m
  [4;36;1mExpenseType Columns (8.0ms)[0m   [0;1mSHOW FIELDS FROM `expense_types`[0m
Rendering template within layouts/expense
Rendering expense/batch_new
Completed in 157ms (View: 130, DB: 9) | 200 OK [http://localhost/expense/batch_new]
  [4;35;1mSQL (0.0ms)[0m   [0mSET NAMES 'utf8'[0m
  [4;36;1mSQL (1.0ms)[0m   [0;1mSET SQL_AUTO_IS_NULL=0[0m


Processing ExpenseController#batch_create (for 127.0.0.1 at 2010-05-09 11:39:07) [POST]
  Parameters: {"commit"=>"提交", "authenticity_token"=>"LkdA7b9Y09PN9lbYmjKOi+Ddn6f3JUGd3MCG5yPiWHU=", "expense_items"=>{"date_to(1i)"=>"2010", "date_to(2i)"=>"5", "date_to(3i)"=>"4", "value"=>"10.2", "note"=>"ddd", "expense_type_id"=>"1", "date_from(1i)"=>"2010", "date_from(2i)"=>"5", "date_from(3i)"=>"9"}}
  [4;35;1mExpenseType Load (1.0ms)[0m   [0mSELECT * FROM `expense_types` [0m
  [4;36;1mExpenseType Columns (9.0ms)[0m   [0;1mSHOW FIELDS FROM `expense_types`[0m
Rendering template within layouts/expense
Rendering expense/batch_new
Completed in 81ms (View: 50, DB: 11) | 200 OK [http://localhost/expense/batch_create]
  [4;35;1mSQL (1.0ms)[0m   [0mSET NAMES 'utf8'[0m
  [4;36;1mSQL (1.0ms)[0m   [0;1mSET SQL_AUTO_IS_NULL=0[0m


Processing ExpenseController#batch_create (for 127.0.0.1 at 2010-05-09 11:45:34) [POST]
  Parameters: {"commit"=>"提交", "authenticity_token"=>"LkdA7b9Y09PN9lbYmjKOi+Ddn6f3JUGd3MCG5yPiWHU=", "expense_items"=>{"date_to(1i)"=>"2010", "date_to(2i)"=>"5", "date_to(3i)"=>"4", "value"=>"10.1", "note"=>"ddd", "expense_type_id"=>"1", "date_from(1i)"=>"2010", "date_from(2i)"=>"5", "date_from(3i)"=>"9"}}
  [4;35;1mExpenseType Load (1.0ms)[0m   [0mSELECT * FROM `expense_types` [0m
  [4;36;1mExpenseType Columns (8.0ms)[0m   [0;1mSHOW FIELDS FROM `expense_types`[0m
Rendering template within layouts/expense
Rendering expense/batch_new
Completed in 82ms (View: 49, DB: 11) | 200 OK [http://localhost/expense/batch_create]
  [4;35;1mSQL (1.0ms)[0m   [0mSET NAMES 'utf8'[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mSET SQL_AUTO_IS_NULL=0[0m


Processing ExpenseController#index (for 127.0.0.1 at 2010-05-09 11:45:46) [GET]
  Parameters: {"month"=>"5", "year"=>"2010"}
  [4;35;1mExpenseItem Load (1.0ms)[0m   [0mSELECT * FROM `expense_items` WHERE (date BETWEEN '2010-05-01' and '2010-05-31') [0m
Rendering template within layouts/expense
Rendering expense/index
  [4;36;1mExpenseItem Columns (10.0ms)[0m   [0;1mSHOW FIELDS FROM `expense_items`[0m
  [4;35;1mExpenseType Columns (9.0ms)[0m   [0mSHOW FIELDS FROM `expense_types`[0m
  [4;36;1mExpenseType Load (9.0ms)[0m   [0;1mSELECT * FROM `expense_types` WHERE (`expense_types`.`id` = 1) [0m
  [4;35;1mexpense_items_expense_tags Columns (7.0ms)[0m   [0mSHOW FIELDS FROM `expense_items_expense_tags`[0m
  [4;36;1mExpenseTag Load (4.0ms)[0m   [0;1mSELECT * FROM `expense_tags` INNER JOIN `expense_items_expense_tags` ON `expense_tags`.id = `expense_items_expense_tags`.expense_tag_id WHERE (`expense_items_expense_tags`.expense_item_id = 4 ) [0m
  [4;35;1mExpenseTag Columns (7.0ms)[0m   [0mSHOW FIELDS FROM `expense_tags`[0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT * FROM `expense_types` WHERE (`expense_types`.`id` = 1) [0m
  [4;35;1mExpenseTag Load (1.0ms)[0m   [0mSELECT * FROM `expense_tags` INNER JOIN `expense_items_expense_tags` ON `expense_tags`.id = `expense_items_expense_tags`.expense_tag_id WHERE (`expense_items_expense_tags`.expense_item_id = 5 ) [0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT * FROM `expense_types` WHERE (`expense_types`.`id` = 1) [0m
  [4;35;1mExpenseTag Load (1.0ms)[0m   [0mSELECT * FROM `expense_tags` INNER JOIN `expense_items_expense_tags` ON `expense_tags`.id = `expense_items_expense_tags`.expense_tag_id WHERE (`expense_items_expense_tags`.expense_item_id = 6 ) [0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT * FROM `expense_types` WHERE (`expense_types`.`id` = 1) [0m
  [4;35;1mExpenseTag Load (1.0ms)[0m   [0mSELECT * FROM `expense_tags` INNER JOIN `expense_items_expense_tags` ON `expense_tags`.id = `expense_items_expense_tags`.expense_tag_id WHERE (`expense_items_expense_tags`.expense_item_id = 7 ) [0m
  [4;36;1mExpenseType Load (1.0ms)[0m   [0;1mSELECT * FROM `expense_types` WHERE (`expense_types`.`id` = 2) [0m
  [4;35;1mExpenseTag Load (1.0ms)[0m   [0mSELECT * FROM `expense_tags` INNER JOIN `expense_items_expense_tags` ON `expense_tags`.id = `expense_items_expense_tags`.expense_tag_id WHERE (`expense_items_expense_tags`.expense_item_id = 8 ) [0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT * FROM `expense_types` WHERE (`expense_types`.`id` = 1) [0m
  [4;35;1mExpenseTag Load (0.0ms)[0m   [0mSELECT * FROM `expense_tags` INNER JOIN `expense_items_expense_tags` ON `expense_tags`.id = `expense_items_expense_tags`.expense_tag_id WHERE (`expense_items_expense_tags`.expense_item_id = 9 ) [0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT * FROM `expense_types` WHERE (`expense_types`.`id` = 2) [0m
  [4;35;1mExpenseTag Load (0.0ms)[0m   [0mSELECT * FROM `expense_tags` INNER JOIN `expense_items_expense_tags` ON `expense_tags`.id = `expense_items_expense_tags`.expense_tag_id WHERE (`expense_items_expense_tags`.expense_item_id = 10 ) [0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT * FROM `expense_types` WHERE (`expense_types`.`id` = 1) [0m
  [4;35;1mExpenseTag Load (1.0ms)[0m   [0mSELECT * FROM `expense_tags` INNER JOIN `expense_items_expense_tags` ON `expense_tags`.id = `expense_items_expense_tags`.expense_tag_id WHERE (`expense_items_expense_tags`.expense_item_id = 11 ) [0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT * FROM `expense_types` WHERE (`expense_types`.`id` = 1) [0m
  [4;35;1mExpenseTag Load (0.0ms)[0m   [0mSELECT * FROM `expense_tags` INNER JOIN `expense_items_expense_tags` ON `expense_tags`.id = `expense_items_expense_tags`.expense_tag_id WHERE (`expense_items_expense_tags`.expense_item_id = 12 ) [0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT * FROM `expense_types` WHERE (`expense_types`.`id` = 1) [0m
  [4;35;1mExpenseTag Load (1.0ms)[0m   [0mSELECT * FROM `expense_tags` INNER JOIN `expense_items_expense_tags` ON `expense_tags`.id = `expense_items_expense_tags`.expense_tag_id WHERE (`expense_items_expense_tags`.expense_item_id = 13 ) [0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT * FROM `expense_types` WHERE (`expense_types`.`id` = 1) [0m
  [4;35;1mExpenseTag Load (4.0ms)[0m   [0mSELECT * FROM `expense_tags` INNER JOIN `expense_items_expense_tags` ON `expense_tags`.id = `expense_items_expense_tags`.expense_tag_id WHERE (`expense_items_expense_tags`.expense_item_id = 14 ) [0m
  [4;36;1mExpenseType Load (2.0ms)[0m   [0;1mSELECT * FROM `expense_types` WHERE (`expense_types`.`id` = 3) [0m
  [4;35;1mExpenseTag Load (2.0ms)[0m   [0mSELECT * FROM `expense_tags` INNER JOIN `expense_items_expense_tags` ON `expense_tags`.id = `expense_items_expense_tags`.expense_tag_id WHERE (`expense_items_expense_tags`.expense_item_id = 15 ) [0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT * FROM `expense_types` WHERE (`expense_types`.`id` = 1) [0m
  [4;35;1mExpenseTag Load (2.0ms)[0m   [0mSELECT * FROM `expense_tags` INNER JOIN `expense_items_expense_tags` ON `expense_tags`.id = `expense_items_expense_tags`.expense_tag_id WHERE (`expense_items_expense_tags`.expense_item_id = 16 ) [0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT * FROM `expense_types` WHERE (`expense_types`.`id` = 1) [0m
  [4;35;1mExpenseTag Load (1.0ms)[0m   [0mSELECT * FROM `expense_tags` INNER JOIN `expense_items_expense_tags` ON `expense_tags`.id = `expense_items_expense_tags`.expense_tag_id WHERE (`expense_items_expense_tags`.expense_item_id = 17 ) [0m
Completed in 361ms (View: 275, DB: 66) | 200 OK [http://localhost/expense/2010/5]
  [4;36;1mSQL (0.0ms)[0m   [0;1mSET NAMES 'utf8'[0m
  [4;35;1mSQL (0.0ms)[0m   [0mSET SQL_AUTO_IS_NULL=0[0m


Processing ExpenseController#batch_new (for 127.0.0.1 at 2010-05-09 11:45:54) [GET]
  [4;36;1mExpenseType Load (1.0ms)[0m   [0;1mSELECT * FROM `expense_types` [0m
  [4;35;1mExpenseType Columns (10.0ms)[0m   [0mSHOW FIELDS FROM `expense_types`[0m
Rendering template within layouts/expense
Rendering expense/batch_new
Completed in 88ms (View: 54, DB: 11) | 200 OK [http://localhost/expense/batch_new]
  [4;36;1mSQL (1.0ms)[0m   [0;1mSET NAMES 'utf8'[0m
  [4;35;1mSQL (0.0ms)[0m   [0mSET SQL_AUTO_IS_NULL=0[0m


Processing ExpenseController#batch_create (for 127.0.0.1 at 2010-05-09 11:46:09) [POST]
  Parameters: {"commit"=>"提交", "authenticity_token"=>"LkdA7b9Y09PN9lbYmjKOi+Ddn6f3JUGd3MCG5yPiWHU=", "expense_items"=>{"date_to(1i)"=>"2010", "date_to(2i)"=>"3", "date_to(3i)"=>"3", "value"=>"10", "note"=>"dddd", "expense_type_id"=>"1", "date_from(1i)"=>"2010", "date_from(2i)"=>"2", "date_from(3i)"=>"9"}}
  [4;36;1mExpenseItem Columns (8.0ms)[0m   [0;1mSHOW FIELDS FROM `expense_items`[0m
  [4;35;1mSQL (8.0ms)[0m   [0mBEGIN[0m
  [4;36;1mExpenseItem Create (1.0ms)[0m   [0;1mINSERT INTO `expense_items` (`updated_at`, `date`, `value`, `expense_type_id`, `note`, `created_at`) VALUES('2010-05-09 03:46:09', '2010-02-09', 10.0, 1, 'dddd', '2010-05-09 03:46:09')[0m
  [4;35;1mSQL (39.0ms)[0m   [0mCOMMIT[0m
  [4;36;1mSQL (1.0ms)[0m   [0;1mBEGIN[0m
  [4;35;1mExpenseItem Create (1.0ms)[0m   [0mINSERT INTO `expense_items` (`updated_at`, `date`, `value`, `expense_type_id`, `note`, `created_at`) VALUES('2010-05-09 03:46:09', '2010-02-10', 10.0, 1, 'dddd', '2010-05-09 03:46:09')[0m
  [4;36;1mSQL (18.0ms)[0m   [0;1mCOMMIT[0m
  [4;35;1mSQL (0.0ms)[0m   [0mBEGIN[0m
  [4;36;1mExpenseItem Create (0.0ms)[0m   [0;1mINSERT INTO `expense_items` (`updated_at`, `date`, `value`, `expense_type_id`, `note`, `created_at`) VALUES('2010-05-09 03:46:09', '2010-02-11', 10.0, 1, 'dddd', '2010-05-09 03:46:09')[0m
  [4;35;1mSQL (17.0ms)[0m   [0mCOMMIT[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mBEGIN[0m
  [4;35;1mExpenseItem Create (0.0ms)[0m   [0mINSERT INTO `expense_items` (`updated_at`, `date`, `value`, `expense_type_id`, `note`, `created_at`) VALUES('2010-05-09 03:46:09', '2010-02-12', 10.0, 1, 'dddd', '2010-05-09 03:46:09')[0m
  [4;36;1mSQL (17.0ms)[0m   [0;1mCOMMIT[0m
  [4;35;1mSQL (0.0ms)[0m   [0mBEGIN[0m
  [4;36;1mExpenseItem Create (0.0ms)[0m   [0;1mINSERT INTO `expense_items` (`updated_at`, `date`, `value`, `expense_type_id`, `note`, `created_at`) VALUES('2010-05-09 03:46:09', '2010-02-13', 10.0, 1, 'dddd', '2010-05-09 03:46:09')[0m
  [4;35;1mSQL (17.0ms)[0m   [0mCOMMIT[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mBEGIN[0m
  [4;35;1mExpenseItem Create (0.0ms)[0m   [0mINSERT INTO `expense_items` (`updated_at`, `date`, `value`, `expense_type_id`, `note`, `created_at`) VALUES('2010-05-09 03:46:09', '2010-02-14', 10.0, 1, 'dddd', '2010-05-09 03:46:09')[0m
  [4;36;1mSQL (16.0ms)[0m   [0;1mCOMMIT[0m
  [4;35;1mSQL (1.0ms)[0m   [0mBEGIN[0m
  [4;36;1mExpenseItem Create (1.0ms)[0m   [0;1mINSERT INTO `expense_items` (`updated_at`, `date`, `value`, `expense_type_id`, `note`, `created_at`) VALUES('2010-05-09 03:46:09', '2010-02-15', 10.0, 1, 'dddd', '2010-05-09 03:46:09')[0m
  [4;35;1mSQL (18.0ms)[0m   [0mCOMMIT[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mBEGIN[0m
  [4;35;1mExpenseItem Create (0.0ms)[0m   [0mINSERT INTO `expense_items` (`updated_at`, `date`, `value`, `expense_type_id`, `note`, `created_at`) VALUES('2010-05-09 03:46:09', '2010-02-16', 10.0, 1, 'dddd', '2010-05-09 03:46:09')[0m
  [4;36;1mSQL (18.0ms)[0m   [0;1mCOMMIT[0m
  [4;35;1mSQL (1.0ms)[0m   [0mBEGIN[0m
  [4;36;1mExpenseItem Create (1.0ms)[0m   [0;1mINSERT INTO `expense_items` (`updated_at`, `date`, `value`, `expense_type_id`, `note`, `created_at`) VALUES('2010-05-09 03:46:09', '2010-02-17', 10.0, 1, 'dddd', '2010-05-09 03:46:09')[0m
  [4;35;1mSQL (19.0ms)[0m   [0mCOMMIT[0m
  [4;36;1mSQL (1.0ms)[0m   [0;1mBEGIN[0m
  [4;35;1mExpenseItem Create (3.0ms)[0m   [0mINSERT INTO `expense_items` (`updated_at`, `date`, `value`, `expense_type_id`, `note`, `created_at`) VALUES('2010-05-09 03:46:09', '2010-02-18', 10.0, 1, 'dddd', '2010-05-09 03:46:09')[0m
  [4;36;1mSQL (30.0ms)[0m   [0;1mCOMMIT[0m
  [4;35;1mSQL (1.0ms)[0m   [0mBEGIN[0m
  [4;36;1mExpenseItem Create (1.0ms)[0m   [0;1mINSERT INTO `expense_items` (`updated_at`, `date`, `value`, `expense_type_id`, `note`, `created_at`) VALUES('2010-05-09 03:46:09', '2010-02-19', 10.0, 1, 'dddd', '2010-05-09 03:46:09')[0m
  [4;35;1mSQL (58.0ms)[0m   [0mCOMMIT[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mBEGIN[0m
  [4;35;1mExpenseItem Create (1.0ms)[0m   [0mINSERT INTO `expense_items` (`updated_at`, `date`, `value`, `expense_type_id`, `note`, `created_at`) VALUES('2010-05-09 03:46:10', '2010-02-20', 10.0, 1, 'dddd', '2010-05-09 03:46:10')[0m
  [4;36;1mSQL (64.0ms)[0m   [0;1mCOMMIT[0m
  [4;35;1mSQL (0.0ms)[0m   [0mBEGIN[0m
  [4;36;1mExpenseItem Create (1.0ms)[0m   [0;1mINSERT INTO `expense_items` (`updated_at`, `date`, `value`, `expense_type_id`, `note`, `created_at`) VALUES('2010-05-09 03:46:10', '2010-02-21', 10.0, 1, 'dddd', '2010-05-09 03:46:10')[0m
  [4;35;1mSQL (15.0ms)[0m   [0mCOMMIT[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mBEGIN[0m
  [4;35;1mExpenseItem Create (0.0ms)[0m   [0mINSERT INTO `expense_items` (`updated_at`, `date`, `value`, `expense_type_id`, `note`, `created_at`) VALUES('2010-05-09 03:46:10', '2010-02-22', 10.0, 1, 'dddd', '2010-05-09 03:46:10')[0m
  [4;36;1mSQL (18.0ms)[0m   [0;1mCOMMIT[0m
  [4;35;1mSQL (0.0ms)[0m   [0mBEGIN[0m
  [4;36;1mExpenseItem Create (0.0ms)[0m   [0;1mINSERT INTO `expense_items` (`updated_at`, `date`, `value`, `expense_type_id`, `note`, `created_at`) VALUES('2010-05-09 03:46:10', '2010-02-23', 10.0, 1, 'dddd', '2010-05-09 03:46:10')[0m
  [4;35;1mSQL (17.0ms)[0m   [0mCOMMIT[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mBEGIN[0m
  [4;35;1mExpenseItem Create (1.0ms)[0m   [0mINSERT INTO `expense_items` (`updated_at`, `date`, `value`, `expense_type_id`, `note`, `created_at`) VALUES('2010-05-09 03:46:10', '2010-02-24', 10.0, 1, 'dddd', '2010-05-09 03:46:10')[0m
  [4;36;1mSQL (18.0ms)[0m   [0;1mCOMMIT[0m
  [4;35;1mSQL (0.0ms)[0m   [0mBEGIN[0m
  [4;36;1mExpenseItem Create (1.0ms)[0m   [0;1mINSERT INTO `expense_items` (`updated_at`, `date`, `value`, `expense_type_id`, `note`, `created_at`) VALUES('2010-05-09 03:46:10', '2010-02-25', 10.0, 1, 'dddd', '2010-05-09 03:46:10')[0m
  [4;35;1mSQL (17.0ms)[0m   [0mCOMMIT[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mBEGIN[0m
  [4;35;1mExpenseItem Create (1.0ms)[0m   [0mINSERT INTO `expense_items` (`updated_at`, `date`, `value`, `expense_type_id`, `note`, `created_at`) VALUES('2010-05-09 03:46:10', '2010-02-26', 10.0, 1, 'dddd', '2010-05-09 03:46:10')[0m
  [4;36;1mSQL (51.0ms)[0m   [0;1mCOMMIT[0m
  [4;35;1mSQL (0.0ms)[0m   [0mBEGIN[0m
  [4;36;1mExpenseItem Create (1.0ms)[0m   [0;1mINSERT INTO `expense_items` (`updated_at`, `date`, `value`, `expense_type_id`, `note`, `created_at`) VALUES('2010-05-09 03:46:10', '2010-02-27', 10.0, 1, 'dddd', '2010-05-09 03:46:10')[0m
  [4;35;1mSQL (17.0ms)[0m   [0mCOMMIT[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mBEGIN[0m
  [4;35;1mExpenseItem Create (1.0ms)[0m   [0mINSERT INTO `expense_items` (`updated_at`, `date`, `value`, `expense_type_id`, `note`, `created_at`) VALUES('2010-05-09 03:46:10', '2010-02-28', 10.0, 1, 'dddd', '2010-05-09 03:46:10')[0m
  [4;36;1mSQL (18.0ms)[0m   [0;1mCOMMIT[0m
  [4;35;1mSQL (0.0ms)[0m   [0mBEGIN[0m
  [4;36;1mExpenseItem Create (1.0ms)[0m   [0;1mINSERT INTO `expense_items` (`updated_at`, `date`, `value`, `expense_type_id`, `note`, `created_at`) VALUES('2010-05-09 03:46:10', '2010-03-01', 10.0, 1, 'dddd', '2010-05-09 03:46:10')[0m
  [4;35;1mSQL (15.0ms)[0m   [0mCOMMIT[0m
  [4;36;1mSQL (1.0ms)[0m   [0;1mBEGIN[0m
  [4;35;1mExpenseItem Create (1.0ms)[0m   [0mINSERT INTO `expense_items` (`updated_at`, `date`, `value`, `expense_type_id`, `note`, `created_at`) VALUES('2010-05-09 03:46:10', '2010-03-02', 10.0, 1, 'dddd', '2010-05-09 03:46:10')[0m
  [4;36;1mSQL (14.0ms)[0m   [0;1mCOMMIT[0m
  [4;35;1mSQL (0.0ms)[0m   [0mBEGIN[0m
  [4;36;1mExpenseItem Create (0.0ms)[0m   [0;1mINSERT INTO `expense_items` (`updated_at`, `date`, `value`, `expense_type_id`, `note`, `created_at`) VALUES('2010-05-09 03:46:10', '2010-03-03', 10.0, 1, 'dddd', '2010-05-09 03:46:10')[0m
  [4;35;1mSQL (17.0ms)[0m   [0mCOMMIT[0m
Redirected to http://localhost:3000/expense/2010/2
Completed in 801ms (DB: 588) | 302 Found [http://localhost/expense/batch_create]
  [4;36;1mSQL (0.0ms)[0m   [0;1mSET NAMES 'utf8'[0m
  [4;35;1mSQL (0.0ms)[0m   [0mSET SQL_AUTO_IS_NULL=0[0m


Processing ExpenseController#index (for 127.0.0.1 at 2010-05-09 11:46:10) [GET]
  Parameters: {"month"=>"2", "year"=>"2010"}
  [4;36;1mExpenseItem Load (1.0ms)[0m   [0;1mSELECT * FROM `expense_items` WHERE (date BETWEEN '2010-02-01' and '2010-02-28') [0m
Rendering template within layouts/expense
Rendering expense/index
  [4;35;1mExpenseItem Columns (9.0ms)[0m   [0mSHOW FIELDS FROM `expense_items`[0m
  [4;36;1mExpenseType Columns (6.0ms)[0m   [0;1mSHOW FIELDS FROM `expense_types`[0m
  [4;35;1mExpenseType Load (10.0ms)[0m   [0mSELECT * FROM `expense_types` WHERE (`expense_types`.`id` = 1) [0m
  [4;36;1mexpense_items_expense_tags Columns (7.0ms)[0m   [0;1mSHOW FIELDS FROM `expense_items_expense_tags`[0m
  [4;35;1mExpenseTag Load (4.0ms)[0m   [0mSELECT * FROM `expense_tags` INNER JOIN `expense_items_expense_tags` ON `expense_tags`.id = `expense_items_expense_tags`.expense_tag_id WHERE (`expense_items_expense_tags`.expense_item_id = 18 ) [0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT * FROM `expense_types` WHERE (`expense_types`.`id` = 1) [0m
  [4;35;1mExpenseTag Load (1.0ms)[0m   [0mSELECT * FROM `expense_tags` INNER JOIN `expense_items_expense_tags` ON `expense_tags`.id = `expense_items_expense_tags`.expense_tag_id WHERE (`expense_items_expense_tags`.expense_item_id = 19 ) [0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT * FROM `expense_types` WHERE (`expense_types`.`id` = 1) [0m
  [4;35;1mExpenseTag Load (1.0ms)[0m   [0mSELECT * FROM `expense_tags` INNER JOIN `expense_items_expense_tags` ON `expense_tags`.id = `expense_items_expense_tags`.expense_tag_id WHERE (`expense_items_expense_tags`.expense_item_id = 20 ) [0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT * FROM `expense_types` WHERE (`expense_types`.`id` = 1) [0m
  [4;35;1mExpenseTag Load (0.0ms)[0m   [0mSELECT * FROM `expense_tags` INNER JOIN `expense_items_expense_tags` ON `expense_tags`.id = `expense_items_expense_tags`.expense_tag_id WHERE (`expense_items_expense_tags`.expense_item_id = 21 ) [0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT * FROM `expense_types` WHERE (`expense_types`.`id` = 1) [0m
  [4;35;1mExpenseTag Load (1.0ms)[0m   [0mSELECT * FROM `expense_tags` INNER JOIN `expense_items_expense_tags` ON `expense_tags`.id = `expense_items_expense_tags`.expense_tag_id WHERE (`expense_items_expense_tags`.expense_item_id = 22 ) [0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT * FROM `expense_types` WHERE (`expense_types`.`id` = 1) [0m
  [4;35;1mExpenseTag Load (1.0ms)[0m   [0mSELECT * FROM `expense_tags` INNER JOIN `expense_items_expense_tags` ON `expense_tags`.id = `expense_items_expense_tags`.expense_tag_id WHERE (`expense_items_expense_tags`.expense_item_id = 23 ) [0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT * FROM `expense_types` WHERE (`expense_types`.`id` = 1) [0m
  [4;35;1mExpenseTag Load (1.0ms)[0m   [0mSELECT * FROM `expense_tags` INNER JOIN `expense_items_expense_tags` ON `expense_tags`.id = `expense_items_expense_tags`.expense_tag_id WHERE (`expense_items_expense_tags`.expense_item_id = 24 ) [0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT * FROM `expense_types` WHERE (`expense_types`.`id` = 1) [0m
  [4;35;1mExpenseTag Load (1.0ms)[0m   [0mSELECT * FROM `expense_tags` INNER JOIN `expense_items_expense_tags` ON `expense_tags`.id = `expense_items_expense_tags`.expense_tag_id WHERE (`expense_items_expense_tags`.expense_item_id = 25 ) [0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT * FROM `expense_types` WHERE (`expense_types`.`id` = 1) [0m
  [4;35;1mExpenseTag Load (1.0ms)[0m   [0mSELECT * FROM `expense_tags` INNER JOIN `expense_items_expense_tags` ON `expense_tags`.id = `expense_items_expense_tags`.expense_tag_id WHERE (`expense_items_expense_tags`.expense_item_id = 26 ) [0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT * FROM `expense_types` WHERE (`expense_types`.`id` = 1) [0m
  [4;35;1mExpenseTag Load (2.0ms)[0m   [0mSELECT * FROM `expense_tags` INNER JOIN `expense_items_expense_tags` ON `expense_tags`.id = `expense_items_expense_tags`.expense_tag_id WHERE (`expense_items_expense_tags`.expense_item_id = 27 ) [0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT * FROM `expense_types` WHERE (`expense_types`.`id` = 1) [0m
  [4;35;1mExpenseTag Load (2.0ms)[0m   [0mSELECT * FROM `expense_tags` INNER JOIN `expense_items_expense_tags` ON `expense_tags`.id = `expense_items_expense_tags`.expense_tag_id WHERE (`expense_items_expense_tags`.expense_item_id = 28 ) [0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT * FROM `expense_types` WHERE (`expense_types`.`id` = 1) [0m
  [4;35;1mExpenseTag Load (1.0ms)[0m   [0mSELECT * FROM `expense_tags` INNER JOIN `expense_items_expense_tags` ON `expense_tags`.id = `expense_items_expense_tags`.expense_tag_id WHERE (`expense_items_expense_tags`.expense_item_id = 29 ) [0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT * FROM `expense_types` WHERE (`expense_types`.`id` = 1) [0m
  [4;35;1mExpenseTag Load (2.0ms)[0m   [0mSELECT * FROM `expense_tags` INNER JOIN `expense_items_expense_tags` ON `expense_tags`.id = `expense_items_expense_tags`.expense_tag_id WHERE (`expense_items_expense_tags`.expense_item_id = 30 ) [0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT * FROM `expense_types` WHERE (`expense_types`.`id` = 1) [0m
  [4;35;1mExpenseTag Load (2.0ms)[0m   [0mSELECT * FROM `expense_tags` INNER JOIN `expense_items_expense_tags` ON `expense_tags`.id = `expense_items_expense_tags`.expense_tag_id WHERE (`expense_items_expense_tags`.expense_item_id = 31 ) [0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT * FROM `expense_types` WHERE (`expense_types`.`id` = 1) [0m
  [4;35;1mExpenseTag Load (4.0ms)[0m   [0mSELECT * FROM `expense_tags` INNER JOIN `expense_items_expense_tags` ON `expense_tags`.id = `expense_items_expense_tags`.expense_tag_id WHERE (`expense_items_expense_tags`.expense_item_id = 32 ) [0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT * FROM `expense_types` WHERE (`expense_types`.`id` = 1) [0m
  [4;35;1mExpenseTag Load (1.0ms)[0m   [0mSELECT * FROM `expense_tags` INNER JOIN `expense_items_expense_tags` ON `expense_tags`.id = `expense_items_expense_tags`.expense_tag_id WHERE (`expense_items_expense_tags`.expense_item_id = 33 ) [0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT * FROM `expense_types` WHERE (`expense_types`.`id` = 1) [0m
  [4;35;1mExpenseTag Load (0.0ms)[0m   [0mSELECT * FROM `expense_tags` INNER JOIN `expense_items_expense_tags` ON `expense_tags`.id = `expense_items_expense_tags`.expense_tag_id WHERE (`expense_items_expense_tags`.expense_item_id = 34 ) [0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT * FROM `expense_types` WHERE (`expense_types`.`id` = 1) [0m
  [4;35;1mExpenseTag Load (0.0ms)[0m   [0mSELECT * FROM `expense_tags` INNER JOIN `expense_items_expense_tags` ON `expense_tags`.id = `expense_items_expense_tags`.expense_tag_id WHERE (`expense_items_expense_tags`.expense_item_id = 35 ) [0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT * FROM `expense_types` WHERE (`expense_types`.`id` = 1) [0m
  [4;35;1mExpenseTag Load (1.0ms)[0m   [0mSELECT * FROM `expense_tags` INNER JOIN `expense_items_expense_tags` ON `expense_tags`.id = `expense_items_expense_tags`.expense_tag_id WHERE (`expense_items_expense_tags`.expense_item_id = 36 ) [0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT * FROM `expense_types` WHERE (`expense_types`.`id` = 1) [0m
  [4;35;1mExpenseTag Load (0.0ms)[0m   [0mSELECT * FROM `expense_tags` INNER JOIN `expense_items_expense_tags` ON `expense_tags`.id = `expense_items_expense_tags`.expense_tag_id WHERE (`expense_items_expense_tags`.expense_item_id = 37 ) [0m
Completed in 406ms (View: 325, DB: 59) | 200 OK [http://localhost/expense/2010/2]
  [4;36;1mSQL (0.0ms)[0m   [0;1mSET NAMES 'utf8'[0m
  [4;35;1mSQL (0.0ms)[0m   [0mSET SQL_AUTO_IS_NULL=0[0m


Processing ExpenseController#index (for 127.0.0.1 at 2010-05-09 11:46:16) [GET]
  Parameters: {"month"=>"3", "year"=>"2010"}
  [4;36;1mExpenseItem Load (3.0ms)[0m   [0;1mSELECT * FROM `expense_items` WHERE (date BETWEEN '2010-03-01' and '2010-03-31') [0m
Rendering template within layouts/expense
Rendering expense/index
  [4;35;1mExpenseItem Columns (8.0ms)[0m   [0mSHOW FIELDS FROM `expense_items`[0m
  [4;36;1mExpenseType Columns (7.0ms)[0m   [0;1mSHOW FIELDS FROM `expense_types`[0m
  [4;35;1mExpenseType Load (9.0ms)[0m   [0mSELECT * FROM `expense_types` WHERE (`expense_types`.`id` = 1) [0m
  [4;36;1mexpense_items_expense_tags Columns (6.0ms)[0m   [0;1mSHOW FIELDS FROM `expense_items_expense_tags`[0m
  [4;35;1mExpenseTag Load (4.0ms)[0m   [0mSELECT * FROM `expense_tags` INNER JOIN `expense_items_expense_tags` ON `expense_tags`.id = `expense_items_expense_tags`.expense_tag_id WHERE (`expense_items_expense_tags`.expense_item_id = 38 ) [0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT * FROM `expense_types` WHERE (`expense_types`.`id` = 1) [0m
  [4;35;1mExpenseTag Load (1.0ms)[0m   [0mSELECT * FROM `expense_tags` INNER JOIN `expense_items_expense_tags` ON `expense_tags`.id = `expense_items_expense_tags`.expense_tag_id WHERE (`expense_items_expense_tags`.expense_item_id = 39 ) [0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT * FROM `expense_types` WHERE (`expense_types`.`id` = 1) [0m
  [4;35;1mExpenseTag Load (1.0ms)[0m   [0mSELECT * FROM `expense_tags` INNER JOIN `expense_items_expense_tags` ON `expense_tags`.id = `expense_items_expense_tags`.expense_tag_id WHERE (`expense_items_expense_tags`.expense_item_id = 40 ) [0m
Completed in 131ms (View: 71, DB: 39) | 200 OK [http://localhost/expense/2010/3]
  [4;36;1mSQL (1.0ms)[0m   [0;1mSET NAMES 'utf8'[0m
  [4;35;1mSQL (0.0ms)[0m   [0mSET SQL_AUTO_IS_NULL=0[0m


Processing ExpenseController#index (for 127.0.0.1 at 2010-05-09 11:46:19) [GET]
  Parameters: {"month"=>"4", "year"=>"2010"}
  [4;36;1mExpenseItem Load (1.0ms)[0m   [0;1mSELECT * FROM `expense_items` WHERE (date BETWEEN '2010-04-01' and '2010-04-30') [0m
Rendering template within layouts/expense
Rendering expense/index
  [4;35;1mExpenseItem Columns (9.0ms)[0m   [0mSHOW FIELDS FROM `expense_items`[0m
  [4;36;1mExpenseType Columns (7.0ms)[0m   [0;1mSHOW FIELDS FROM `expense_types`[0m
  [4;35;1mExpenseType Load (9.0ms)[0m   [0mSELECT * FROM `expense_types` WHERE (`expense_types`.`id` = 1) [0m
  [4;36;1mexpense_items_expense_tags Columns (13.0ms)[0m   [0;1mSHOW FIELDS FROM `expense_items_expense_tags`[0m
  [4;35;1mExpenseTag Load (1.0ms)[0m   [0mSELECT * FROM `expense_tags` INNER JOIN `expense_items_expense_tags` ON `expense_tags`.id = `expense_items_expense_tags`.expense_tag_id WHERE (`expense_items_expense_tags`.expense_item_id = 1 ) [0m
  [4;36;1mExpenseType Load (3.0ms)[0m   [0;1mSELECT * FROM `expense_types` WHERE (`expense_types`.`id` = 2) [0m
  [4;35;1mExpenseTag Load (1.0ms)[0m   [0mSELECT * FROM `expense_tags` INNER JOIN `expense_items_expense_tags` ON `expense_tags`.id = `expense_items_expense_tags`.expense_tag_id WHERE (`expense_items_expense_tags`.expense_item_id = 2 ) [0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT * FROM `expense_types` WHERE (`expense_types`.`id` = 1) [0m
  [4;35;1mExpenseTag Load (1.0ms)[0m   [0mSELECT * FROM `expense_tags` INNER JOIN `expense_items_expense_tags` ON `expense_tags`.id = `expense_items_expense_tags`.expense_tag_id WHERE (`expense_items_expense_tags`.expense_item_id = 3 ) [0m
Completed in 144ms (View: 80, DB: 46) | 200 OK [http://localhost/expense/2010/4]
  [4;36;1mSQL (1.0ms)[0m   [0;1mSET NAMES 'utf8'[0m
  [4;35;1mSQL (1.0ms)[0m   [0mSET SQL_AUTO_IS_NULL=0[0m


Processing ExpenseController#index (for 127.0.0.1 at 2010-05-09 11:46:20) [GET]
  Parameters: {"month"=>"5", "year"=>"2010"}
  [4;36;1mExpenseItem Load (2.0ms)[0m   [0;1mSELECT * FROM `expense_items` WHERE (date BETWEEN '2010-05-01' and '2010-05-31') [0m
Rendering template within layouts/expense
Rendering expense/index
  [4;35;1mExpenseItem Columns (9.0ms)[0m   [0mSHOW FIELDS FROM `expense_items`[0m
  [4;36;1mExpenseType Columns (7.0ms)[0m   [0;1mSHOW FIELDS FROM `expense_types`[0m
  [4;35;1mExpenseType Load (9.0ms)[0m   [0mSELECT * FROM `expense_types` WHERE (`expense_types`.`id` = 1) [0m
  [4;36;1mexpense_items_expense_tags Columns (7.0ms)[0m   [0;1mSHOW FIELDS FROM `expense_items_expense_tags`[0m
  [4;35;1mExpenseTag Load (4.0ms)[0m   [0mSELECT * FROM `expense_tags` INNER JOIN `expense_items_expense_tags` ON `expense_tags`.id = `expense_items_expense_tags`.expense_tag_id WHERE (`expense_items_expense_tags`.expense_item_id = 4 ) [0m
  [4;36;1mExpenseTag Columns (6.0ms)[0m   [0;1mSHOW FIELDS FROM `expense_tags`[0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM `expense_types` WHERE (`expense_types`.`id` = 1) [0m
  [4;36;1mExpenseTag Load (1.0ms)[0m   [0;1mSELECT * FROM `expense_tags` INNER JOIN `expense_items_expense_tags` ON `expense_tags`.id = `expense_items_expense_tags`.expense_tag_id WHERE (`expense_items_expense_tags`.expense_item_id = 5 ) [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM `expense_types` WHERE (`expense_types`.`id` = 1) [0m
  [4;36;1mExpenseTag Load (0.0ms)[0m   [0;1mSELECT * FROM `expense_tags` INNER JOIN `expense_items_expense_tags` ON `expense_tags`.id = `expense_items_expense_tags`.expense_tag_id WHERE (`expense_items_expense_tags`.expense_item_id = 6 ) [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM `expense_types` WHERE (`expense_types`.`id` = 1) [0m
  [4;36;1mExpenseTag Load (1.0ms)[0m   [0;1mSELECT * FROM `expense_tags` INNER JOIN `expense_items_expense_tags` ON `expense_tags`.id = `expense_items_expense_tags`.expense_tag_id WHERE (`expense_items_expense_tags`.expense_item_id = 7 ) [0m
  [4;35;1mExpenseType Load (0.0ms)[0m   [0mSELECT * FROM `expense_types` WHERE (`expense_types`.`id` = 2) [0m
  [4;36;1mExpenseTag Load (1.0ms)[0m   [0;1mSELECT * FROM `expense_tags` INNER JOIN `expense_items_expense_tags` ON `expense_tags`.id = `expense_items_expense_tags`.expense_tag_id WHERE (`expense_items_expense_tags`.expense_item_id = 8 ) [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM `expense_types` WHERE (`expense_types`.`id` = 1) [0m
  [4;36;1mExpenseTag Load (1.0ms)[0m   [0;1mSELECT * FROM `expense_tags` INNER JOIN `expense_items_expense_tags` ON `expense_tags`.id = `expense_items_expense_tags`.expense_tag_id WHERE (`expense_items_expense_tags`.expense_item_id = 9 ) [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM `expense_types` WHERE (`expense_types`.`id` = 2) [0m
  [4;36;1mExpenseTag Load (1.0ms)[0m   [0;1mSELECT * FROM `expense_tags` INNER JOIN `expense_items_expense_tags` ON `expense_tags`.id = `expense_items_expense_tags`.expense_tag_id WHERE (`expense_items_expense_tags`.expense_item_id = 10 ) [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM `expense_types` WHERE (`expense_types`.`id` = 1) [0m
  [4;36;1mExpenseTag Load (1.0ms)[0m   [0;1mSELECT * FROM `expense_tags` INNER JOIN `expense_items_expense_tags` ON `expense_tags`.id = `expense_items_expense_tags`.expense_tag_id WHERE (`expense_items_expense_tags`.expense_item_id = 11 ) [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM `expense_types` WHERE (`expense_types`.`id` = 1) [0m
  [4;36;1mExpenseTag Load (1.0ms)[0m   [0;1mSELECT * FROM `expense_tags` INNER JOIN `expense_items_expense_tags` ON `expense_tags`.id = `expense_items_expense_tags`.expense_tag_id WHERE (`expense_items_expense_tags`.expense_item_id = 12 ) [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM `expense_types` WHERE (`expense_types`.`id` = 1) [0m
  [4;36;1mExpenseTag Load (0.0ms)[0m   [0;1mSELECT * FROM `expense_tags` INNER JOIN `expense_items_expense_tags` ON `expense_tags`.id = `expense_items_expense_tags`.expense_tag_id WHERE (`expense_items_expense_tags`.expense_item_id = 13 ) [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM `expense_types` WHERE (`expense_types`.`id` = 1) [0m
  [4;36;1mExpenseTag Load (1.0ms)[0m   [0;1mSELECT * FROM `expense_tags` INNER JOIN `expense_items_expense_tags` ON `expense_tags`.id = `expense_items_expense_tags`.expense_tag_id WHERE (`expense_items_expense_tags`.expense_item_id = 14 ) [0m
  [4;35;1mExpenseType Load (1.0ms)[0m   [0mSELECT * FROM `expense_types` WHERE (`expense_types`.`id` = 3) [0m
  [4;36;1mExpenseTag Load (1.0ms)[0m   [0;1mSELECT * FROM `expense_tags` INNER JOIN `expense_items_expense_tags` ON `expense_tags`.id = `expense_items_expense_tags`.expense_tag_id WHERE (`expense_items_expense_tags`.expense_item_id = 15 ) [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM `expense_types` WHERE (`expense_types`.`id` = 1) [0m
  [4;36;1mExpenseTag Load (1.0ms)[0m   [0;1mSELECT * FROM `expense_tags` INNER JOIN `expense_items_expense_tags` ON `expense_tags`.id = `expense_items_expense_tags`.expense_tag_id WHERE (`expense_items_expense_tags`.expense_item_id = 16 ) [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM `expense_types` WHERE (`expense_types`.`id` = 1) [0m
  [4;36;1mExpenseTag Load (1.0ms)[0m   [0;1mSELECT * FROM `expense_tags` INNER JOIN `expense_items_expense_tags` ON `expense_tags`.id = `expense_items_expense_tags`.expense_tag_id WHERE (`expense_items_expense_tags`.expense_item_id = 17 ) [0m
Completed in 260ms (View: 185, DB: 58) | 200 OK [http://localhost/expense/2010/5]
  [4;35;1mSQL (1.0ms)[0m   [0mSET NAMES 'utf8'[0m
  [4;36;1mSQL (1.0ms)[0m   [0;1mSET SQL_AUTO_IS_NULL=0[0m


Processing ExpenseController#index (for 127.0.0.1 at 2010-05-09 11:46:22) [GET]
  Parameters: {"month"=>"4", "year"=>"2010"}
  [4;35;1mExpenseItem Load (2.0ms)[0m   [0mSELECT * FROM `expense_items` WHERE (date BETWEEN '2010-04-01' and '2010-04-30') [0m
Rendering template within layouts/expense
Rendering expense/index
  [4;36;1mExpenseItem Columns (11.0ms)[0m   [0;1mSHOW FIELDS FROM `expense_items`[0m
  [4;35;1mExpenseType Columns (8.0ms)[0m   [0mSHOW FIELDS FROM `expense_types`[0m
  [4;36;1mExpenseType Load (12.0ms)[0m   [0;1mSELECT * FROM `expense_types` WHERE (`expense_types`.`id` = 1) [0m
  [4;35;1mexpense_items_expense_tags Columns (7.0ms)[0m   [0mSHOW FIELDS FROM `expense_items_expense_tags`[0m
  [4;36;1mExpenseTag Load (3.0ms)[0m   [0;1mSELECT * FROM `expense_tags` INNER JOIN `expense_items_expense_tags` ON `expense_tags`.id = `expense_items_expense_tags`.expense_tag_id WHERE (`expense_items_expense_tags`.expense_item_id = 1 ) [0m
  [4;35;1mExpenseType Load (1.0ms)[0m   [0mSELECT * FROM `expense_types` WHERE (`expense_types`.`id` = 2) [0m
  [4;36;1mExpenseTag Load (1.0ms)[0m   [0;1mSELECT * FROM `expense_tags` INNER JOIN `expense_items_expense_tags` ON `expense_tags`.id = `expense_items_expense_tags`.expense_tag_id WHERE (`expense_items_expense_tags`.expense_item_id = 2 ) [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM `expense_types` WHERE (`expense_types`.`id` = 1) [0m
  [4;36;1mExpenseTag Load (1.0ms)[0m   [0;1mSELECT * FROM `expense_tags` INNER JOIN `expense_items_expense_tags` ON `expense_tags`.id = `expense_items_expense_tags`.expense_tag_id WHERE (`expense_items_expense_tags`.expense_item_id = 3 ) [0m
Completed in 139ms (View: 73, DB: 48) | 200 OK [http://localhost/expense/2010/4]
  [4;35;1mSQL (0.0ms)[0m   [0mSET NAMES 'utf8'[0m
  [4;36;1mSQL (1.0ms)[0m   [0;1mSET SQL_AUTO_IS_NULL=0[0m


Processing ExpenseController#index (for 127.0.0.1 at 2010-05-09 11:46:23) [GET]
  Parameters: {"month"=>"3", "year"=>"2010"}
  [4;35;1mExpenseItem Load (1.0ms)[0m   [0mSELECT * FROM `expense_items` WHERE (date BETWEEN '2010-03-01' and '2010-03-31') [0m
Rendering template within layouts/expense
Rendering expense/index
  [4;36;1mExpenseItem Columns (9.0ms)[0m   [0;1mSHOW FIELDS FROM `expense_items`[0m
  [4;35;1mExpenseType Columns (6.0ms)[0m   [0mSHOW FIELDS FROM `expense_types`[0m
  [4;36;1mExpenseType Load (9.0ms)[0m   [0;1mSELECT * FROM `expense_types` WHERE (`expense_types`.`id` = 1) [0m
  [4;35;1mexpense_items_expense_tags Columns (6.0ms)[0m   [0mSHOW FIELDS FROM `expense_items_expense_tags`[0m
  [4;36;1mExpenseTag Load (4.0ms)[0m   [0;1mSELECT * FROM `expense_tags` INNER JOIN `expense_items_expense_tags` ON `expense_tags`.id = `expense_items_expense_tags`.expense_tag_id WHERE (`expense_items_expense_tags`.expense_item_id = 38 ) [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM `expense_types` WHERE (`expense_types`.`id` = 1) [0m
  [4;36;1mExpenseTag Load (1.0ms)[0m   [0;1mSELECT * FROM `expense_tags` INNER JOIN `expense_items_expense_tags` ON `expense_tags`.id = `expense_items_expense_tags`.expense_tag_id WHERE (`expense_items_expense_tags`.expense_item_id = 39 ) [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM `expense_types` WHERE (`expense_types`.`id` = 1) [0m
  [4;36;1mExpenseTag Load (1.0ms)[0m   [0;1mSELECT * FROM `expense_tags` INNER JOIN `expense_items_expense_tags` ON `expense_tags`.id = `expense_items_expense_tags`.expense_tag_id WHERE (`expense_items_expense_tags`.expense_item_id = 40 ) [0m
Completed in 136ms (View: 78, DB: 38) | 200 OK [http://localhost/expense/2010/3]
  [4;35;1mSQL (0.0ms)[0m   [0mSET NAMES 'utf8'[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mSET SQL_AUTO_IS_NULL=0[0m


Processing ExpenseItemsController#new (for 127.0.0.1 at 2010-05-09 11:46:41) [GET]
  [4;35;1mExpenseItem Columns (8.0ms)[0m   [0mSHOW FIELDS FROM `expense_items`[0m
  [4;36;1mExpenseType Load (1.0ms)[0m   [0;1mSELECT * FROM `expense_types` [0m
  [4;35;1mExpenseType Columns (6.0ms)[0m   [0mSHOW FIELDS FROM `expense_types`[0m
  [4;36;1mExpenseTag Load (1.0ms)[0m   [0;1mSELECT * FROM `expense_tags` [0m
Rendering template within layouts/expense_items
Rendering expense_items/new
  [4;35;1mExpenseTag Columns (6.0ms)[0m   [0mSHOW FIELDS FROM `expense_tags`[0m
Completed in 118ms (View: 38, DB: 22) | 200 OK [http://localhost/expense_items/new]
  [4;36;1mSQL (1.0ms)[0m   [0;1mSET NAMES 'utf8'[0m
  [4;35;1mSQL (1.0ms)[0m   [0mSET SQL_AUTO_IS_NULL=0[0m
  [4;36;1mSQL (3.0ms)[0m   [0;1mSHOW TABLES[0m
  [4;35;1mSQL (0.0ms)[0m   [0mSELECT version FROM schema_migrations[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mSET NAMES 'utf8'[0m
  [4;35;1mSQL (0.0ms)[0m   [0mSET SQL_AUTO_IS_NULL=0[0m
  [4;36;1mSQL (1842.1ms)[0m   [0;1mDROP DATABASE IF EXISTS `finance_test`[0m
  [4;35;1mSQL (3.0ms)[0m   [0mCREATE DATABASE `finance_test` DEFAULT CHARACTER SET `utf8`[0m
  [4;36;1mSQL (1.0ms)[0m   [0;1mSET NAMES 'utf8'[0m
  [4;35;1mSQL (1.0ms)[0m   [0mSET SQL_AUTO_IS_NULL=0[0m
  [4;36;1mSQL (1.0ms)[0m   [0;1mSHOW TABLES[0m
  [4;35;1mSQL (62.0ms)[0m   [0mCREATE TABLE `expense_items` (`id` int(11) DEFAULT NULL auto_increment PRIMARY KEY, `date` date NOT NULL, `expense_type_id` int(11) NOT NULL, `value` float NOT NULL, `note` text, `created_at` datetime, `updated_at` datetime) ENGINE=InnoDB[0m
  [4;36;1mSQL (183.0ms)[0m   [0;1mCREATE INDEX `expense_type_foreign_key` ON `expense_items` (`expense_type_id`)[0m
  [4;35;1mSQL (4.0ms)[0m   [0mSHOW TABLES[0m
  [4;36;1mSQL (61.0ms)[0m   [0;1mCREATE TABLE `expense_items_expense_tags` (`expense_item_id` int(11) NOT NULL, `expense_tag_id` int(11) NOT NULL) ENGINE=InnoDB[0m
  [4;35;1mSQL (124.0ms)[0m   [0mCREATE UNIQUE INDEX `index_items_tags` ON `expense_items_expense_tags` (`expense_item_id`, `expense_tag_id`)[0m
  [4;36;1mSQL (141.0ms)[0m   [0;1mCREATE INDEX `index_tags` ON `expense_items_expense_tags` (`expense_item_id`)[0m
  [4;35;1mSQL (224.0ms)[0m   [0mCREATE INDEX `foreign_key_tag_id` ON `expense_items_expense_tags` (`expense_tag_id`)[0m
  [4;36;1mSQL (4.0ms)[0m   [0;1mSHOW TABLES[0m
  [4;35;1mSQL (58.0ms)[0m   [0mCREATE TABLE `expense_tags` (`id` int(11) DEFAULT NULL auto_increment PRIMARY KEY, `name` varchar(255) NOT NULL, `created_at` datetime, `updated_at` datetime) ENGINE=InnoDB[0m
  [4;36;1mSQL (2.0ms)[0m   [0;1mSHOW TABLES[0m
  [4;35;1mSQL (54.0ms)[0m   [0mCREATE TABLE `expense_types` (`id` int(11) DEFAULT NULL auto_increment PRIMARY KEY, `description` varchar(255) NOT NULL, `created_at` datetime, `updated_at` datetime) ENGINE=InnoDB[0m
  [4;36;1mSQL (3.0ms)[0m   [0;1mSHOW TABLES[0m
  [4;35;1mSQL (64.0ms)[0m   [0mCREATE TABLE `schema_migrations` (`version` varchar(255) NOT NULL) ENGINE=InnoDB[0m
  [4;36;1mSQL (141.0ms)[0m   [0;1mCREATE UNIQUE INDEX `unique_schema_migrations` ON `schema_migrations` (`version`)[0m
  [4;35;1mSQL (7.0ms)[0m   [0mSHOW TABLES[0m
  [4;36;1mSQL (1.0ms)[0m   [0;1mSELECT version FROM `schema_migrations`[0m
  [4;35;1mSQL (10.0ms)[0m   [0mINSERT INTO `schema_migrations` (version) VALUES ('20100430145224')[0m
  [4;36;1mSQL (53.0ms)[0m   [0;1mINSERT INTO `schema_migrations` (version) VALUES ('20100422124419')[0m
  [4;35;1mSQL (40.0ms)[0m   [0mINSERT INTO `schema_migrations` (version) VALUES ('20100422125245')[0m
  [4;36;1mSQL (12.0ms)[0m   [0;1mINSERT INTO `schema_migrations` (version) VALUES ('20100422125532')[0m
  [4;35;1mSQL (16.0ms)[0m   [0mINSERT INTO `schema_migrations` (version) VALUES ('20100430075711')[0m
  [4;36;1mSQL (16.0ms)[0m   [0;1mINSERT INTO `schema_migrations` (version) VALUES ('20100430084030')[0m
